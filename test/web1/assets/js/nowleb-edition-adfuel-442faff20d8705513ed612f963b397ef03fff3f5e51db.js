(()=>{var ut=(v=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(v,{get:(ae,n)=>(typeof require<"u"?require:ae)[n]}):v)(function(v){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+v+'" is not supported')});var Ve=(v,ae)=>()=>(ae||v((ae={exports:{}}).exports,ae),ae.exports);var Dt=Ve((s0,ur)=>{var vd=Array.isArray;ur.exports=vd});var wn=Ve((d0,lr)=>{var bd=typeof window=="object"&&window&&window.Object===Object&&window;lr.exports=bd});var Mt=Ve((u0,cr)=>{var yd=wn(),Ad=typeof self=="object"&&self&&self.Object===Object&&self,Id=yd||Ad||Function("return this")();cr.exports=Id});var Xt=Ve((l0,gr)=>{var wd=Mt(),Ed=wd.Symbol;gr.exports=Ed});var hr=Ve((c0,mr)=>{var pr=Xt(),fr=Object.prototype,Od=fr.hasOwnProperty,Cd=fr.toString,Qt=pr?pr.toStringTag:void 0;function _d(v){var ae=Od.call(v,Qt),n=v[Qt];try{v[Qt]=void 0;var d=!0}catch{}var b=Cd.call(v);return d&&(ae?v[Qt]=n:delete v[Qt]),b}mr.exports=_d});var br=Ve((g0,vr)=>{var Sd=Object.prototype,Td=Sd.toString;function Dd(v){return Td.call(v)}vr.exports=Dd});var Ft=Ve((p0,Ir)=>{var yr=Xt(),Ud=hr(),Nd=br(),Pd="[object Null]",Rd="[object Undefined]",Ar=yr?yr.toStringTag:void 0;function Md(v){return v==null?v===void 0?Rd:Pd:Ar&&Ar in Object(v)?Ud(v):Nd(v)}Ir.exports=Md});var Bt=Ve((f0,wr)=>{function xd(v){return v!=null&&typeof v=="object"}wr.exports=xd});var cn=Ve((m0,Er)=>{var kd=Ft(),Ld=Bt(),Fd="[object Symbol]";function Bd(v){return typeof v=="symbol"||Ld(v)&&kd(v)==Fd}Er.exports=Bd});var gn=Ve((h0,Or)=>{var jd=Dt(),Gd=cn(),Vd=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qd=/^\w*$/;function Wd(v,ae){if(jd(v))return!1;var n=typeof v;return n=="number"||n=="symbol"||n=="boolean"||v==null||Gd(v)?!0:qd.test(v)||!Vd.test(v)||ae!=null&&v in Object(ae)}Or.exports=Wd});var pn=Ve((v0,Cr)=>{function Hd(v){var ae=typeof v;return v!=null&&(ae=="object"||ae=="function")}Cr.exports=Hd});var En=Ve((b0,_r)=>{var Jd=Ft(),zd=pn(),Kd="[object AsyncFunction]",Yd="[object Function]",$d="[object GeneratorFunction]",Xd="[object Proxy]";function Qd(v){if(!zd(v))return!1;var ae=Jd(v);return ae==Yd||ae==$d||ae==Kd||ae==Xd}_r.exports=Qd});var Tr=Ve((y0,Sr)=>{var Zd=Mt(),eu=Zd["__core-js_shared__"];Sr.exports=eu});var Nr=Ve((A0,Ur)=>{var On=Tr(),Dr=function(){var v=/[^.]+$/.exec(On&&On.keys&&On.keys.IE_PROTO||"");return v?"Symbol(src)_1."+v:""}();function tu(v){return!!Dr&&Dr in v}Ur.exports=tu});var Cn=Ve((I0,Pr)=>{var nu=Function.prototype,ru=nu.toString;function ou(v){if(v!=null){try{return ru.call(v)}catch{}try{return v+""}catch{}}return""}Pr.exports=ou});var Mr=Ve((w0,Rr)=>{var iu=En(),au=Nr(),su=pn(),du=Cn(),uu=/[\\^$.*+?()[\]{}|]/g,lu=/^\[object .+?Constructor\]$/,cu=Function.prototype,gu=Object.prototype,pu=cu.toString,fu=gu.hasOwnProperty,mu=RegExp("^"+pu.call(fu).replace(uu,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function hu(v){if(!su(v)||au(v))return!1;var ae=iu(v)?mu:lu;return ae.test(du(v))}Rr.exports=hu});var kr=Ve((E0,xr)=>{function vu(v,ae){return v==null?void 0:v[ae]}xr.exports=vu});var Gt=Ve((O0,Lr)=>{var bu=Mr(),yu=kr();function Au(v,ae){var n=yu(v,ae);return bu(n)?n:void 0}Lr.exports=Au});var Zt=Ve((C0,Fr)=>{var Iu=Gt(),wu=Iu(Object,"create");Fr.exports=wu});var Gr=Ve((_0,jr)=>{var Br=Zt();function Eu(){this.__data__=Br?Br(null):{},this.size=0}jr.exports=Eu});var qr=Ve((S0,Vr)=>{function Ou(v){var ae=this.has(v)&&delete this.__data__[v];return this.size-=ae?1:0,ae}Vr.exports=Ou});var Hr=Ve((T0,Wr)=>{var Cu=Zt(),_u="__lodash_hash_undefined__",Su=Object.prototype,Tu=Su.hasOwnProperty;function Du(v){var ae=this.__data__;if(Cu){var n=ae[v];return n===_u?void 0:n}return Tu.call(ae,v)?ae[v]:void 0}Wr.exports=Du});var zr=Ve((D0,Jr)=>{var Uu=Zt(),Nu=Object.prototype,Pu=Nu.hasOwnProperty;function Ru(v){var ae=this.__data__;return Uu?ae[v]!==void 0:Pu.call(ae,v)}Jr.exports=Ru});var Yr=Ve((U0,Kr)=>{var Mu=Zt(),xu="__lodash_hash_undefined__";function ku(v,ae){var n=this.__data__;return this.size+=this.has(v)?0:1,n[v]=Mu&&ae===void 0?xu:ae,this}Kr.exports=ku});var Xr=Ve((N0,$r)=>{var Lu=Gr(),Fu=qr(),Bu=Hr(),ju=zr(),Gu=Yr();function Wt(v){var ae=-1,n=v==null?0:v.length;for(this.clear();++ae<n;){var d=v[ae];this.set(d[0],d[1])}}Wt.prototype.clear=Lu;Wt.prototype.delete=Fu;Wt.prototype.get=Bu;Wt.prototype.has=ju;Wt.prototype.set=Gu;$r.exports=Wt});var Zr=Ve((P0,Qr)=>{function Vu(){this.__data__=[],this.size=0}Qr.exports=Vu});var _n=Ve((R0,eo)=>{function qu(v,ae){return v===ae||v!==v&&ae!==ae}eo.exports=qu});var en=Ve((M0,to)=>{var Wu=_n();function Hu(v,ae){for(var n=v.length;n--;)if(Wu(v[n][0],ae))return n;return-1}to.exports=Hu});var ro=Ve((x0,no)=>{var Ju=en(),zu=Array.prototype,Ku=zu.splice;function Yu(v){var ae=this.__data__,n=Ju(ae,v);if(n<0)return!1;var d=ae.length-1;return n==d?ae.pop():Ku.call(ae,n,1),--this.size,!0}no.exports=Yu});var io=Ve((k0,oo)=>{var $u=en();function Xu(v){var ae=this.__data__,n=$u(ae,v);return n<0?void 0:ae[n][1]}oo.exports=Xu});var so=Ve((L0,ao)=>{var Qu=en();function Zu(v){return Qu(this.__data__,v)>-1}ao.exports=Zu});var lo=Ve((F0,uo)=>{var el=en();function tl(v,ae){var n=this.__data__,d=el(n,v);return d<0?(++this.size,n.push([v,ae])):n[d][1]=ae,this}uo.exports=tl});var tn=Ve((B0,co)=>{var nl=Zr(),rl=ro(),ol=io(),il=so(),al=lo();function Ht(v){var ae=-1,n=v==null?0:v.length;for(this.clear();++ae<n;){var d=v[ae];this.set(d[0],d[1])}}Ht.prototype.clear=nl;Ht.prototype.delete=rl;Ht.prototype.get=ol;Ht.prototype.has=il;Ht.prototype.set=al;co.exports=Ht});var fn=Ve((j0,go)=>{var sl=Gt(),dl=Mt(),ul=sl(dl,"Map");go.exports=ul});var mo=Ve((G0,fo)=>{var po=Xr(),ll=tn(),cl=fn();function gl(){this.size=0,this.__data__={hash:new po,map:new(cl||ll),string:new po}}fo.exports=gl});var vo=Ve((V0,ho)=>{function pl(v){var ae=typeof v;return ae=="string"||ae=="number"||ae=="symbol"||ae=="boolean"?v!=="__proto__":v===null}ho.exports=pl});var nn=Ve((q0,bo)=>{var fl=vo();function ml(v,ae){var n=v.__data__;return fl(ae)?n[typeof ae=="string"?"string":"hash"]:n.map}bo.exports=ml});var Ao=Ve((W0,yo)=>{var hl=nn();function vl(v){var ae=hl(this,v).delete(v);return this.size-=ae?1:0,ae}yo.exports=vl});var wo=Ve((H0,Io)=>{var bl=nn();function yl(v){return bl(this,v).get(v)}Io.exports=yl});var Oo=Ve((J0,Eo)=>{var Al=nn();function Il(v){return Al(this,v).has(v)}Eo.exports=Il});var _o=Ve((z0,Co)=>{var wl=nn();function El(v,ae){var n=wl(this,v),d=n.size;return n.set(v,ae),this.size+=n.size==d?0:1,this}Co.exports=El});var mn=Ve((K0,So)=>{var Ol=mo(),Cl=Ao(),_l=wo(),Sl=Oo(),Tl=_o();function Jt(v){var ae=-1,n=v==null?0:v.length;for(this.clear();++ae<n;){var d=v[ae];this.set(d[0],d[1])}}Jt.prototype.clear=Ol;Jt.prototype.delete=Cl;Jt.prototype.get=_l;Jt.prototype.has=Sl;Jt.prototype.set=Tl;So.exports=Jt});var Uo=Ve((Y0,Do)=>{var To=mn(),Dl="Expected a function";function Sn(v,ae){if(typeof v!="function"||ae!=null&&typeof ae!="function")throw new TypeError(Dl);var n=function(){var d=arguments,b=ae?ae.apply(this,d):d[0],G=n.cache;if(G.has(b))return G.get(b);var y=v.apply(this,d);return n.cache=G.set(b,y)||G,y};return n.cache=new(Sn.Cache||To),n}Sn.Cache=To;Do.exports=Sn});var Po=Ve(($0,No)=>{var Ul=Uo(),Nl=500;function Pl(v){var ae=Ul(v,function(d){return n.size===Nl&&n.clear(),d}),n=ae.cache;return ae}No.exports=Pl});var Mo=Ve((X0,Ro)=>{var Rl=Po(),Ml=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xl=/\\(\\)?/g,kl=Rl(function(v){var ae=[];return v.charCodeAt(0)===46&&ae.push(""),v.replace(Ml,function(n,d,b,G){ae.push(b?G.replace(xl,"$1"):d||n)}),ae});Ro.exports=kl});var ko=Ve((Q0,xo)=>{function Ll(v,ae){for(var n=-1,d=v==null?0:v.length,b=Array(d);++n<d;)b[n]=ae(v[n],n,v);return b}xo.exports=Ll});var Vo=Ve((Z0,Go)=>{var Lo=Xt(),Fl=ko(),Bl=Dt(),jl=cn(),Gl=1/0,Fo=Lo?Lo.prototype:void 0,Bo=Fo?Fo.toString:void 0;function jo(v){if(typeof v=="string")return v;if(Bl(v))return Fl(v,jo)+"";if(jl(v))return Bo?Bo.call(v):"";var ae=v+"";return ae=="0"&&1/v==-Gl?"-0":ae}Go.exports=jo});var Wo=Ve((eh,qo)=>{var Vl=Vo();function ql(v){return v==null?"":Vl(v)}qo.exports=ql});var Tn=Ve((th,Ho)=>{var Wl=Dt(),Hl=gn(),Jl=Mo(),zl=Wo();function Kl(v,ae){return Wl(v)?v:Hl(v,ae)?[v]:Jl(zl(v))}Ho.exports=Kl});var rn=Ve((nh,Jo)=>{var Yl=cn(),$l=1/0;function Xl(v){if(typeof v=="string"||Yl(v))return v;var ae=v+"";return ae=="0"&&1/v==-$l?"-0":ae}Jo.exports=Xl});var Dn=Ve((rh,zo)=>{var Ql=Tn(),Zl=rn();function ec(v,ae){ae=Ql(ae,v);for(var n=0,d=ae.length;v!=null&&n<d;)v=v[Zl(ae[n++])];return n&&n==d?v:void 0}zo.exports=ec});var Un=Ve((oh,Ko)=>{var tc=Dn();function nc(v,ae,n){var d=v==null?void 0:tc(v,ae);return d===void 0?n:d}Ko.exports=nc});var Nn=Ve((ih,Yo)=>{function rc(v,ae){return function(n){return v(ae(n))}}Yo.exports=rc});var Xo=Ve((ah,$o)=>{var oc=Nn(),ic=oc(Object.getPrototypeOf,Object);$o.exports=ic});var ei=Ve((sh,Zo)=>{var ac=Ft(),sc=Xo(),dc=Bt(),uc="[object Object]",lc=Function.prototype,cc=Object.prototype,Qo=lc.toString,gc=cc.hasOwnProperty,pc=Qo.call(Object);function fc(v){if(!dc(v)||ac(v)!=uc)return!1;var ae=sc(v);if(ae===null)return!0;var n=gc.call(ae,"constructor")&&ae.constructor;return typeof n=="function"&&n instanceof n&&Qo.call(n)==pc}Zo.exports=fc});var ni=Ve((dh,ti)=>{var mc=Ft(),hc=Dt(),vc=Bt(),bc="[object String]";function yc(v){return typeof v=="string"||!hc(v)&&vc(v)&&mc(v)==bc}ti.exports=yc});var oi=Ve((uh,ri)=>{function Ac(v,ae,n,d){var b=-1,G=v==null?0:v.length;for(d&&G&&(n=v[++b]);++b<G;)n=ae(n,v[b],b,v);return n}ri.exports=Ac});var ai=Ve((lh,ii)=>{function Ic(v){return function(ae,n,d){for(var b=-1,G=Object(ae),y=d(ae),i=y.length;i--;){var V=y[v?i:++b];if(n(G[V],V,G)===!1)break}return ae}}ii.exports=Ic});var di=Ve((ch,si)=>{var wc=ai(),Ec=wc();si.exports=Ec});var li=Ve((gh,ui)=>{function Oc(v,ae){for(var n=-1,d=Array(v);++n<v;)d[n]=ae(n);return d}ui.exports=Oc});var gi=Ve((ph,ci)=>{var Cc=Ft(),_c=Bt(),Sc="[object Arguments]";function Tc(v){return _c(v)&&Cc(v)==Sc}ci.exports=Tc});var Pn=Ve((fh,mi)=>{var pi=gi(),Dc=Bt(),fi=Object.prototype,Uc=fi.hasOwnProperty,Nc=fi.propertyIsEnumerable,Pc=pi(function(){return arguments}())?pi:function(v){return Dc(v)&&Uc.call(v,"callee")&&!Nc.call(v,"callee")};mi.exports=Pc});var vi=Ve((mh,hi)=>{function Rc(){return!1}hi.exports=Rc});var Rn=Ve((on,zt)=>{var Mc=Mt(),xc=vi(),Ai=typeof on=="object"&&on&&!on.nodeType&&on,bi=Ai&&typeof zt=="object"&&zt&&!zt.nodeType&&zt,kc=bi&&bi.exports===Ai,yi=kc?Mc.Buffer:void 0,Lc=yi?yi.isBuffer:void 0,Fc=Lc||xc;zt.exports=Fc});var Mn=Ve((hh,Ii)=>{var Bc=9007199254740991,jc=/^(?:0|[1-9]\d*)$/;function Gc(v,ae){var n=typeof v;return ae=ae==null?Bc:ae,!!ae&&(n=="number"||n!="symbol"&&jc.test(v))&&v>-1&&v%1==0&&v<ae}Ii.exports=Gc});var hn=Ve((vh,wi)=>{var Vc=9007199254740991;function qc(v){return typeof v=="number"&&v>-1&&v%1==0&&v<=Vc}wi.exports=qc});var Oi=Ve((bh,Ei)=>{var Wc=Ft(),Hc=hn(),Jc=Bt(),zc="[object Arguments]",Kc="[object Array]",Yc="[object Boolean]",$c="[object Date]",Xc="[object Error]",Qc="[object Function]",Zc="[object Map]",eg="[object Number]",tg="[object Object]",ng="[object RegExp]",rg="[object Set]",og="[object String]",ig="[object WeakMap]",ag="[object ArrayBuffer]",sg="[object DataView]",dg="[object Float32Array]",ug="[object Float64Array]",lg="[object Int8Array]",cg="[object Int16Array]",gg="[object Int32Array]",pg="[object Uint8Array]",fg="[object Uint8ClampedArray]",mg="[object Uint16Array]",hg="[object Uint32Array]",bt={};bt[dg]=bt[ug]=bt[lg]=bt[cg]=bt[gg]=bt[pg]=bt[fg]=bt[mg]=bt[hg]=!0;bt[zc]=bt[Kc]=bt[ag]=bt[Yc]=bt[sg]=bt[$c]=bt[Xc]=bt[Qc]=bt[Zc]=bt[eg]=bt[tg]=bt[ng]=bt[rg]=bt[og]=bt[ig]=!1;function vg(v){return Jc(v)&&Hc(v.length)&&!!bt[Wc(v)]}Ei.exports=vg});var _i=Ve((yh,Ci)=>{function bg(v){return function(ae){return v(ae)}}Ci.exports=bg});var Ti=Ve((an,Kt)=>{var yg=wn(),Si=typeof an=="object"&&an&&!an.nodeType&&an,sn=Si&&typeof Kt=="object"&&Kt&&!Kt.nodeType&&Kt,Ag=sn&&sn.exports===Si,xn=Ag&&yg.process,Ig=function(){try{var v=sn&&sn.require&&sn.require("util").types;return v||xn&&xn.binding&&xn.binding("util")}catch{}}();Kt.exports=Ig});var kn=Ve((Ah,Ni)=>{var wg=Oi(),Eg=_i(),Di=Ti(),Ui=Di&&Di.isTypedArray,Og=Ui?Eg(Ui):wg;Ni.exports=Og});var Ri=Ve((Ih,Pi)=>{var Cg=li(),_g=Pn(),Sg=Dt(),Tg=Rn(),Dg=Mn(),Ug=kn(),Ng=Object.prototype,Pg=Ng.hasOwnProperty;function Rg(v,ae){var n=Sg(v),d=!n&&_g(v),b=!n&&!d&&Tg(v),G=!n&&!d&&!b&&Ug(v),y=n||d||b||G,i=y?Cg(v.length,String):[],V=i.length;for(var Ie in v)(ae||Pg.call(v,Ie))&&!(y&&(Ie=="length"||b&&(Ie=="offset"||Ie=="parent")||G&&(Ie=="buffer"||Ie=="byteLength"||Ie=="byteOffset")||Dg(Ie,V)))&&i.push(Ie);return i}Pi.exports=Rg});var xi=Ve((wh,Mi)=>{var Mg=Object.prototype;function xg(v){var ae=v&&v.constructor,n=typeof ae=="function"&&ae.prototype||Mg;return v===n}Mi.exports=xg});var Li=Ve((Eh,ki)=>{var kg=Nn(),Lg=kg(Object.keys,Object);ki.exports=Lg});var Bi=Ve((Oh,Fi)=>{var Fg=xi(),Bg=Li(),jg=Object.prototype,Gg=jg.hasOwnProperty;function Vg(v){if(!Fg(v))return Bg(v);var ae=[];for(var n in Object(v))Gg.call(v,n)&&n!="constructor"&&ae.push(n);return ae}Fi.exports=Vg});var Ln=Ve((Ch,ji)=>{var qg=En(),Wg=hn();function Hg(v){return v!=null&&Wg(v.length)&&!qg(v)}ji.exports=Hg});var vn=Ve((_h,Gi)=>{var Jg=Ri(),zg=Bi(),Kg=Ln();function Yg(v){return Kg(v)?Jg(v):zg(v)}Gi.exports=Yg});var qi=Ve((Sh,Vi)=>{var $g=di(),Xg=vn();function Qg(v,ae){return v&&$g(v,ae,Xg)}Vi.exports=Qg});var Hi=Ve((Th,Wi)=>{var Zg=Ln();function ep(v,ae){return function(n,d){if(n==null)return n;if(!Zg(n))return v(n,d);for(var b=n.length,G=ae?b:-1,y=Object(n);(ae?G--:++G<b)&&d(y[G],G,y)!==!1;);return n}}Wi.exports=ep});var zi=Ve((Dh,Ji)=>{var tp=qi(),np=Hi(),rp=np(tp);Ji.exports=rp});var Yi=Ve((Uh,Ki)=>{var op=tn();function ip(){this.__data__=new op,this.size=0}Ki.exports=ip});var Xi=Ve((Nh,$i)=>{function ap(v){var ae=this.__data__,n=ae.delete(v);return this.size=ae.size,n}$i.exports=ap});var Zi=Ve((Ph,Qi)=>{function sp(v){return this.__data__.get(v)}Qi.exports=sp});var ta=Ve((Rh,ea)=>{function dp(v){return this.__data__.has(v)}ea.exports=dp});var ra=Ve((Mh,na)=>{var up=tn(),lp=fn(),cp=mn(),gp=200;function pp(v,ae){var n=this.__data__;if(n instanceof up){var d=n.__data__;if(!lp||d.length<gp-1)return d.push([v,ae]),this.size=++n.size,this;n=this.__data__=new cp(d)}return n.set(v,ae),this.size=n.size,this}na.exports=pp});var Fn=Ve((xh,oa)=>{var fp=tn(),mp=Yi(),hp=Xi(),vp=Zi(),bp=ta(),yp=ra();function Yt(v){var ae=this.__data__=new fp(v);this.size=ae.size}Yt.prototype.clear=mp;Yt.prototype.delete=hp;Yt.prototype.get=vp;Yt.prototype.has=bp;Yt.prototype.set=yp;oa.exports=Yt});var aa=Ve((kh,ia)=>{var Ap="__lodash_hash_undefined__";function Ip(v){return this.__data__.set(v,Ap),this}ia.exports=Ip});var da=Ve((Lh,sa)=>{function wp(v){return this.__data__.has(v)}sa.exports=wp});var la=Ve((Fh,ua)=>{var Ep=mn(),Op=aa(),Cp=da();function bn(v){var ae=-1,n=v==null?0:v.length;for(this.__data__=new Ep;++ae<n;)this.add(v[ae])}bn.prototype.add=bn.prototype.push=Op;bn.prototype.has=Cp;ua.exports=bn});var ga=Ve((Bh,ca)=>{function _p(v,ae){for(var n=-1,d=v==null?0:v.length;++n<d;)if(ae(v[n],n,v))return!0;return!1}ca.exports=_p});var fa=Ve((jh,pa)=>{function Sp(v,ae){return v.has(ae)}pa.exports=Sp});var Bn=Ve((Gh,ma)=>{var Tp=la(),Dp=ga(),Up=fa(),Np=1,Pp=2;function Rp(v,ae,n,d,b,G){var y=n&Np,i=v.length,V=ae.length;if(i!=V&&!(y&&V>i))return!1;var Ie=G.get(v),F=G.get(ae);if(Ie&&F)return Ie==ae&&F==v;var Fe=-1,Ee=!0,Te=n&Pp?new Tp:void 0;for(G.set(v,ae),G.set(ae,v);++Fe<i;){var fe=v[Fe],Ae=ae[Fe];if(d)var be=y?d(Ae,fe,Fe,ae,v,G):d(fe,Ae,Fe,v,ae,G);if(be!==void 0){if(be)continue;Ee=!1;break}if(Te){if(!Dp(ae,function(t,le){if(!Up(Te,le)&&(fe===t||b(fe,t,n,d,G)))return Te.push(le)})){Ee=!1;break}}else if(!(fe===Ae||b(fe,Ae,n,d,G))){Ee=!1;break}}return G.delete(v),G.delete(ae),Ee}ma.exports=Rp});var va=Ve((Vh,ha)=>{var Mp=Mt(),xp=Mp.Uint8Array;ha.exports=xp});var ya=Ve((qh,ba)=>{function kp(v){var ae=-1,n=Array(v.size);return v.forEach(function(d,b){n[++ae]=[b,d]}),n}ba.exports=kp});var Ia=Ve((Wh,Aa)=>{function Lp(v){var ae=-1,n=Array(v.size);return v.forEach(function(d){n[++ae]=d}),n}Aa.exports=Lp});var _a=Ve((Hh,Ca)=>{var wa=Xt(),Ea=va(),Fp=_n(),Bp=Bn(),jp=ya(),Gp=Ia(),Vp=1,qp=2,Wp="[object Boolean]",Hp="[object Date]",Jp="[object Error]",zp="[object Map]",Kp="[object Number]",Yp="[object RegExp]",$p="[object Set]",Xp="[object String]",Qp="[object Symbol]",Zp="[object ArrayBuffer]",ef="[object DataView]",Oa=wa?wa.prototype:void 0,jn=Oa?Oa.valueOf:void 0;function tf(v,ae,n,d,b,G,y){switch(n){case ef:if(v.byteLength!=ae.byteLength||v.byteOffset!=ae.byteOffset)return!1;v=v.buffer,ae=ae.buffer;case Zp:return!(v.byteLength!=ae.byteLength||!G(new Ea(v),new Ea(ae)));case Wp:case Hp:case Kp:return Fp(+v,+ae);case Jp:return v.name==ae.name&&v.message==ae.message;case Yp:case Xp:return v==ae+"";case zp:var i=jp;case $p:var V=d&Vp;if(i||(i=Gp),v.size!=ae.size&&!V)return!1;var Ie=y.get(v);if(Ie)return Ie==ae;d|=qp,y.set(v,ae);var F=Bp(i(v),i(ae),d,b,G,y);return y.delete(v),F;case Qp:if(jn)return jn.call(v)==jn.call(ae)}return!1}Ca.exports=tf});var Ta=Ve((Jh,Sa)=>{function nf(v,ae){for(var n=-1,d=ae.length,b=v.length;++n<d;)v[b+n]=ae[n];return v}Sa.exports=nf});var Ua=Ve((zh,Da)=>{var rf=Ta(),of=Dt();function af(v,ae,n){var d=ae(v);return of(v)?d:rf(d,n(v))}Da.exports=af});var Pa=Ve((Kh,Na)=>{function sf(v,ae){for(var n=-1,d=v==null?0:v.length,b=0,G=[];++n<d;){var y=v[n];ae(y,n,v)&&(G[b++]=y)}return G}Na.exports=sf});var Ma=Ve((Yh,Ra)=>{function df(){return[]}Ra.exports=df});var La=Ve(($h,ka)=>{var uf=Pa(),lf=Ma(),cf=Object.prototype,gf=cf.propertyIsEnumerable,xa=Object.getOwnPropertySymbols,pf=xa?function(v){return v==null?[]:(v=Object(v),uf(xa(v),function(ae){return gf.call(v,ae)}))}:lf;ka.exports=pf});var Ba=Ve((Xh,Fa)=>{var ff=Ua(),mf=La(),hf=vn();function vf(v){return ff(v,hf,mf)}Fa.exports=vf});var Va=Ve((Qh,Ga)=>{var ja=Ba(),bf=1,yf=Object.prototype,Af=yf.hasOwnProperty;function If(v,ae,n,d,b,G){var y=n&bf,i=ja(v),V=i.length,Ie=ja(ae),F=Ie.length;if(V!=F&&!y)return!1;for(var Fe=V;Fe--;){var Ee=i[Fe];if(!(y?Ee in ae:Af.call(ae,Ee)))return!1}var Te=G.get(v),fe=G.get(ae);if(Te&&fe)return Te==ae&&fe==v;var Ae=!0;G.set(v,ae),G.set(ae,v);for(var be=y;++Fe<V;){Ee=i[Fe];var t=v[Ee],le=ae[Ee];if(d)var s=y?d(le,t,Ee,ae,v,G):d(t,le,Ee,v,ae,G);if(!(s===void 0?t===le||b(t,le,n,d,G):s)){Ae=!1;break}be||(be=Ee=="constructor")}if(Ae&&!be){var $=v.constructor,a=ae.constructor;$!=a&&"constructor"in v&&"constructor"in ae&&!(typeof $=="function"&&$ instanceof $&&typeof a=="function"&&a instanceof a)&&(Ae=!1)}return G.delete(v),G.delete(ae),Ae}Ga.exports=If});var Wa=Ve((Zh,qa)=>{var wf=Gt(),Ef=Mt(),Of=wf(Ef,"DataView");qa.exports=Of});var Ja=Ve((ev,Ha)=>{var Cf=Gt(),_f=Mt(),Sf=Cf(_f,"Promise");Ha.exports=Sf});var Ka=Ve((tv,za)=>{var Tf=Gt(),Df=Mt(),Uf=Tf(Df,"Set");za.exports=Uf});var $a=Ve((nv,Ya)=>{var Nf=Gt(),Pf=Mt(),Rf=Nf(Pf,"WeakMap");Ya.exports=Rf});var os=Ve((rv,rs)=>{var Gn=Wa(),Vn=fn(),qn=Ja(),Wn=Ka(),Hn=$a(),ns=Ft(),$t=Cn(),Xa="[object Map]",Mf="[object Object]",Qa="[object Promise]",Za="[object Set]",es="[object WeakMap]",ts="[object DataView]",xf=$t(Gn),kf=$t(Vn),Lf=$t(qn),Ff=$t(Wn),Bf=$t(Hn),Vt=ns;(Gn&&Vt(new Gn(new ArrayBuffer(1)))!=ts||Vn&&Vt(new Vn)!=Xa||qn&&Vt(qn.resolve())!=Qa||Wn&&Vt(new Wn)!=Za||Hn&&Vt(new Hn)!=es)&&(Vt=function(v){var ae=ns(v),n=ae==Mf?v.constructor:void 0,d=n?$t(n):"";if(d)switch(d){case xf:return ts;case kf:return Xa;case Lf:return Qa;case Ff:return Za;case Bf:return es}return ae});rs.exports=Vt});var gs=Ve((ov,cs)=>{var Jn=Fn(),jf=Bn(),Gf=_a(),Vf=Va(),is=os(),as=Dt(),ss=Rn(),qf=kn(),Wf=1,ds="[object Arguments]",us="[object Array]",yn="[object Object]",Hf=Object.prototype,ls=Hf.hasOwnProperty;function Jf(v,ae,n,d,b,G){var y=as(v),i=as(ae),V=y?us:is(v),Ie=i?us:is(ae);V=V==ds?yn:V,Ie=Ie==ds?yn:Ie;var F=V==yn,Fe=Ie==yn,Ee=V==Ie;if(Ee&&ss(v)){if(!ss(ae))return!1;y=!0,F=!1}if(Ee&&!F)return G||(G=new Jn),y||qf(v)?jf(v,ae,n,d,b,G):Gf(v,ae,V,n,d,b,G);if(!(n&Wf)){var Te=F&&ls.call(v,"__wrapped__"),fe=Fe&&ls.call(ae,"__wrapped__");if(Te||fe){var Ae=Te?v.value():v,be=fe?ae.value():ae;return G||(G=new Jn),b(Ae,be,n,d,G)}}return Ee?(G||(G=new Jn),Vf(v,ae,n,d,b,G)):!1}cs.exports=Jf});var zn=Ve((iv,ms)=>{var zf=gs(),ps=Bt();function fs(v,ae,n,d,b){return v===ae?!0:v==null||ae==null||!ps(v)&&!ps(ae)?v!==v&&ae!==ae:zf(v,ae,n,d,fs,b)}ms.exports=fs});var vs=Ve((av,hs)=>{var Kf=Fn(),Yf=zn(),$f=1,Xf=2;function Qf(v,ae,n,d){var b=n.length,G=b,y=!d;if(v==null)return!G;for(v=Object(v);b--;){var i=n[b];if(y&&i[2]?i[1]!==v[i[0]]:!(i[0]in v))return!1}for(;++b<G;){i=n[b];var V=i[0],Ie=v[V],F=i[1];if(y&&i[2]){if(Ie===void 0&&!(V in v))return!1}else{var Fe=new Kf;if(d)var Ee=d(Ie,F,V,v,ae,Fe);if(!(Ee===void 0?Yf(F,Ie,$f|Xf,d,Fe):Ee))return!1}}return!0}hs.exports=Qf});var Kn=Ve((sv,bs)=>{var Zf=pn();function em(v){return v===v&&!Zf(v)}bs.exports=em});var As=Ve((dv,ys)=>{var tm=Kn(),nm=vn();function rm(v){for(var ae=nm(v),n=ae.length;n--;){var d=ae[n],b=v[d];ae[n]=[d,b,tm(b)]}return ae}ys.exports=rm});var Yn=Ve((uv,Is)=>{function om(v,ae){return function(n){return n==null?!1:n[v]===ae&&(ae!==void 0||v in Object(n))}}Is.exports=om});var Es=Ve((lv,ws)=>{var im=vs(),am=As(),sm=Yn();function dm(v){var ae=am(v);return ae.length==1&&ae[0][2]?sm(ae[0][0],ae[0][1]):function(n){return n===v||im(n,v,ae)}}ws.exports=dm});var Cs=Ve((cv,Os)=>{function um(v,ae){return v!=null&&ae in Object(v)}Os.exports=um});var Ss=Ve((gv,_s)=>{var lm=Tn(),cm=Pn(),gm=Dt(),pm=Mn(),fm=hn(),mm=rn();function hm(v,ae,n){ae=lm(ae,v);for(var d=-1,b=ae.length,G=!1;++d<b;){var y=mm(ae[d]);if(!(G=v!=null&&n(v,y)))break;v=v[y]}return G||++d!=b?G:(b=v==null?0:v.length,!!b&&fm(b)&&pm(y,b)&&(gm(v)||cm(v)))}_s.exports=hm});var Ds=Ve((pv,Ts)=>{var vm=Cs(),bm=Ss();function ym(v,ae){return v!=null&&bm(v,ae,vm)}Ts.exports=ym});var Ns=Ve((fv,Us)=>{var Am=zn(),Im=Un(),wm=Ds(),Em=gn(),Om=Kn(),Cm=Yn(),_m=rn(),Sm=1,Tm=2;function Dm(v,ae){return Em(v)&&Om(ae)?Cm(_m(v),ae):function(n){var d=Im(n,v);return d===void 0&&d===ae?wm(n,v):Am(ae,d,Sm|Tm)}}Us.exports=Dm});var Rs=Ve((mv,Ps)=>{function Um(v){return v}Ps.exports=Um});var xs=Ve((hv,Ms)=>{function Nm(v){return function(ae){return ae==null?void 0:ae[v]}}Ms.exports=Nm});var Ls=Ve((vv,ks)=>{var Pm=Dn();function Rm(v){return function(ae){return Pm(ae,v)}}ks.exports=Rm});var Bs=Ve((bv,Fs)=>{var Mm=xs(),xm=Ls(),km=gn(),Lm=rn();function Fm(v){return km(v)?Mm(Lm(v)):xm(v)}Fs.exports=Fm});var Gs=Ve((yv,js)=>{var Bm=Es(),jm=Ns(),Gm=Rs(),Vm=Dt(),qm=Bs();function Wm(v){return typeof v=="function"?v:v==null?Gm:typeof v=="object"?Vm(v)?jm(v[0],v[1]):Bm(v):qm(v)}js.exports=Wm});var qs=Ve((Av,Vs)=>{function Hm(v,ae,n,d,b){return b(v,function(G,y,i){n=d?(d=!1,G):ae(n,G,y,i)}),n}Vs.exports=Hm});var Hs=Ve((Iv,Ws)=>{var Jm=oi(),zm=zi(),Km=Gs(),Ym=qs(),$m=Dt();function Xm(v,ae,n){var d=$m(v)?Jm:Ym,b=arguments.length<3;return d(v,Km(ae,4),n,b,zm)}Ws.exports=Xm});var Ks=Ve((wv,dn)=>{var Qm=Un(),Zm=ei(),Js=ni(),zs=Hs(),Xn=typeof window<"u";function e0(v,ae="ERROR"){console.log("[service/dotenv][".concat(ae,"] ").concat(v))}function t0(v){return v==="True"||v==="true"?!0:v==="False"||v==="false"?!1:v}function qt(v){return Array.isArray(v)?zs(v,(ae,n,d)=>(ae[d]=qt(n),ae),[]):Zm(v)?zs(v,(ae,n,d)=>(ae[d]=qt(n),ae),{}):Js(v)&&v.split(",").length>1?v.split(","):Js(v)?t0(v):v}function An(v,ae){if(v){let n=Qm(v,ae,v[ae]);return n!==void 0?qt(n):void 0}}var $n=class{constructor(){this.allowedOnClient=[],this.allowedOnEditClient=[],this.getAllForWindow=this.getAllForWindow.bind(this)}getForClient(ae,n=void 0){let d=An(window.env,ae),b=An(window.env,ae);return d!==void 0?d:b!==void 0?b:qt(n)}getForServer(ae,n=void 0){let d=An(window.env,ae),b=An(process.env,ae);return d!==void 0?d:b!==void 0?b:qt(n)}getAllForClient(){return qt({...window.env,...window.env})}getAllForWindow(ae){["allowedOnClient","allowedOnEditClient"].forEach(d=>{this[d]&&!Array.isArray(this[d])&&e0("EnvVars.".concat(d," must be an array of environment variable key strings"))});let n=this.allowedOnClient;return ae&&(n=n.concat(this.allowedOnEditClient)),n&&n.reduce((d,b)=>{let G=this.getForServer(b);return d[b]=G,d},{})}getAllForServer(){return qt({...process.env,...window.env})}},jt=new $n;function n0(v={}){jt.allowedOnClient=v.allowedOnClient||[],jt.allowedOnEditClient=v.allowedOnEditClient||[]}dn.exports.configure=n0;dn.exports.get=Xn?jt.getForClient:jt.getForServer;dn.exports.getAll=Xn?jt.getAllForClient:jt.getAllForServer;dn.exports.getAllForWindow=Xn?jt.getForClient:jt.getAllForWindow});var $s=Ve((Ys,Qn)=>{(function(v){typeof Ys=="object"&&typeof Qn<"u"?Qn.exports=v():typeof define=="function"&&define.amd?define([],v):(typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:this).ixIdentity=v()})(function(){return function v(ae,n,d){function b(i,V){if(!n[i]){if(!ae[i]){var Ie=typeof ut=="function"&&ut;if(!V&&Ie)return Ie(i,!0);if(G)return G(i,!0);throw(V=new Error("Cannot find module '"+i+"'")).code="MODULE_NOT_FOUND",V}Ie=n[i]={exports:{}},ae[i][0].call(Ie.exports,function(F){return b(ae[i][1][F]||F)},Ie,Ie.exports,v,ae,n,d)}return n[i].exports}for(var G=typeof ut=="function"&&ut,y=0;y<d.length;y++)b(d[y]);return b}({1:[function(i,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AAdFuelModule=n.ModuleFlags=void 0;var d,b=i("./Logger"),G=i("./promiseWithTimeout"),y=i("./localization"),i=((i=d=n.ModuleFlags||(n.ModuleFlags={}))[i.None=0]="None",i[i.EnableForDomestic=1]="EnableForDomestic",i[i.EnableForForeign=2]="EnableForForeign",i[i.RunWithoutAdFuel=4]="RunWithoutAdFuel",i[i.RunWithoutConsent=8]="RunWithoutConsent",i[i.HasVideoAPI=16]="HasVideoAPI",i[i.DisableForCanada=32]="DisableForCanada",Object.defineProperty(V.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),V);function V(Ie,F,Fe,Ee,Te,fe,Ae,be){fe===void 0&&(fe=d.EnableForDomestic|d.EnableForForeign),Ae===void 0&&(Ae=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var t=this;this.config=Ie,this.MODULE_NAME=F,this.MODULE_VERSION=Fe,this.MODULE_LOG_TAG=Ee,this.logStyle=Te,this.moduleFlags=fe,this.consentTags=Ae,this.MODULE_VIDEO_API_KEY=be,this.adFuelExists=!!window.AdFuel,this.userConsentLib=((Ie=window.WM)==null?void 0:Ie.UserConsent)||((F=window.WBD)==null?void 0:F.UserConsent),this.environmentMatchesFlags=function(){return(0,y.isIntl)()?(!(0,y.isCanada)()||(t.moduleFlags&d.DisableForCanada)!==d.DisableForCanada)&&(t.moduleFlags&d.EnableForForeign)===d.EnableForForeign:(t.moduleFlags&d.EnableForDomestic)===d.EnableForDomestic},this.callInit=function(){t.logger.log("Waiting for UserConsent..."),t.waitForUserConsent().then(function(){var le;t.logger.log("Checking Module Flags...",t.moduleFlags),(t.moduleFlags&d.RunWithoutConsent)==d.RunWithoutConsent||(le=t.userConsentLib)!=null&&le.inUserConsentState(t.consentTags,{id:t.MODULE_NAME})?(t.moduleFlags&&d.RunWithoutAdFuel)==d.RunWithoutAdFuel?((le=window.AdFuel)!=null&&le.registerModule(t)||document.addEventListener("AdFuelCreated",function(){var s;t.logger.log("Registering with AdFuel..."),(s=window.AdFuel)!=null&&s.registerModule(t)}),t.logger.log("Checking Environment..."),t.environmentMatchesFlags()?(t.logger.log("Calling Init..."),t.init().then(function(){var s;window.AdFuel?(t.logger.log("Setting Module Loaded..."),(s=window.AdFuel)!=null&&s.setModuleLoaded(t.MODULE_LOG_TAG)):(t.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var $;t.logger.log("Setting Module Loaded..."),($=window.AdFuel)!=null&&$.setModuleLoaded(t.MODULE_LOG_TAG)}))})):(t.logger.warn("Not initializing ".concat(t.MODULE_NAME," for environmental reasons."),t.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(t.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(t.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",function(){window.AdFuel.setModuleReady(t.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(t.MODULE_LOG_TAG)}))):(t.logger.log("Waiting for AdFuel..."),t.waitForAdFuel().then(function(){var s;(s=window.AdFuel)!=null&&s.registerModule(t)||document.addEventListener("AdFuelCreated",function(){var $;t.logger.log("Registering with AdFuel..."),($=window.AdFuel)!=null&&$.registerModule(t)}),t.logger.log("Checking Environment..."),t.environmentMatchesFlags()?(t.logger.log("Calling Init..."),t.init().then(function(){var $;window.AdFuel?(t.logger.log("Setting Module Loaded..."),($=window.AdFuel)!=null&&$.setModuleLoaded(t.MODULE_LOG_TAG)):(t.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var a;t.logger.log("Setting Module Loaded..."),(a=window.AdFuel)!=null&&a.setModuleLoaded(t.MODULE_LOG_TAG)}))})):t.logger.warn("Not initializing ".concat(t.MODULE_NAME," for environmental reasons."),t.moduleFlags)}).catch(function(s){t.logger.warn("".concat(t.MODULE_NAME," errored waiting for AdFuel."),s)})):(t.logger.info("User consent is not granted.",(le=t.userConsentLib)==null?void 0:le.inUserConsentState(t.consentTags)),(le=window.AdFuel)!=null&&le.setModuleLoaded(t.MODULE_LOG_TAG))}).catch(function(le){t.logger.warn("".concat(t.MODULE_NAME," errored waiting for consent."),le)})},this.waitForAdFuel=function(){return(t.moduleFlags&d.RunWithoutAdFuel)===d.RunWithoutAdFuel?Promise.resolve():(0,G.promiseWithTimeout)(5e3,new Promise(function(le){window.AdFuel?le():document.addEventListener("AdFuelCreated",function(){le()})}))},this.waitForUserConsent=function(){return!t.userConsentLib||(t.moduleFlags&d.RunWithoutConsent)==d.RunWithoutConsent?Promise.resolve():(0,G.promiseWithTimeout)(5e3,new Promise(function(le){var s;t._logger.log("Consent Promise with Timeout..."),(s=t.userConsentLib)!=null&&s.isReady()?(t._logger.log("Consent Is Ready..."),(s=t.userConsentLib)!=null&&s.isInRegion("gdpr")?(t._logger.log("Region is GDPR..."),(s=((s=t.userConsentLib)==null?void 0:s.isOneTrustLoaded())&&!((s=t.userConsentLib)!=null&&s.isOneTrustFailing()))!=null&&s?(t._logger.log("Optanon is Loaded..."),le()):(t._logger.log("Waiting for OneTrust..."),document.addEventListener("oneTrustLoaded",function(){t._logger.log("OneTrust is Loaded..."),le()}),document.addEventListener("oneTrustFailed",function(){t._logger.error("OneTrust Failed To Load..."),le()}),document.addEventListener("oneTrustBlocked",function(){t._logger.error("OneTrust Loading Was Blocked..."),le()}))):(t._logger.log("Region is not GDPR..."),le())):t.userConsentLib?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",function(){console.log("Consent Is Ready..."),le()})):(console.log("No User Consent..."),le())}))},this._logger=new b.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}n.AAdFuelModule=i},{"./Logger":3,"./localization":7,"./promiseWithTimeout":8}],2:[function(v,ae,n){"use strict";function d(){}Object.defineProperty(n,"__esModule",{value:!0}),n.CookieHelper=void 0,d.hasCookie=function(b){return typeof window<"u"&&!(!document||!document.cookie)&&(0<=document.cookie.indexOf("; "+b+"=")||document.cookie.indexOf(b+"=")===0)},d.setCookie=function(b){var G=b.cookieName+"="+b.cookieValue+";";b.attributes.forEach(function(y){G+=" "+y.key+"="+y.value+";"}),b.secure&&(G+=" Secure"),document.cookie=G},d.readCookie=function(b){var G,y,i=!1,V=null;return(i=typeof localStorage<"u"?!0:i)&&(V=localStorage.getItem(b)),i&&V!==null||(y=(G=b).length+1,V=typeof document<"u"&&document.cookie&&document.cookie.split(";").map(function(Ie){return Ie.trim()}).filter(function(Ie){return Ie.substring(0,y)==="".concat(G,"=")}).map(function(Ie){return decodeURIComponent(Ie.substring(y))})[0]||null),V},n.CookieHelper=d},{}],3:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Logger=n.LogLevel=void 0,(b=d=n.LogLevel||(n.LogLevel={})).Info="background: green;color: white;",b.Warning="background: orange;color: black",b.Error="background: red;color:white",Object.defineProperty(G.prototype,"isDebugging",{get:function(){var y;return this._debug===void 0&&(y=this.getUrlParam("debug").split(","),this._debug=y[0]==="true"||0<=y.indexOf(this._logKey.toLowerCase())),this._debug},enumerable:!1,configurable:!0}),G.prototype.info=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.warn=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.error=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.log=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.groupStart=function(y){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(y," - START -----"),this._normalStyle))},G.prototype.groupEnd=function(y){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},G.prototype.timeStart=function(y){var i="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(y);this.groupStart(y),console.time(i)},G.prototype.timeEnd=function(y){var i="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(y);this.groupEnd(y),console.timeEnd(i)},G.prototype.getUrlParam=function(y){return typeof document<"u"&&(y=y.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),y=new RegExp("[\\?&]"+y+"=([^&#]*)"),document)&&document.location&&document.location.search&&(y=y.exec(document.location.search))?y[1]:""};var d,b=G;function G(y,i,V,Ie){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=y||"",this._moduleVersion=i||"",this._logKey=V||(y==null?void 0:y.toLowerCase())||"",this._normalStyle=Ie||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),d.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),d.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),d.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),d.Info,this._normalStyle))}n.Logger=b},{}],4:[function(v,ae,n){"use strict";function d(b,G,y,i){var V=this;this.setMajorTo=b,this.setMinorTo=G,this.setRevisionTo=y,this.setFamilyTo=i,this.setfamily=function(Ie){return V.setFamilyTo=Ie,V},this.toString=function(){return"".concat(V.major,".").concat(V.minor.toString().padStart(2,"0"),".").concat(V.revision.toString().padStart(3,"0")," ").concat(V.family).trim()}}Object.defineProperty(n,"__esModule",{value:!0}),n.Version=void 0,Object.defineProperty(d.prototype,"major",{get:function(){var b;return(b=this.setMajorTo)!=null?b:0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"minor",{get:function(){var b;return(b=this.setMinorTo)!=null?b:0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"revision",{get:function(){var b;return(b=this.setRevisionTo)!=null?b:0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"family",{get:function(){var b;return(b=this.setFamilyTo)!=null?b:""},enumerable:!1,configurable:!0}),n.Version=d},{}],5:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getUrlParam=void 0,n.getUrlParam=function(d){return typeof document<"u"&&(d=d.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),d=new RegExp("[\\?&]"+d+"=([^&#]*)"),document)&&document.location&&document.location.search&&(d=d.exec(document.location.search))?d[1]:""}},{}],6:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.loadScriptFromUrl=void 0;var d=v("./promiseWithTimeout");n.loadScriptFromUrl=function(b,G,y,i){return y===void 0&&(y=document),i===void 0&&(i=!0),(0,d.promiseWithTimeout)(5e3,new Promise(function(V,Ie){var F,Fe,Ee=y.createElement("script");if(Ee.setAttribute("data-nscript","beforeInteractive"),document.getElementById(G))Ie("Element name ".concat(G," already exists in the document."));else try{var Te="",fe=(Te=1<b.split("//").length?b:((Fe=((F=y.location)==null?void 0:F.protocol)==="https:")!==null&&Fe?"https://":"http://").concat(b),y.getElementsByTagName("script")[0]);if(Ee.id=G,Ee.type="text/javascript",Ee.src=Te,Ee.async=i,Ee.addEventListener("load",function(){V(Ee)}),fe==null||!fe.parentNode)throw new Error("Could not insert script.");fe.parentNode.insertBefore(Ee,fe)}catch(Ae){console.log("Error in loading script from ".concat(Ee.src),Ae),Ie(Ae)}}))}},{"./promiseWithTimeout":8}],7:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setIsUSnowleb=n.setIsIntl=n.isUSnowleb=n.isIntl=n.isCanada=void 0;var d=v("./setHostAndPathNames"),b=v("./getUrlParam"),G=v("./Logger"),y=v("./variables"),i=new G.Logger(y.MODULE_NAME,y.MODULE_VERSION.toString(),y.MODULE_LOG_TAG,"color: coral; padding: 2px"),V=!1,Ie=!1,F=new Set(["US","CA"]),Fe=/^.*(edition|edition-m|arabic|nowlebespanol|nowlebe-test)\.nowleb.com/;n.isCanada=function(){var Ee;return(Ee=(Ee=(Ee=window.WM)==null?void 0:Ee.UserConsent)==null?void 0:Ee.getGeoCountry())!=null?Ee:y.countryCode},n.isIntl=function(){var Ee=!1,Te=(0,d.setHostAndPathNames)(),fe=(fe=(fe=window.WM)==null?void 0:fe.UserConsent)!=null&&fe.getGeoCountry&&typeof((fe=(fe=window.WM)==null?void 0:fe.UserConsent)==null?void 0:fe.getGeoCountry)=="function"?(fe=(fe=window.WM)==null?void 0:fe.UserConsent)==null?void 0:fe.getGeoCountry():y.countryCode,Ae=(Ae=(Ae=window.WM)==null?void 0:Ae.UserConsent)!=null&&Ae.getGeoState&&typeof((Ae=(Ae=window.WM)==null?void 0:Ae.UserConsent)==null?void 0:Ae.getGeoState)=="function"?(Ae=(Ae=window.WM)==null?void 0:Ae.UserConsent)==null?void 0:Ae.getGeoState():"",be=0<=Te.search(/^(.*\.)?nowleb\.com$/);return be&&F.delete("CA"),i.log("Is nowleb:",be),i.log("Domestic Country Codes: ",Array.from(F)),i.log("UserConsent Location: ",{state:Ae,country:fe}),(0,b.getUrlParam)("isIntl")==="true"?(V||(V=!0,i.log("Faking international site. Using International PubIds.")),Ee=!0):0<=Te.search(Fe)?(V||(V=!0,i.log("Full international site. Using International PubIds.")),Ee=!0):fe===""||fe===null?(V||(V=!0,i.log("No country code. Using Domestic PubIds.")),Ee=!1):F.has(fe)?V||(V=!0,i.log("Domestic site or country code. Using Domestic PubIds."),Ee=!1):0<=Te.search(/^.*(money|\.nowleb)\./)?(0<=Te.search(/^.*us\.nowleb\.com/)&&(V||i.log("International user but domestic page.  Using alternate International PubIds if available."),Ie=!0),V||(V=!0,i.log("International country code. Using International PubIds.")),Ee=!0):0<=Te.search(/^.*us\.nowleb\.com/)?(V||(V=!0,i.log("International user but domestic page. Using alternate International PubIds if available.")),Ie=Ee=!0):(V||(V=!0,i.log("International country code but domestic site. Using International PubIds if available.")),Ee=!0),Ee},n.isUSnowleb=function(){return(0,n.isIntl)(),i.log("Is User on US.nowleb.COM? ",Ie),Ie},n.setIsIntl=n.isIntl,n.setIsUSnowleb=n.isUSnowleb},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":9,"./variables":10}],8:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.promiseWithTimeout=void 0,n.promiseWithTimeout=function(d,b,G){G===void 0&&(G="The promise timed out.");var y=new Promise(function(i,V){var Ie=setTimeout(function(){clearTimeout(Ie),V(G)},d)});return Promise.race([b,y])}},{}],9:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setHostAndPathNames=void 0,n.setHostAndPathNames=function(){var d=typeof document<"u"?document.createElement("a"):{href:"",hostname:"",pathname:""};return d.href=typeof document<"u"?document.location.href:"",d.hostname}},{}],10:[function(b,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.hasUserConsent=n.selectedEdition=n.locationServiceURL=n.countryCode=n.noop=n.toString=n.MODULE_LOG_TAG=n.MODULE_VERSION=n.MODULE_NAME=void 0;var d=b("./Version"),b=b("./CookieHelper"),G=Object.prototype;n.MODULE_NAME="Ad Utilities",n.MODULE_VERSION=new d.Version(5,0,102,"TS"),n.MODULE_LOG_TAG="utils",n.toString=G.toString,n.noop=function(){},n.countryCode=b.CookieHelper.readCookie("countryCode")||((G=(d=b.CookieHelper.readCookie("CG"))==null?void 0:d.substr(0,2))!=null?G:""),n.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",n.selectedEdition=(d=b.CookieHelper.readCookie("SelectedEdition"))!=null?d:"www",n.hasUserConsent=typeof window<"u"&&(window.WM&&window.WM.UserConsent||window.WBD&&window.WBD.UserConsent)||!1},{"./CookieHelper":2,"./Version":4}],11:[function(F,ae,n){"use strict";var d,b,G=this&&this.__extends||(d=function(Ee,Te){return(d=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(fe,Ae){fe.__proto__=Ae}:function(fe,Ae){for(var be in Ae)Object.prototype.hasOwnProperty.call(Ae,be)&&(fe[be]=Ae[be])}))(Ee,Te)},function(Ee,Te){if(typeof Te!="function"&&Te!==null)throw new TypeError("Class extends value "+String(Te)+" is not a constructor or null");function fe(){this.constructor=Ee}d(Ee,Te),Ee.prototype=Te===null?Object.create(Te):(fe.prototype=Te.prototype,new fe)}),y=(Object.defineProperty(n,"__esModule",{value:!0}),n.IndexExchangeIdentity=void 0,F("@turnercode/digital-ads-utilities/dist/AAdFuelModule")),i=F("@turnercode/digital-ads-utilities/dist/Version"),V=F("@turnercode/digital-ads-utilities/dist/loadScriptFromUrl"),Ie=F("./version.json"),F=(b=y.AAdFuelModule,G(Fe,b),Fe);function Fe(){var Ee=b.call(this,null,"Index Exchange Identity",new i.Version(Ie.major,Ie.minor,Ie.revision,Ie.family),"ix","color: #d2b000; padding: 2px",y.ModuleFlags.RunWithoutAdFuel|y.ModuleFlags.EnableForDomestic|y.ModuleFlags.EnableForForeign)||this;return Ee._pathToJS="https://js-sec.indexww.com/ht/p/186948-78534564703284.js",Ee.init=function(){return new Promise(function(Te,fe){(0,V.loadScriptFromUrl)(Ee._pathToJS,"ieIdJs").finally(function(){Ee.logger.info("IndexExchangeIdenity JS successfully loaded."),window.AdFuel?window.AdFuel.setModuleReady(Ee.MODULE_LOG_TAG):document.addEventListener("AdFuelCreated",function(){window.AdFuel.setModuleReady(Ee.MODULE_LOG_TAG)}),Te()}).catch(function(Ae){Ee.logger.error("IndexExchangeIdentity has an error:",Ae)}),Te()})},Ee.logger.log("Index Exchange Identity created."),Ee}new(n.IndexExchangeIdentity=F)},{"./version.json":12,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/Version":4,"@turnercode/digital-ads-utilities/dist/loadScriptFromUrl":6}],12:[function(v,ae,n){ae.exports={family:"TS",major:2,minor:0,revision:9}},{}]},{},[11])(11)})});var Qs=Ve((Xs,Zn)=>{(function(v){typeof Xs=="object"&&typeof Zn<"u"?Zn.exports=v():typeof define=="function"&&define.amd?define([],v):(typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:this).Prebid=v()})(function(){return function v(ae,n,d){function b(i,V){if(!n[i]){if(!ae[i]){var Ie=typeof ut=="function"&&ut;if(!V&&Ie)return Ie(i,!0);if(G)return G(i,!0);throw(V=new Error("Cannot find module '"+i+"'")).code="MODULE_NOT_FOUND",V}Ie=n[i]={exports:{}},ae[i][0].call(Ie.exports,function(F){return b(ae[i][1][F]||F)},Ie,Ie.exports,v,ae,n,d)}return n[i].exports}for(var G=typeof ut=="function"&&ut,y=0;y<d.length;y++)b(d[y]);return b}({1:[function(i,ae,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AAdFuelModule=n.ModuleFlags=void 0;var d,b=i("./Logger"),G=i("./promiseWithTimeout"),y=i("./localization"),i=((i=d=n.ModuleFlags||(n.ModuleFlags={}))[i.None=0]="None",i[i.EnableForDomestic=1]="EnableForDomestic",i[i.EnableForForeign=2]="EnableForForeign",i[i.RunWithoutAdFuel=4]="RunWithoutAdFuel",i[i.RunWithoutConsent=8]="RunWithoutConsent",i[i.HasVideoAPI=16]="HasVideoAPI",i[i.DisableForCanada=32]="DisableForCanada",Object.defineProperty(V.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),V);function V(Ie,F,Fe,Ee,Te,fe,Ae,be){fe===void 0&&(fe=d.EnableForDomestic|d.EnableForForeign),Ae===void 0&&(Ae=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var t=this;this.config=Ie,this.MODULE_NAME=F,this.MODULE_VERSION=Fe,this.MODULE_LOG_TAG=Ee,this.logStyle=Te,this.moduleFlags=fe,this.consentTags=Ae,this.MODULE_VIDEO_API_KEY=be,this.adFuelExists=!!window.AdFuel,this.userConsentLib=((Ie=window.WM)==null?void 0:Ie.UserConsent)||((F=window.WBD)==null?void 0:F.UserConsent),this.environmentMatchesFlags=function(){return(0,y.isIntl)()?(!(0,y.isCanada)()||(t.moduleFlags&d.DisableForCanada)!==d.DisableForCanada)&&(t.moduleFlags&d.EnableForForeign)===d.EnableForForeign:(t.moduleFlags&d.EnableForDomestic)===d.EnableForDomestic},this.callInit=function(){t.logger.log("Waiting for UserConsent..."),t.waitForUserConsent().then(function(){var le;t.logger.log("Checking Module Flags...",t.moduleFlags),(t.moduleFlags&d.RunWithoutConsent)==d.RunWithoutConsent||(le=t.userConsentLib)!=null&&le.getUserConsentAdvertisingState()?(t.moduleFlags&&d.RunWithoutAdFuel)==d.RunWithoutAdFuel?((le=window.AdFuel)!=null&&le.registerModule(t)||document.addEventListener("AdFuelCreated",function(){var s;t.logger.log("Registering with AdFuel..."),(s=window.AdFuel)!=null&&s.registerModule(t)}),t.logger.log("Checking Environment..."),t.environmentMatchesFlags()?(t.logger.log("Calling Init..."),t.init().then(function(){var s;window.AdFuel?(t.logger.log("Setting Module Loaded..."),(s=window.AdFuel)!=null&&s.setModuleLoaded(t.MODULE_LOG_TAG)):(t.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var $;t.logger.log("Setting Module Loaded..."),($=window.AdFuel)!=null&&$.setModuleLoaded(t.MODULE_LOG_TAG)}))})):(t.logger.warn("Not initializing ".concat(t.MODULE_NAME," for environmental reasons."),t.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(t.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(t.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",function(){window.AdFuel.setModuleReady(t.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(t.MODULE_LOG_TAG)}))):(t.logger.log("Waiting for AdFuel..."),t.waitForAdFuel().then(function(){var s;(s=window.AdFuel)!=null&&s.registerModule(t)||document.addEventListener("AdFuelCreated",function(){var $;t.logger.log("Registering with AdFuel..."),($=window.AdFuel)!=null&&$.registerModule(t)}),t.logger.log("Checking Environment..."),t.environmentMatchesFlags()?(t.logger.log("Calling Init..."),t.init().then(function(){var $;window.AdFuel?(t.logger.log("Setting Module Loaded..."),($=window.AdFuel)!=null&&$.setModuleLoaded(t.MODULE_LOG_TAG)):(t.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var a;t.logger.log("Setting Module Loaded..."),(a=window.AdFuel)!=null&&a.setModuleLoaded(t.MODULE_LOG_TAG)}))})):t.logger.warn("Not initializing ".concat(t.MODULE_NAME," for environmental reasons."),t.moduleFlags)}).catch(function(s){t.logger.warn("".concat(t.MODULE_NAME," errored waiting for AdFuel."),s)})):(t.logger.info("User consent is not granted."),(le=window.AdFuel)!=null&&le.setModuleLoaded(t.MODULE_LOG_TAG))}).catch(function(le){t.logger.warn("".concat(t.MODULE_NAME," errored waiting for consent."),le)})},this.waitForAdFuel=function(){return(t.moduleFlags&d.RunWithoutAdFuel)===d.RunWithoutAdFuel?Promise.resolve():(0,G.promiseWithTimeout)(5e3,new Promise(function(le){window.AdFuel?le():document.addEventListener("AdFuelCreated",function(){le()})}))},this.waitForUserConsent=function(){return!t.userConsentLib||(t.moduleFlags&d.RunWithoutConsent)==d.RunWithoutConsent?Promise.resolve():(0,G.promiseWithTimeout)(5e3,new Promise(function(le){var s;t._logger.log("Consent Promise with Timeout..."),(s=t.userConsentLib)!=null&&s.isReady()?(t._logger.log("Consent Is Ready..."),(s=t.userConsentLib)!=null&&s.isInRegion("gdpr")?(t._logger.log("Region is GDPR..."),(s=((s=t.userConsentLib)==null?void 0:s.isOneTrustLoaded())&&!((s=t.userConsentLib)!=null&&s.isOneTrustFailing()))!=null&&s?(t._logger.log("Optanon is Loaded..."),le()):(t._logger.log("Waiting for OneTrust..."),document.addEventListener("oneTrustLoaded",function(){t._logger.log("OneTrust is Loaded..."),le()}),document.addEventListener("oneTrustFailed",function(){t._logger.error("OneTrust Failed To Load..."),le()}),document.addEventListener("oneTrustBlocked",function(){t._logger.error("OneTrust Loading Was Blocked..."),le()}))):(t._logger.log("Region is not GDPR..."),le())):t.userConsentLib?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",function(){console.log("Consent Is Ready..."),le()})):(console.log("No User Consent..."),le())}))},this._logger=new b.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}n.AAdFuelModule=i},{"./Logger":3,"./localization":8,"./promiseWithTimeout":9}],2:[function(v,ae,n){function d(){}Object.defineProperty(n,"__esModule",{value:!0}),n.CookieHelper=void 0,d.hasCookie=function(b){return typeof window<"u"&&!(!document||!document.cookie)&&(0<=document.cookie.indexOf("; "+b+"=")||document.cookie.indexOf(b+"=")===0)},d.setCookie=function(b){var G=b.cookieName+"="+b.cookieValue+";";b.attributes.forEach(function(y){G+=" "+y.key+"="+y.value+";"}),b.secure&&(G+=" Secure"),document.cookie=G},d.readCookie=function(b){var G,y,i=!1,V=null;return(i=typeof localStorage<"u"?!0:i)&&(V=localStorage.getItem(b)),i&&V!==null||(y=(G=b).length+1,V=typeof document<"u"&&document.cookie&&document.cookie.split(";").map(function(Ie){return Ie.trim()}).filter(function(Ie){return Ie.substring(0,y)==="".concat(G,"=")}).map(function(Ie){return decodeURIComponent(Ie.substring(y))})[0]||null),V},n.CookieHelper=d},{}],3:[function(v,ae,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Logger=n.LogLevel=void 0,(b=d=n.LogLevel||(n.LogLevel={})).Info="background: green;color: white;",b.Warning="background: orange;color: black",b.Error="background: red;color:white",Object.defineProperty(G.prototype,"isDebugging",{get:function(){var y;return this._debug===void 0&&(y=this.getUrlParam("debug").split(","),this._debug=y[0]==="true"||0<=y.indexOf(this._logKey.toLowerCase())),this._debug},enumerable:!1,configurable:!0}),G.prototype.info=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.warn=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.error=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.log=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.groupStart=function(y){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(y," - START -----"),this._normalStyle))},G.prototype.groupEnd=function(y){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},G.prototype.timeStart=function(y){var i="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(y);this.groupStart(y),console.time(i)},G.prototype.timeEnd=function(y){var i="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(y);this.groupEnd(y),console.timeEnd(i)},G.prototype.getUrlParam=function(y){return typeof document<"u"&&(y=y.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),y=new RegExp("[\\?&]"+y+"=([^&#]*)"),document)&&document.location&&document.location.search&&(y=y.exec(document.location.search))?y[1]:""};var d,b=G;function G(y,i,V,Ie){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=y||"",this._moduleVersion=i||"",this._logKey=V||(y==null?void 0:y.toLowerCase())||"",this._normalStyle=Ie||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),d.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),d.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),d.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),d.Info,this._normalStyle))}n.Logger=b},{}],4:[function(v,ae,n){function d(b,G,y,i){var V=this;this.setMajorTo=b,this.setMinorTo=G,this.setRevisionTo=y,this.setFamilyTo=i,this.setfamily=function(Ie){return V.setFamilyTo=Ie,V},this.toString=function(){return"".concat(V.major,".").concat(V.minor.toString().padStart(2,"0"),".").concat(V.revision.toString().padStart(3,"0")," ").concat(V.family).trim()}}Object.defineProperty(n,"__esModule",{value:!0}),n.Version=void 0,Object.defineProperty(d.prototype,"major",{get:function(){var b;return(b=this.setMajorTo)!=null?b:0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"minor",{get:function(){var b;return(b=this.setMinorTo)!=null?b:0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"revision",{get:function(){var b;return(b=this.setRevisionTo)!=null?b:0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"family",{get:function(){var b;return(b=this.setFamilyTo)!=null?b:""},enumerable:!1,configurable:!0}),n.Version=d},{}],5:[function(v,ae,n){Object.defineProperty(n,"__esModule",{value:!0}),n.generateCacheBuster=void 0,n.generateCacheBuster=function(){for(var d="",b=0;b<10;b++)d+=Math.floor(9*Math.random()).toString();return d}},{}],6:[function(v,ae,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getUrlParam=void 0,n.getUrlParam=function(d){return typeof document<"u"&&(d=d.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),d=new RegExp("[\\?&]"+d+"=([^&#]*)"),document)&&document.location&&document.location.search&&(d=d.exec(document.location.search))?d[1]:""}},{}],7:[function(v,ae,n){Object.defineProperty(n,"__esModule",{value:!0}),n.loadScriptFromUrl=void 0;var d=v("./promiseWithTimeout");n.loadScriptFromUrl=function(b,G,y,i){return y===void 0&&(y=document),i===void 0&&(i=!0),(0,d.promiseWithTimeout)(5e3,new Promise(function(V,Ie){var F,Fe,Ee=y.createElement("script");if(Ee.setAttribute("data-nscript","beforeInteractive"),document.getElementById(G))Ie("Element name ".concat(G," already exists in the document."));else try{var Te="",fe=(Te=1<b.split("//").length?b:((Fe=((F=y.location)==null?void 0:F.protocol)==="https:")!==null&&Fe?"https://":"http://").concat(b),y.getElementsByTagName("script")[0]);Ee.id=G,Ee.type="text/javascript",Ee.src=Te,Ee.async=i,Ee.addEventListener("load",function(){V(Ee)}),fe!=null&&fe.parentNode?fe.parentNode.insertBefore(Ee,fe):document.head.appendChild(Ee)}catch(Ae){console.log("Error in loading script from ".concat(Ee.src),Ae),Ie(Ae)}}))}},{"./promiseWithTimeout":9}],8:[function(v,ae,n){Object.defineProperty(n,"__esModule",{value:!0}),n.setIsUSnowleb=n.setIsIntl=n.isCanada=n.isUSnowleb=n.isIntl=void 0;var d=v("./setHostAndPathNames"),b=v("./getUrlParam"),G=v("./Logger"),y=v("./variables"),i=new G.Logger(y.MODULE_NAME,y.MODULE_VERSION.toString(),y.MODULE_LOG_TAG,"color: coral; padding: 2px"),V=!1,Ie=!1,F=!1;n.isIntl=function(){var Fe=(((Fe=(Fe=window.AdFuelOptions)==null?void 0:Fe.ADFUEL)==null?void 0:Fe.DOMESTICITY)||"US,CA").split(","),Ee=!1,Te=(Te=(Te=window.WM)==null?void 0:Te.UserConsent)!=null&&Te.getGeoCountry&&typeof((Te=(Te=window.WM)==null?void 0:Te.UserConsent)==null?void 0:Te.getGeoCountry)=="function"?(Te=(Te=window.WM)==null?void 0:Te.UserConsent)==null?void 0:Te.getGeoCountry():y.countryCode,fe=(fe=(fe=window.WM)==null?void 0:fe.UserConsent)!=null&&fe.getGeoState&&typeof((fe=(fe=window.WM)==null?void 0:fe.UserConsent)==null?void 0:fe.getGeoState)=="function"?(fe=(fe=window.WM)==null?void 0:fe.UserConsent)==null?void 0:fe.getGeoState():"";return Te==="CA"&&(F=!0),i.log("Domestic Country Codes: ",Fe),i.log("UserConsent Location: ",{state:fe,country:Te}),Ee=(0,b.getUrlParam)("isIntl")==="true"?(V||(V=!0,i.log("Faking international site. Using International PubIds.")),!0):Te===""||Te===null?(V||(V=!0,i.log("No country code. Using Domestic PubIds.")),!1):!Fe.includes(Te)||Fe.includes("NONE")?(0,n.isUSnowleb)()?(V||(V=!0,i.log('International site but "domestic" page. Using Alternate International PubIds.')),!1):(V||(V=!0,i.log("International site or country code. Using International PubIds.")),!0):(Fe.includes("ALL")?V||(V=!0,i.log("Full Domestic site. Using Domestic PubIds.")):V||(V=!0,i.log("Domestic site or country code. Using Domestic PubIds.")),!1),i.log("Returning IsIntl: ",Ee),Ee},n.isUSnowleb=function(){return 0<=(0,d.setHostAndPathNames)().search(/^.*us\.nowleb\.com/)&&(Ie=!0),i.log("Is User on US.nowleb.COM? ",Ie),Ie},n.isCanada=function(){return i.log("Is User From Canada? ",F),F},n.setIsIntl=n.isIntl,n.setIsUSnowleb=n.isUSnowleb},{"./Logger":3,"./getUrlParam":6,"./setHostAndPathNames":10,"./variables":11}],9:[function(v,ae,n){Object.defineProperty(n,"__esModule",{value:!0}),n.promiseWithTimeout=void 0,n.promiseWithTimeout=function(d,b,G){G===void 0&&(G="The promise timed out.");var y=new Promise(function(i,V){var Ie=setTimeout(function(){clearTimeout(Ie),V(G)},d)});return Promise.race([b,y])}},{}],10:[function(v,ae,n){Object.defineProperty(n,"__esModule",{value:!0}),n.setHostAndPathNames=void 0,n.setHostAndPathNames=function(){var d=typeof document<"u"?document.createElement("a"):{href:"",hostname:"",pathname:""};return d.href=typeof document<"u"?document.location.href:"",d.hostname}},{}],11:[function(b,ae,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hasUserConsent=n.selectedEdition=n.locationServiceURL=n.countryCode=n.noop=n.toString=n.MODULE_LOG_TAG=n.MODULE_VERSION=n.MODULE_NAME=void 0;var d=b("./Version"),b=b("./CookieHelper"),G=Object.prototype;n.MODULE_NAME="Ad Utilities",n.MODULE_VERSION=new d.Version(5,0,102,"TS"),n.MODULE_LOG_TAG="utils",n.toString=G.toString,n.noop=function(){},n.countryCode=b.CookieHelper.readCookie("countryCode")||((G=(d=b.CookieHelper.readCookie("CG"))==null?void 0:d.substring(0,2))!=null?G:""),n.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",n.selectedEdition=(d=b.CookieHelper.readCookie("SelectedEdition"))!=null?d:"www",n.hasUserConsent=typeof window<"u"&&(window.WM&&window.WM.UserConsent||window.WBD&&window.WBD.UserConsent)||!1},{"./CookieHelper":2,"./Version":4}],12:[function(v,ae,n){n.__esModule=!0;var d,b=v("./isMobile");for(d in b)n.hasOwnProperty(d)||(n[d]=b[d]);v=v("./isMobile"),n.default=v.default},{"./isMobile":13}],13:[function(v,ae,n){n.__esModule=!0;function d(s){return s!==void 0&&s.platform==="MacIntel"&&typeof s.maxTouchPoints=="number"&&1<s.maxTouchPoints&&typeof MSStream>"u"}var b=/iPhone/i,G=/iPod/i,y=/iPad/i,i=/\biOS-universal(?:.+)Mac\b/i,V=/\bAndroid(?:.+)Mobile\b/i,Ie=/Android/i,F=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Fe=/Silk/i,Ee=/Windows Phone/i,Te=/\bWindows(?:.+)ARM\b/i,fe=/BlackBerry/i,Ae=/BB10/i,be=/Opera Mini/i,t=/\b(CriOS|Chrome)(?:.+)Mobile/i,le=/Mobile(?:.+)Firefox\b/i;n.default=function(s){var $,a={userAgent:"",platform:"",maxTouchPoints:0};s||typeof navigator>"u"?typeof s=="string"?a.userAgent=s:s&&s.userAgent&&(a={userAgent:s.userAgent,platform:s.platform,maxTouchPoints:s.maxTouchPoints||0}):a={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var o=(s=a.userAgent).split("[FBAN");return(o=(s=o[1]!==void 0?o[0]:s).split("Twitter"))[1]!==void 0&&(s=o[0]),$=s,(s={apple:{phone:(o=function(r){return r.test($)})(b)&&!o(Ee),ipod:o(G),tablet:!o(b)&&(o(y)||d(a))&&!o(Ee),universal:o(i),device:(o(b)||o(G)||o(y)||o(i)||d(a))&&!o(Ee)},amazon:{phone:o(F),tablet:!o(F)&&o(Fe),device:o(F)||o(Fe)},android:{phone:!o(Ee)&&o(F)||!o(Ee)&&o(V),tablet:!o(Ee)&&!o(F)&&!o(V)&&(o(Fe)||o(Ie)),device:!o(Ee)&&(o(F)||o(Fe)||o(V)||o(Ie))||o(/\bokhttp\b/i)},windows:{phone:o(Ee),tablet:o(Te),device:o(Ee)||o(Te)},other:{blackberry:o(fe),blackberry10:o(Ae),opera:o(be),firefox:o(le),chrome:o(t),device:o(fe)||o(Ae)||o(be)||o(le)||o(t)},any:!1,phone:!1,tablet:!1}).any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}},{}],14:[function(s,ae,n){var d,b,$=this&&this.__extends||(d=function(o,r){return(d=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,l){e.__proto__=l}:function(e,l){for(var I in l)Object.prototype.hasOwnProperty.call(l,I)&&(e[I]=l[I])}))(o,r)},function(o,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function e(){this.constructor=o}d(o,r),o.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}),G=this&&this.__awaiter||function(o,r,e,l){return new(e=e||Promise)(function(I,x){function L(ee){try{ie(l.next(ee))}catch(O){x(O)}}function g(ee){try{ie(l.throw(ee))}catch(O){x(O)}}function ie(ee){var O;ee.done?I(ee.value):((O=ee.value)instanceof e?O:new e(function(f){f(O)})).then(L,g)}ie((l=l.apply(o,r||[])).next())})},y=this&&this.__generator||function(o,r){var e,l,I,x={label:0,sent:function(){if(1&I[0])throw I[1];return I[1]},trys:[],ops:[]},L={next:g(0),throw:g(1),return:g(2)};return typeof Symbol=="function"&&(L[Symbol.iterator]=function(){return this}),L;function g(ie){return function(ee){var O=[ie,ee];if(e)throw new TypeError("Generator is already executing.");for(;x=L&&O[L=0]?0:x;)try{if(e=1,l&&(I=2&O[0]?l.return:O[0]?l.throw||((I=l.return)&&I.call(l),0):l.next)&&!(I=I.call(l,O[1])).done)return I;switch(l=0,(O=I?[2&O[0],I.value]:O)[0]){case 0:case 1:I=O;break;case 4:return x.label++,{value:O[1],done:!1};case 5:x.label++,l=O[1],O=[0];continue;case 7:O=x.ops.pop(),x.trys.pop();continue;default:if(!(I=0<(I=x.trys).length&&I[I.length-1])&&(O[0]===6||O[0]===2)){x=0;continue}if(O[0]===3&&(!I||O[1]>I[0]&&O[1]<I[3]))x.label=O[1];else if(O[0]===6&&x.label<I[1])x.label=I[1],I=O;else{if(!(I&&x.label<I[2])){I[2]&&x.ops.pop(),x.trys.pop();continue}x.label=I[2],x.ops.push(O)}}O=r.call(o,x)}catch(f){O=[6,f],l=0}finally{e=I=0}if(5&O[0])throw O[1];return{value:O[0]?O[1]:void 0,done:!0}}}},i=this&&this.__spreadArray||function(o,r,e){if(e||arguments.length===2)for(var l,I=0,x=r.length;I<x;I++)!l&&I in r||((l=l||Array.prototype.slice.call(r,0,I))[I]=r[I]);return o.concat(l||Array.prototype.slice.call(r))},V=(Object.defineProperty(n,"__esModule",{value:!0}),n.Prebid=void 0,s("@turnercode/digital-ads-utilities/dist/AAdFuelModule")),Ie=s("@turnercode/digital-ads-utilities/dist/Version"),F=s("@turnercode/digital-ads-utilities/dist/localization"),Fe=s("@turnercode/digital-ads-utilities/dist/generateCacheBuster"),Ee=s("@turnercode/digital-ads-utilities/dist/getUrlParam"),Te=s("@turnercode/digital-ads-utilities/dist/CookieHelper"),fe=s("@turnercode/digital-ads-utilities/dist/loadScriptFromUrl"),Ae=s("ismobilejs"),be=s("./version.json"),t=(s("./prebid-noTCFControl"),function(){var o=this;this.bidder="",this.params={},this.setBidder=function(r){o.bidder=r},this.setParams=function(r){o.params=r},this.addParam=function(r,e,l){o.params[r]=(l=l===void 0?!1:l)?parseInt(e,10):e}}),le=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"],s={BIDDERS:{CLIENT:{DOM:[],INTL:[]},OUTSTREAM:{DOM:[],INTL:[]},S2S:{DOM:[],INTL:[]},VIDEO:{DOM:[],INTL:[]}},DEBUG:!1,SEND_ALL_BIDS:{DOM:!0,INTL:!0},TIMEOUTS:{DISPLAY:{DESKTOP:1150,MOBILE:750},VIDEO:{DEFAULT:500,MIDROLL:750,REFRESH:1e3}},VENDOR:{APPNEXUS:{ACCOUNT_ID:{DOM:"7745",INTL:"8353"}},CRITEO:{ACCOUNT_ID:{DOM:4157,INTL:9264}},RUBICON:{ACCOUNT_ID:{DOM:11078,INTL:11016},SITE_ID:{DOM:{DESKTOP:0,MOBILE:0},INTL:{DESKTOP:0,MOBILE:0}},ZONE_MAPPING:{DOM:{DESKTOP:{HP:{atf:0,btf:0},ROS:{atf:0,btf:0}},MOBILE:{HP:{atf:0,btf:0},ROS:{atf:0,btf:0}}},INTL:{DESKTOP:{HP:{atf:0,btf:0},ROS:{atf:0,btf:0}},MOBILE:{HP:{atf:0,btf:0},ROS:{atf:0,btf:0}}}}},IX:{IDENTITY:"",SITE_ID:{DOM:{DESKTOP:{atf:{},btf:{}},MOBILE:{atf:{},btf:{}}},INTL:{DESKTOP:{atf:{},btf:{}},MOBILE:{atf:{},btf:{}}}}},OPENX:{UNIT_MAPPING:{DOM:{DESKTOP:{},MOBILE:{}},INTL:{DESKTOP:{},MOBILE:{}}}},SHARETHROUGH:{UNIT_MAPPING:{DOM:{DESKTOP:{},MOBILE:{}},INTL:{DESKTOP:{},MOBILE:{}}}}},PRICE_BUCKETS:{DOM:{DISPLAY:[{precision:2,min:0,max:5,increment:.01},{precision:2,min:5,max:30,increment:.05},{precision:2,min:30,max:115,increment:.01}],VIDEO:[{precision:2,min:4,max:50,increment:1},{precision:2,min:50,max:100,increment:5}],OUTSTREAM:[{precision:2,min:1,max:50,increment:1}]},INTL:{DISPLAY:[{precision:2,min:0,max:5,increment:.01},{precision:2,min:5,max:30,increment:.05},{precision:2,min:30,max:50,increment:1}],VIDEO:[{precision:2,min:4,max:50,increment:1},{precision:2,min:50,max:100,increment:5}],OUTSTREAM:[{precision:2,min:1,max:50,increment:1}]}},CONSENT_TAGS:{DOM:le,INTL:le}},$=(b=V.AAdFuelModule,$(a,b),a.prototype.preDispatch=function(o){var r=this;return new Promise(function(e,l){var I;r.enabled&&r.setGeoTargeting(),r.useDemandManager&&(0<o.length?(I=o.map(function(x){return x.gSlot}).filter(function(x){return x!=null}),r.logger.log("HeaderBidding Slots: ",I),window.pbjs.rp.requestBids({gptSlotObjects:I,callback:function(){e({name:"Prebid+DM",enabled:r.enabled,useDM:r.useDemandManager,slots:o})}})):e({name:"Prebid+DM",enabled:r.enabled,useDM:r.useDemandManager,slots:o})),e({name:"Prebid",slots:o})})},a.prototype.preRefresh=function(o){var r=this;return new Promise(function(e){var l,I,x,L,g;r.enabled?((x=r.logger)!=null&&x.log("=-=-=-=-=-=-=  PREBID PRE-REFRESH PROCESS =-=-=-=-=-=  Pre-Refresh Assets: ",o),I=!1,0<o.length?((x=r.logger)!=null&&x.log("=-=-=-=-=-=-=  PREBID PRE-REFRESH PROCESS =-=-=-=-=-=  BUILT_AD_UNITS:",r.BUILT_AD_UNITS),o.forEach(function(ie){r.BUILT_AD_UNITS.has(ie.slotId)&&r.BUILT_AD_UNITS.delete(ie.slotId)}),x=r.buildPrebidAdUnits(o),(L=r.logger)!=null&&L.log("=-=-=-=-=-=-=  PREBID PRE-REFRESH PROCESS =-=-=-=-=-=  AdUnits: ",x),L=o.map(function(ie){var ee;return(ee=r.logger)!=null&&ee.log("Page Slot: ",ie,ie.slotId),ie.slotId}),(l=r.logger)!=null&&l.log("=-=-=-=-=-=-=  PREBID PRE-REFRESH PROCESS =-=-=-=-=-=  Refreshed Page Slots: ",L),0<x.banner.length?((l=r.logger)!=null&&l.log("=-=-=-=-=-=-=  PREBID PRE-REFRESH PROCESS =-=-=-=-=-=  Banner Ad Units: ",x.banner),g=new Array,x.banner.forEach(function(ie){g.push(ie.code)}),x.outstream.forEach(function(ie){g.push(ie.code)}),(L=r.logger)!=null&&L.log("=-=-=-=-=-=-=  PREBID PRE-REFRESH PROCESS =-=-=-=-=-=  Ad Unit Codes: ",g),window.pbjs.setConfig({adpod:{brandCategoryExclusion:!1}}),(l=r.logger)!=null&&l.log("=-=-=-=-=-=-=  PREBID PRE-REFRESH PROCESS =-=-=-=-=-=  Requesting Bids...",g),window.pbjs.requestBids({adUnitCodes:g,timeout:(0,Ae.default)().any?r.config.TIMEOUTS.DISPLAY.MOBILE:r.config.TIMEOUTS.DISPLAY.DESKTOP,bidsBackHandler:function(ie,ee){var O,f;try{(f=r.logger)!=null&&f.log("GOT BIDS: ",ie,g),(O=window.googletag)!=null&&O.cmd.push(function(){window.pbjs.setTargetingForGPTAsync(g),I||(I=!0,e({name:"Prebid",bids:ie,adUnitCodes:g,slots:o}))})}catch(c){(f=r.logger)!=null&&f.warn("failed to get display ad for preRefreshCallback",c),e({name:"Prebid",err:c,slots:o})}}})):((L=r.logger)!=null&&L.log("=-=-=-=-=-=-=  PREBID PRE-REFRESH PROCESS =-=-=-=-=-=  No Ad Units to Refresh.",x),I||(I=!0,e({name:"Prebid",slots:o,adUnits:x})))):((l=r.logger)!=null&&l.log("=-=-=-=-=-=-=  PREBID PRE-REFRESH PROCESS =-=-=-=-=-=  No Slots To Refresh.",o),I||(I=!0,e({name:"Prebid",slots:o})))):r.useDemandManager?window.pbjs.rp.requestBids({callback:function(){e({name:"Prebid",enabled:r.enabled,useDM:r.useDemandManager,slots:o})}}):e({name:"Prebid"})})},a.prototype.destroySlots=function(o){var r=this;return new Promise(function(e,l){var I,x;r.enabled&&(I=Object.assign({},r.REQUESTED_AD_UNITS),x=i([],Array.from(r.BUILT_AD_UNITS),!0),o.forEach(function(L){var g;I.banner.forEach(function(ie,ee){var O;(O=r.logger)!=null&&O.log("rAU AdUnit: ",ie),ie.code===L.slotId&&((O=r.logger)!=null&&O.log("Destroying Slot Requested Record: ",L.slotId),r.REQUESTED_AD_UNITS.banner.splice(ee,1))}),x.forEach(function(ie,ee){var O;(O=r.logger)!=null&&O.log("bAU AdUnit: ",ie),ie===L.slotId&&((O=r.logger)!=null&&O.log("Destroying Slot Built Record: ",L.slotId),r.BUILT_AD_UNITS.delete(L.slotId))}),(g=r.logger)!=null&&g.log("Removing Ad Unit from pbjs: ",L.slotId),window.pbjs.removeAdUnit(L.slotId)})),e({name:"Prebid",slots:o})})},a);function a(o,r){r===void 0&&(r=V.ModuleFlags.EnableForDomestic|V.ModuleFlags.EnableForForeign|V.ModuleFlags.RunWithoutAdFuel);var e=this;return(e=b.call(this,o,"Prebid",new Ie.Version(be.major,be.minor,be.revision,be.family),"prebid","color: #58f53f; padding: 2px",r,(0,F.isIntl)()?((r=o.CONSENT_TAGS)==null?void 0:r.INTL)||le:((r=o.CONSENT_TAGS)==null?void 0:r.DOM)||le)||this).config=o,e.enabled=!0,e.libraryConfigured=!1,e.useDemandManager=!1,e.PREBID_MIDROLL_VIDEO_TARGETING={hb_pb_cat_dur:new Array,hb_cache_id:""},e.RUBICON_SIZE_MAPPING={"728x90":2,"160x600":9,"300x600":10,"300x250":15,"320x50":43,"970x90":55,"970x250":57},e.REQUESTED_AD_UNITS={banner:new Array,outstream:new Array},e.SUPPORTED_MIMES=["video/mp4","video/webm"," video/ogg"],e.videoMediaType={context:"instream",playerSize:[640,480],mimes:e.SUPPORTED_MIMES,protocols:[2,3,5,6,7],api:[],linearity:1,minduration:6,maxduration:30,skip:0,startdelay:0,placement:1},e.BUILT_AD_UNITS=new Set,e.validateConfiguration=function(l){try{e.logger.log("Configured Vendors: ",l.VENDOR);var I=Object.keys(e.config.BIDDERS);return e.logger.log("Configured Bidder Types: ",I),{status:!0,errors:[],config:e.config}}catch(x){(l=e.logger)!=null&&l.log("err on validateConfiguration: ",x)}},e.buildVideoBids=function(L,I){var x={code:L,mediaTypes:{video:{context:"instream",playerSize:[640,480],mimes:["video/mp4"],protocols:[2,3,5,6,7],api:[],linearity:1,minduration:6,maxduration:30,skip:0,startdelay:0,placement:1}},bids:[]},L=(0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.BIDDERS.VIDEO.INTL:e.config.BIDDERS.VIDEO.DOM,g=[];return L.forEach(function(ie){var ee,O=new t;switch(ie){case"appnexus":O.setBidder("appnexus"),O.addParam("invCode",I),O.addParam("member",(0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.APPNEXUS.ACCOUNT_ID.INTL:e.config.VENDOR.APPNEXUS.ACCOUNT_ID.DOM),window.nowleb&&window.nowleb.cep_topics&&O.addParam("keywords",window.nowleb.cep_topics),O.params.reserve=.01,(0,F.isIntl)()&&!(0,F.isUSnowleb)()?(e.config.VENDOR.APPNEXUS.SUPPLY_TYPE.INTL.WEB&&g.push("web"),e.config.VENDOR.APPNEXUS.SUPPLY_TYPE.INTL.MOBILE_WEB&&g.push("mobile_web")):(e.config.VENDOR.APPNEXUS.SUPPLY_TYPE.DOM.WEB&&g.push("web"),e.config.VENDOR.APPNEXUS.SUPPLY_TYPE.DOM.MOBILE_WEB&&g.push("mobile_web")),O.params.supplyType=g.join(","),O.params.video={minduration:(0,Ae.default)().any?(0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.APPNEXUS.VIDEO.DURATION.MOBILE.MIN.INTL:e.config.VENDOR.APPNEXUS.VIDEO.DURATION.MOBILE.MIN.DOM:(0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.APPNEXUS.VIDEO.DURATION.DESKTOP.MIN.INTL:e.config.VENDOR.APPNEXUS.VIDEO.DURATION.DESKTOP.MIN.DOM,maxduration:(0,Ae.default)().any?(0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.APPNEXUS.VIDEO.DURATION.MOBILE.MAX.INTL:e.config.VENDOR.APPNEXUS.VIDEO.DURATION.MOBILE.MAX.DOM:(0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.APPNEXUS.VIDEO.DURATION.DESKTOP.MAX.INTL:e.config.VENDOR.APPNEXUS.VIDEO.DURATION.DESKTOP.MAX.DOM,context:(0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.APPNEXUS.CONTEXT.INTL:e.config.VENDOR.APPNEXUS.CONTEXT.DOM,skippable:!1,playback_method:(0,F.isIntl)()&&!(0,F.isUSnowleb)()?(0,Ae.default)().any?e.config.VENDOR.APPNEXUS.PLAYBACK_METHOD.INTL.MOBILE:e.config.VENDOR.APPNEXUS.PLAYBACK_METHOD.INTL.DESKTOP:(0,Ae.default)().any?e.config.VENDOR.APPNEXUS.PLAYBACK_METHOD.DOM.MOBILE:e.config.VENDOR.APPNEXUS.PLAYBACK_METHOD.DOM.DESKTOP,frameworks:[]},(ee=e.logger)!=null&&ee.log("Pushing AppNexus Bid: ",O),x.bids.push(JSON.parse(JSON.stringify(O))),JSON.parse(JSON.stringify(O.params));break;case"ix":O.setBidder("ix"),O.params={siteId:(0,F.isIntl)()&&!(0,F.isUSnowleb)()?(0,Ae.default)().any?e.config.VENDOR.IX.VIDEO.SITE_ID.INTL.MOBILE:e.config.VENDOR.IX.VIDEO.SITE_ID.INTL.DESKTOP:(0,Ae.default)().any?e.config.VENDOR.IX.VIDEO.SITE_ID.DOM.MOBILE:e.config.VENDOR.IX.VIDEO.SITE_ID.DOM.DESKTOP,video:{w:640,h:480,mimes:e.SUPPORTED_MIMES,minduration:(0,Ae.default)().any?(0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.IX.VIDEO.DURATION.MOBILE.MIN.INTL:e.config.VENDOR.IX.VIDEO.DURATION.MOBILE.MIN.DOM:(0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.IX.VIDEO.DURATION.DESKTOP.MIN.INTL:e.config.VENDOR.IX.VIDEO.DURATION.DESKTOP.MIN.DOM,maxduration:(0,Ae.default)().any?(0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.IX.VIDEO.DURATION.MOBILE.MAX.INTL:e.config.VENDOR.IX.VIDEO.DURATION.MOBILE.MAX.DOM:(0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.IX.VIDEO.DURATION.DESKTOP.MAX.INTL:e.config.VENDOR.IX.VIDEO.DURATION.DESKTOP.MAX.DOM,protocols:[2,3,5,6]}},x.bids.push(JSON.parse(JSON.stringify(O))),JSON.parse(JSON.stringify(O.params));break;case"rubicon":O.setBidder("rubicon"),O.params={accountId:(0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.RUBICON.ACCOUNT_ID.INTL:e.config.VENDOR.RUBICON.ACCOUNT_ID.DOM,siteId:(0,F.isIntl)()&&!(0,F.isUSnowleb)()?(0,Ae.default)().any?e.config.VENDOR.RUBICON.SITE_ID.INTL.VIDEO.MOBILE:e.config.VENDOR.RUBICON.SITE_ID.INTL.VIDEO.DESKTOP:(0,Ae.default)().any?e.config.VENDOR.RUBICON.SITE_ID.DOM.VIDEO.MOBILE:e.config.VENDOR.RUBICON.SITE_ID.DOM.VIDEO.DESKTOP,zoneId:(0,F.isIntl)()&&!(0,F.isUSnowleb)()?(0,Ae.default)().any?e.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.VIDEO.MOBILE.HP.atf||0:e.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.VIDEO.DESKTOP.HP.atf||0:(0,Ae.default)().any?e.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.VIDEO.MOBILE.HP.atf||0:e.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.VIDEO.DESKTOP.HP.atf||0,video:{language:e.config.VENDOR.RUBICON.VIDEO.LANGUAGE,minduration:(0,Ae.default)().any?(0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.RUBICON.VIDEO.DURATION.MOBILE.MIN.INTL:e.config.VENDOR.RUBICON.VIDEO.DURATION.MOBILE.MIN.DOM:(0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.RUBICON.VIDEO.DURATION.DESKTOP.MIN.INTL:e.config.VENDOR.RUBICON.VIDEO.DURATION.DESKTOP.MIN.DOM,maxduration:(0,Ae.default)().any?(0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.RUBICON.VIDEO.DURATION.MOBILE.MAX.INTL:e.config.VENDOR.RUBICON.VIDEO.DURATION.MOBILE.MAX.DOM:(0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.RUBICON.VIDEO.DURATION.DESKTOP.MAX.INTL:e.config.VENDOR.RUBICON.VIDEO.DURATION.DESKTOP.MAX.DOM}},x.bids.push(JSON.parse(JSON.stringify(O))),JSON.parse(JSON.stringify(O.params));break;case"spotx":O.setBidder("spotx"),O.params={channel_id:(0,F.isIntl)()&&!(0,F.isUSnowleb)()?(0,Ae.default)().any?e.config.VENDOR.SPOTX.CHANNEL_ID.INTL.MOBILE:e.config.VENDOR.SPOTX.CHANNEL_ID.INTL.DESKTOP:(0,Ae.default)().any?e.config.VENDOR.SPOTX.CHANNEL_ID.DOM.MOBILE:e.config.VENDOR.SPOTX.CHANNEL_ID.DOM.DESKTOP,ad_unit:"instream",secure:!0,mimes:e.SUPPORTED_MIMES,hide_skin:!0,min_duration:(0,Ae.default)().any?(0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.SPOTX.VIDEO.DURATION.MOBILE.MIN.INTL:e.config.VENDOR.SPOTX.VIDEO.DURATION.MOBILE.MIN.DOM:(0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.SPOTX.VIDEO.DURATION.DESKTOP.MIN.INTL:e.config.VENDOR.SPOTX.VIDEO.DURATION.DESKTOP.MIN.DOM,max_duration:(0,Ae.default)().any?(0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.SPOTX.VIDEO.DURATION.MOBILE.MAX.INTL:e.config.VENDOR.SPOTX.VIDEO.DURATION.MOBILE.MAX.DOM:(0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.SPOTX.VIDEO.DURATION.DESKTOP.MAX.INTL:e.config.VENDOR.SPOTX.VIDEO.DURATION.DESKTOP.MAX.DOM,placement_type:1},x.bids.push(JSON.parse(JSON.stringify(O))),JSON.parse(JSON.stringify(O.params));break;case"telaria":O.setBidder("telaria"),O.params={adCode:(0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.TELARIA.AD_CODE.INTL:e.config.VENDOR.TELARIA.AD_CODE.DOM,supplyCode:(0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.TELARIA.SUPPLY_CODE.INTL:e.config.VENDOR.TELARIA.SUPPLY_CODE.DOM},x.bids.push(JSON.parse(JSON.stringify(O))),JSON.parse(JSON.stringify(O.params));break;default:(ee=e.logger)!=null&&ee.log("bidder: ",ie)}}),x},e.getVideoBids=function(l,I,x){return l===void 0&&(l="nowleb_homepage_video1"),I===void 0&&(I=750),x===void 0&&(x={}),new Promise(function(L,g){var ie,ee,O;if(e.enabled)try{(ie=e.logger)!=null&&ie.log("Building Video AdUnit");var f=e.buildVideoBids("video1",l);e.BUILT_AD_UNITS.has(f.code)&&((ee=e.logger)!=null&&ee.log("Removing Video Ad Unit...",f.code),window.pbjs.removeAdUnit(f.code),e.BUILT_AD_UNITS.delete(f.code)),window.pbjs.addAdUnits(f),e.BUILT_AD_UNITS.add(f.code),(O=e.logger)!=null&&O.log("Requesting Video Bids...",f),window.pbjs.setConfig({adpod:{brandCategoryExclusion:!1}}),window.pbjs.requestBids({adUnitCodes:[f.code],bidsBackHandler:function(c,_){var C,h,D,U,k,M;try{_?((h=e.logger)!=null&&h.log("Timed out...",c),g({err:"Bid request timed out."})):(D=window.pbjs.getHighestCpmBids([f.code]),U=D[0],k="",D.forEach(function(Y){Y.videoCacheKey&&k!==""&&(k=U.videoCacheKey)}),(C=e.logger)!=null&&C.log("Received bids...",c),M=window.pbjs.getAdserverTargeting()[f.code],k!==""&&(M.hb_uuid=k),L(M))}catch(Y){g(Y)}},timeout:I})}catch(c){g(c)}else e.useDemandManager})},e.getRefreshedVideoBids=function(l,I,x){return l===void 0&&(l="nowleb_homepage_video1"),I===void 0&&(I=750),x===void 0&&(x={}),new Promise(function(L,g){var ie,ee,O;try{(ie=e.logger)!=null&&ie.log("Building Video AdUnit");var f=e.buildVideoBids("video2",l);e.BUILT_AD_UNITS.has(f.code)&&((ee=e.logger)!=null&&ee.log("Removing Video Ad Unit...",f.code),window.pbjs.removeAdUnit(f.code),e.BUILT_AD_UNITS.delete(f.code)),window.pbjs.addAdUnits(f),e.BUILT_AD_UNITS.add(f.code),(O=e.logger)!=null&&O.log("Requesting Video Bids...",f),window.pbjs.setConfig({adpod:{brandCategoryExclusion:!1}}),window.pbjs.requestBids({adUnitCodes:[f.code],bidsBackHandler:function(c,_){var C,h,D,U,k,M;try{_?((h=e.logger)!=null&&h.log("Timed out...",c),g({err:"Bid request timed out."})):(D=window.pbjs.getHighestCpmBids([f.code]),U=D[0],k="",D.forEach(function(Y){Y.videoCacheKey&&k!==""&&(k=U.videoCacheKey)}),(C=e.logger)!=null&&C.log("Received bids...",c),M=window.pbjs.getAdserverTargeting()[f.code],k!==""&&(M.hb_uuid=k),L(M))}catch(Y){g(Y)}},timeout:I})}catch(c){g(c)}})},e.getMidRollVideoBids=function(l,I,x,L,g,ie){return l===void 0&&(l="nowleb_homepage_midroll"),I===void 0&&(I=750),x===void 0&&(x=30),L===void 0&&(L=[30]),g===void 0&&(g=[640,480]),ie===void 0&&(ie=30),new Promise(function(ee,O){var f,c;try{(f=e.logger)!=null&&f.log("Building Video AdUnit...");var _={code:"midroll".concat((0,Fe.generateCacheBuster)()),mediaTypes:{video:{context:"adpod",playerSize:g,adPodDurationSec:x,durationRangeSec:L}},bids:[{bidder:"appnexus",params:{invCode:l,member:(0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.APPNEXUS.ACCOUNT_ID.INTL:e.config.VENDOR.APPNEXUS.ACCOUNT_ID.DOM,video:{skippable:!1,playback_methods:["auto_play_sound_on"]}}}]};(c=e.logger)!=null&&c.log("Adding Video AdUnits: ",_),ee({})}catch(C){O(C)}})},e.buildPrebidOutstreamAdUnits=function(l){var I,x,L,g;try{for(var ie={code:"video1",mediaTypes:{banner:{sizes:(0,Ae.default)().any?[[300,250],[1,1]]:[[640,360],[1,1]]},video:{context:"outstream",playerSize:(0,Ae.default)().any?[320,180]:[640,360]}},bids:new Array,sizes:(0,Ae.default)().any?[[300,250],[1,1]]:[[640,360],[1,1]]},ee=(0,F.isIntl)()?e.config.BIDDERS.OUTSTREAM.INTL:e.config.BIDDERS.OUTSTREAM.DOM,O=((g=e.logger)!=null&&g.log("Outstream Bidders: ",ee),l.unWrappedSlot.rktr_ad_id.split("/")[0].toLowerCase()),f=l.unWrappedSlot.rktr_slot_id.replace("ad_",""),c=l.targeting||[],_=((I=e.logger)!=null&&I.log("Slot Targets: ",c),0);_<l.unWrappedSlot.targeting.length;_++){var C=l.targeting[_];C[0]==="pos"&&(f=C[1][0],C[1][0].split("_")[1])}return(0,Ae.default)().any&&((x=e.logger)!=null&&x.log("Toggling incrementer to 02 for mobile Outstream slot..."),f=f.replace("_01","_02")),ee.forEach(function(h){var D,U,k=new t;switch((D=e.logger)!=null&&D.log("Outstream Bidder: ",{outstreamBidMock:k,slot:l}),ie.code=l.slotId||l.unWrappedSlot.rktr_slot_id,h){case"appnexus":k.setBidder("appnexus"),k.addParam("invCode","".concat(O,"_").concat(f)),k.addParam("member",(0,F.isIntl)()?e.config.VENDOR.APPNEXUS.ACCOUNT_ID.INTL:e.config.VENDOR.APPNEXUS.ACCOUNT_ID.DOM),window.nowleb&&window.nowleb.cep_topics&&k.addParam("keywords",window.nowleb.cep_topics),(U=e.logger)!=null&&U.log("AppNexus Bid Mock: ",k);break;case"ix":k.setBidder("ix"),k.addParam("siteId",(0,F.isIntl)()?((U=e.config.VENDOR.IX.SITE_ID.OUTSTREAM)==null?void 0:U.INTL)||0:((U=e.config.VENDOR.IX.SITE_ID.OUTSTREAM)==null?void 0:U.DOM)||0),k.addParam("video",{w:640,h:360,playerSize:[640,360],plcmt:[2],mimes:["video/mp4","video/webm","applications/javascript"],minduration:5,maxduration:60,protocols:[2,3,5,6]});break;case"pubmatic":k.setBidder("pubmatic"),k.addParam("publisherId",(0,F.isIntl)()?e.config.VENDOR.PUBMATIC.PUBLISHER_ID.INTL:e.config.VENDOR.PUBMATIC.PUBLISHER_ID.DOM),k.addParam("outstreamAU","".concat(O,"_").concat(f)),k.addParam("video",{mimes:["video/mp4","video/x-flv"]}),k.addParam("adSlot",((0,F.isIntl)()?(0,Ae.default)().any?e.config.VENDOR.PUBMATIC.MAPPINGS.INTL.MOBILE:e.config.VENDOR.PUBMATIC.MAPPINGS.INTL.DESKTOP:(0,Ae.default)().any?e.config.VENDOR.PUBMATIC.MAPPINGS.DOM.MOBILE:e.config.VENDOR.PUBMATIC.MAPPINGS.DOM.DESKTOP)[k.params.outstreamAU]);break;case"teads":k.setBidder("teads"),k.addParam("placementId",(0,F.isIntl)()?e.config.VENDOR.TEADS.PLACEMENT_ID.INTL:e.config.VENDOR.TEADS.PLACEMENT_ID.DOM),k.addParam("pageId",(0,F.isIntl)()?e.config.VENDOR.TEADS.PAGE_ID.INTL:e.config.VENDOR.TEADS.PAGE_ID.DOM)}ie.bids.push(k)}),(L=e.logger)!=null&&L.log("Outstream Ad Unit Mock: ",ie),ie}catch(h){return(g=e.logger)!=null&&g.error("Error when building Prebid Outstream Ad Units: ",h),{}}},e.buildPrebidAdUnits=function(g){var I,x=new Array,L=new Array,g=(g.forEach(function(ie){(c=e.logger)!=null&&c.log("Wrapped Slot: ",ie);var ee=ie.unWrappedSlot;if((c=e.logger)!=null&&c.log("Unwrapped Slot: ",ee),ee.rktr_ad_id){(c=e.logger)!=null&&c.log("Slot has an ad unit:",ee.rktr_ad_id);var O={code:"",ortb2Imp:{ext:{gpid:""}},mediaTypes:{banner:{sizes:new Array}},bids:new Array};if(ie.monetization.isMonetized)if((c=e.logger)!=null&&c.log("Slot is monetized."),0<=ee.rktr_slot_id.indexOf("_out_vid_"))(c=e.logger)!=null&&c.log("Building Outstream Ad Unit: ",ee),L.push(e.buildPrebidOutstreamAdUnits(ie));else{(c=e.logger)!=null&&c.log("Building Banner Ad Unit: ",ee);var f=new Array,c=((c=e.logger)!=null&&c.log("Size Mappings: ",e.RUBICON_SIZE_MAPPING),ie.monetization.filteredSizes.forEach(function(Q,w){var u,p="".concat(Q.width,"x").concat(Q.height);(u=e.logger)!=null&&u.log("Filtered Size: ",{sizeWrapper:Q,index:w,targetSize:p}),f.push(e.RUBICON_SIZE_MAPPING[p])}),(c=e.logger)!=null&&c.log("Size Map Array: ",f),ee.rktr_ad_id.toLowerCase().split("/")),_=((X=e.logger)!=null&&X.log("Ad Unit Array: ",c),c[0]+(c[1]?"_"+c[1]:"")),C=((X=e.logger)!=null&&X.log("criteoPubSubId: ",_),ee.rktr_ad_id.split("/")),h=C[0].toLowerCase()+(C[1]?"_"+C[1].toLowerCase():""),D=((c=e.logger)!=null&&c.log("invCode: ",{invCode:h,invCodeArray:C}),""),U="atf";(X=e.logger)!=null&&X.log("A pos: ",{posValue:D,position:U});for(var k=0;k<ie.unWrappedSlot.targeting.length;k++){var M=ie.unWrappedSlot.targeting[k];M[0]==="pos"&&(D=M[1][0],U=M[1][0].split("_")[1])}(c=e.logger)!=null&&c.log("B pos: ",{posValue:D,position:U});var Y=0<=ee.rktr_ad_id.indexOf("/homepage")||0<=ee.rktr_ad_id.indexOf("/business/landing"),X=((X=e.logger)!=null&&X.log("Is Homepage: ",Y),O.code=ee.rktr_slot_id,O.ortb2Imp.ext.gpid="".concat(ee.rktr_ad_id,"#").concat(D),O.mediaTypes.banner.sizes=ie.monetization.filteredSizes.map(function(Q){return[Q.width,Q.height]}),(c=e.logger)!=null&&c.log("Banner Ad Unit Mock: ",O),D=JSON.parse(JSON.stringify(D)).replace(/"/g,""),(X=e.logger)!=null&&X.log("POS: ",D),(c=e.logger)!=null&&c.log("Location Check: ",{isIntl:(0,F.isIntl)(),isUSnowleb:(0,F.isUSnowleb)(),isMobile:(0,Ae.default)()}),(0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.BIDDERS.CLIENT.INTL:e.config.BIDDERS.CLIENT.DOM),P=((c=e.logger)!=null&&c.log("Bidders: ",X),{}),R=!1,K=["1030x590","325x508","325x204","620x366"];X.forEach(function(Q){(w=e.logger)!=null&&w.log("Bidder: ",Q);var w,u,p=new t;switch(Q){case"33across":p.setBidder("33across"),p.addParam("productId","siab"),p.addParam("siteId",(0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.THIRTYTHREEACROSS.SITE_ID.INTL:e.config.VENDOR.THIRTYTHREEACROSS.SITE_ID.DOM),(T=e.logger)!=null&&T.log("Pushing 33Across Bid: ",p),O.bids.push(JSON.parse(JSON.stringify(p))),P.thirtyThreeAcross=JSON.parse(JSON.stringify(p.params));break;case"appnexus":p.setBidder("appnexus"),p.params.inv_code=h+"_"+D,p.params.member=(0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.APPNEXUS.ACCOUNT_ID.INTL:e.config.VENDOR.APPNEXUS.ACCOUNT_ID.DOM,window.nowleb&&window.nowleb.cep_topics&&p.addParam("keywords",window.nowleb.cep_topics),(T=e.logger)!=null&&T.log("Pushing AppNexus Bid: ",p),O.bids.push(JSON.parse(JSON.stringify(p))),P.appnexus=JSON.parse(JSON.stringify(p.params));break;case"concert":ie.monetization.filteredSizes.forEach(function(E){E="".concat(E.width,"x").concat(E.height),K.includes(E)&&(R=!0)}),(T=e.logger)!=null&&T.log("Is Concert enabled for this slot?",R?"YES":"NO"),R&&(p.setBidder("concert"),p.addParam("partnerId",(0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.CONCERT.PARTNER_ID.INTL:e.config.VENDOR.CONCERT.PARTNER_ID.DOM),p.params.partnerId!=="")&&((T=e.logger)!=null&&T.log("Pushing Concert Bid:",p),O.bids.push(JSON.parse(JSON.stringify(p))),P.concert=JSON.parse(JSON.stringify(p.params)));break;case"criteo":p.setBidder("criteo"),p.addParam("networkId",(0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.CRITEO.ACCOUNT_ID.INTL:e.config.VENDOR.CRITEO.ACCOUNT_ID.DOM,!0),p.addParam("publisherSubId","".concat(_,"_").concat(ee.rktr_slot_id)),(T=e.logger)!=null&&T.log("Pushing Criteo Bid: ",p),O.bids.push(JSON.parse(JSON.stringify(p))),P.criteo=JSON.parse(JSON.stringify(p.params));break;case"districtm":p.setBidder("districtm"),p.addParam("placementId",(0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.DISTRICTM.PID.INTL:e.config.VENDOR.DISTRICTM.PID.DOM),(T=e.logger)!=null&&T.log("Pushing DistrictM Bid: ",p),O.bids.push(JSON.parse(JSON.stringify(p))),P.districtm=JSON.parse(JSON.stringify(p.params));break;case"ix":ie.monetization.filteredSizes.forEach(function(E){var S=new t,A=(S.setBidder("ix"),"".concat(E.width,"x").concat(E.height));S.addParam("siteId",(0,Ae.default)().any?(0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.IX.SITE_ID.INTL.MOBILE[U][A]||"":e.config.VENDOR.IX.SITE_ID.DOM.MOBILE[U][A]||"":(0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.IX.SITE_ID.INTL.DESKTOP[U][A]||"":e.config.VENDOR.IX.SITE_ID.DOM.DESKTOP[U][A]||""),S.addParam("size",JSON.parse(JSON.stringify(E.unwrapped))),S.params.siteId!==""&&((E=e.logger)!=null&&E.log("Pushing IX Bid: ",S),O.bids.push(JSON.parse(JSON.stringify(S)))),P.ix=P.ix||{},P.ix[A]=JSON.parse(JSON.stringify(S.params))});break;case"kargo":O.mediaTypes.banner.sizes.forEach(function(A){var S=new t,A=(S.setBidder("kargo"),A.join("x")),B=(S.addParam("placementId",((0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.KARGO.MAPPINGS.INTL:e.config.VENDOR.KARGO.MAPPINGS.DOM).MOBILE[A]),!1);O.bids.forEach(function(oe){oe.bidder==="kargo"&&(B=!0)}),!B&&(0,Ae.default)().any&&((A=e.logger)!=null&&A.log("Pushing Kargo Bid: ",S),O.bids.push(JSON.parse(JSON.stringify(S))))}),P.kargo=JSON.parse(JSON.stringify(p.params));break;case"medianet":var T=new t,m=(T.setBidder("medianet"),D.split("_")[0]);(u=e.logger)!=null&&u.log("MEDIANET ---------- ",{slotType:m,position:U}),0<=["bnr","rect","qtm"].indexOf(m)&&(T.addParam("cid",(0,F.isIntl)()?e.config.VENDOR.MEDIANET.CUSTOMER_ID.INTL:e.config.VENDOR.MEDIANET.CUSTOMER_ID.DOM),T.addParam("crid",(0,F.isIntl)()?e.config.VENDOR.MEDIANET.SLOT_ID.INTL[m][U]||"":e.config.VENDOR.MEDIANET.SLOT_ID.DOM[m][U]||""),(u=e.logger)!=null&&u.log("MEDIANET ---------- ",JSON.parse(JSON.stringify(T))),T.params.crid!=="")&&O.bids.push(JSON.parse(JSON.stringify(T))),P.medianet=P.medianet||{},P.medianet=JSON.parse(JSON.stringify(T.params));break;case"openweb":p.setBidder("openweb"),p.addParam("org",(0,F.isIntl)()?e.config.VENDOR.OPENWEB.ORG.INTL||"":e.config.VENDOR.OPENWEB.ORG.DOM||""),e.config.VENDOR.OPENWEB.FLOOR_PRICE&&p.addParam("floorPrice",(0,F.isIntl)()?e.config.VENDOR.OPENWEB.FLOOR_PRICE.INTL:e.config.VENDOR.OPENWEB.FLOOR_PRICE.DOM),e.config.VENDOR.OPENWEB.PLACEMENT_ID&&p.addParam("placementId",((0,F.isIntl)()?(0,Ae.default)().any?e.config.VENDOR.OPENWEB.PLACEMENT_ID.INTL.MOBILE:e.config.VENDOR.OPENWEB.PLACEMENT_ID.INTL.DESKTOP:(0,Ae.default)().any?e.config.VENDOR.OPENWEB.PLACEMENT_ID.DOM.MOBILE:e.config.VENDOR.OPENWEB.PLACEMENT_ID.DOM.DESKTOP)[U]),e.config.VENDOR.OPENWEB.RTB_DOMAIN&&p.addParam("rtbDomain",(0,F.isIntl)()?e.config.VENDOR.OPENWEB.RTB_DOMAIN.INTL:e.config.VENDOR.OPENWEB.RTB_DOMAIN.DOM),(0,Ee.getUrlParam)("testMode")&&p.addParam("testMode",!0),e.logger.log("OPENWEB ---------- ",JSON.parse(JSON.stringify(p))),p.params.org!==""&&O.bids.push(JSON.parse(JSON.stringify(p))),P.openweb=P.openweb||{},P.openweb=JSON.parse(JSON.stringify(p.params));break;case"pangaea":p.setBidder("pangaea"),p.addParam("invCode",h+"_"+D),p.addParam("member",(0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.PANGAEA.ACCOUNT_ID.INTL:e.config.VENDOR.PANGAEA.ACCOUNT_ID.DOM),(m=e.logger)!=null&&m.log("Pushing Pangaea Bid: ",p),O.bids.push(JSON.parse(JSON.stringify(p))),P.pangaea=JSON.parse(JSON.stringify(p.params));break;case"pubmatic":p.setBidder("pubmatic"),p.addParam("publisherId",(0,F.isIntl)()?e.config.VENDOR.PUBMATIC.PUBLISHER_ID.INTL:e.config.VENDOR.PUBMATIC.PUBLISHER_ID.DOM),p.addParam("adSlot","".concat(C[0].toLowerCase(),"_").concat(D)),(u=e.logger)!=null&&u.log("Pushing Pubmatic Bid: ",p),O.bids.push(JSON.parse(JSON.stringify(p))),P.pubmatic=JSON.parse(JSON.stringify(p.params));break;case"rubicon":p.setBidder("rubicon"),p.addParam("accountId",(0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.RUBICON.ACCOUNT_ID.INTL:e.config.VENDOR.RUBICON.ACCOUNT_ID.DOM,!0),p.addParam("siteId",(0,F.isIntl)()&&!(0,F.isUSnowleb)()?(0,Ae.default)().any?e.config.VENDOR.RUBICON.SITE_ID.INTL.MOBILE:e.config.VENDOR.RUBICON.SITE_ID.INTL.DESKTOP:(0,Ae.default)().any?e.config.VENDOR.RUBICON.SITE_ID.DOM.MOBILE:e.config.VENDOR.RUBICON.SITE_ID.DOM.DESKTOP,!0),p.addParam("zoneId",(0,F.isIntl)()&&!(0,F.isUSnowleb)()?(0,Ae.default)().any?Y?e.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.MOBILE.HP[U]||e.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.MOBILE.HP||0:e.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.MOBILE.ROS[U]||e.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.MOBILE.ROS||0:Y?e.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.DESKTOP.HP[U]||e.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.DESKTOP.HP||0:e.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.DESKTOP.ROS[U]||e.config.VENDOR.RUBICON.ZONE_MAPPING.INTL.DESKTOP.ROS||0:(0,Ae.default)().any?Y?e.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.MOBILE.HP[U]||e.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.MOBILE.HP||0:e.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.MOBILE.ROS[U]||e.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.MOBILE.ROS||0:Y?e.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.DESKTOP.HP[U]||e.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.DESKTOP.HP||0:e.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.DESKTOP.ROS[U]||e.config.VENDOR.RUBICON.ZONE_MAPPING.DOM.DESKTOP.ROS||0,!0),p.addParam("position",U),(T=e.logger)!=null&&T.log("Pushing Rubicon Bid: ",p),O.bids.push(JSON.parse(JSON.stringify(p))),P.rubicon=JSON.parse(JSON.stringify(p.params));break;case"sharethrough":O.mediaTypes.banner.sizes.forEach(function(A){var S=new t,A=(S.setBidder("sharethrough"),A.join("x")),B=(S.addParam("pkey",((0,Ae.default)().any?((0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.SHARETHROUGH.UNIT_MAPPING.INTL:e.config.VENDOR.SHARETHROUGH.UNIT_MAPPING.DOM).MOBILE:((0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.SHARETHROUGH.UNIT_MAPPING.INTL:e.config.VENDOR.SHARETHROUGH.UNIT_MAPPING.DOM).DESKTOP)[A]),!1);O.bids.forEach(function(oe){oe.bidder==="sharethrough"&&oe.params.pkey===S.params.pkey&&(B=!0)}),!B&&S.params.pkey&&S.params.pkey!==""&&((A=e.logger)!=null&&A.log("Pushing Sharethrough Bid for ".concat(O.code),S,ee),O.bids.push(JSON.parse(JSON.stringify(S))))}),P.sharethrough=JSON.parse(JSON.stringify(p.params));break;case"triplelift":O.mediaTypes.banner.sizes.forEach(function(A){var S=new t,A=(S.setBidder("triplelift"),A.join("x")),B=(S.addParam("inventoryCode",(0,Ae.default)().any?(0,F.isIntl)()&&!(0,F.isUSnowleb)()?Y&&e.config.VENDOR.TRIPLELIFT.MAPPINGS.INTL.MOBILE.HP[A]||e.config.VENDOR.TRIPLELIFT.MAPPINGS.INTL.MOBILE.ROS[A]:Y&&e.config.VENDOR.TRIPLELIFT.MAPPINGS.DOM.MOBILE.HP[A]||e.config.VENDOR.TRIPLELIFT.MAPPINGS.DOM.MOBILE.ROS[A]:(0,F.isIntl)()&&!(0,F.isUSnowleb)()?Y&&e.config.VENDOR.TRIPLELIFT.MAPPINGS.INTL.DESKTOP.HP[A]||e.config.VENDOR.TRIPLELIFT.MAPPINGS.INTL.DESKTOP.ROS[A]:Y&&e.config.VENDOR.TRIPLELIFT.MAPPINGS.DOM.DESKTOP.HP[A]||e.config.VENDOR.TRIPLELIFT.MAPPINGS.DOM.DESKTOP.ROS[A]),!1);O.bids.forEach(function(oe){oe.bidder==="triplelift"&&(oe.params.inventoryCode===S.params.inventoryCode&&(B=!0),B=!0)}),B||((A=e.logger)!=null&&A.log("Pushing TripleLift Bid: ",S),O.bids.push(JSON.parse(JSON.stringify(S))))}),P.triplelift=JSON.parse(JSON.stringify(p.params));break;case"trustx":ie.monetization.filteredSizes.forEach(function(A){var S,A=A.unwrapped.join("x"),B=new t;B.setBidder("trustx"),window.nowleb&&window.nowleb.cep_topics&&B.addParam("keywords",window.nowleb.cep_topics),B.addParam("uid",(0,Ae.default)().any?(0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.TRUSTX.UID.INTL.MOBILE[U][A]||"":e.config.VENDOR.TRUSTX.UID.DOM.MOBILE[U][A]||"":((0,F.isIntl)()?e.config.VENDOR.TRUSTX.UID.INTL:e.config.VENDOR.TRUSTX.UID.DOM).DESKTOP[U][A],!0),B.params.uid!==""&&((S=e.logger)!=null&&S.log("Pushing TRUSTX Bid: ",B),O.bids.push(JSON.parse(JSON.stringify(B)))),P.trustx=P.trustx||{},P.trustx[A]=JSON.parse(JSON.stringify(B.params))});break;case"ttd":(m=e.logger)!=null&&m.log("Building TheTradeDesk Bid..."),p.setBidder("ttd"),p.addParam("supplySourceId",(0,F.isIntl)()?e.config.VENDOR.TTD.SSID.INTL||"":e.config.VENDOR.TTD.SSID.DOM||""),p.addParam("publisherId",(0,F.isIntl)()?e.config.VENDOR.TTD.PID.INTL||"":e.config.VENDOR.TTD.PID.DOM||""),(u=e.logger)!=null&&u.log("TTD Bid: ",p),e.config.VENDOR.TTD.PLACEMENT_ID&&p.addParam("placementId",((0,F.isIntl)()?(0,Ae.default)().any?e.config.VENDOR.TTD.PLACEMENT_ID.INTL.MOBILE:e.config.VENDOR.TTD.PLACEMENT_ID.INTL.DESKTOP:(0,Ae.default)().any?e.config.VENDOR.TTD.PLACEMENT_ID.DOM.MOBILE:e.config.VENDOR.TTD.PLACEMENT_ID.DOM.DESKTOP)[U]),p.params.supplySourceId!==""&&p.params.publisherId!==""&&((T=e.logger)!=null&&T.log("Pushing TTD Bid: ",p),O.bids.push(JSON.parse(JSON.stringify(p)))),P.ttd=P.ttd||{},P.ttd=JSON.parse(JSON.stringify(p.params));break;case"yahoo":p.setBidder("yahoossp"),p.addParam("dcn",(0,F.isIntl)()&&!(0,F.isUSnowleb)()?(0,Ae.default)().any?e.config.VENDOR.YAHOO.MAPPINGS.INTL.MOBILE.DCN||"":e.config.VENDOR.YAHOO.MAPPINGS.INTL.DESKTOP.DCN||"":(0,Ae.default)().any?e.config.VENDOR.YAHOO.MAPPINGS.DOM.MOBILE.DCN||"":e.config.VENDOR.YAHOO.MAPPINGS.DOM.DESKTOP.DCN||""),p.addParam("pos",(0,F.isIntl)()&&!(0,F.isUSnowleb)()?(0,Ae.default)().any?e.config.VENDOR.YAHOO.MAPPINGS.INTL.MOBILE.POS[U]||"":e.config.VENDOR.YAHOO.MAPPINGS.INTL.DESKTOP.POS[U]||"":(0,Ae.default)().any?e.config.VENDOR.YAHOO.MAPPINGS.DOM.MOBILE.POS[U]||"":e.config.VENDOR.YAHOO.MAPPINGS.DOM.DESKTOP.POS[U]||""),(m=e.logger)!=null&&m.log("Pushing Yahoo Bid: ",p),O.bids.push(JSON.parse(JSON.stringify(p))),(P=P||{}).yahoo=JSON.parse(JSON.stringify(p.params))}}),ie.programmatic.prebid=P,(c=e.logger)!=null&&c.log("Banner Ad Unit: ",O),e.BUILT_AD_UNITS.has(JSON.parse(JSON.stringify(O.code)))||(e.BUILT_AD_UNITS.add(JSON.parse(JSON.stringify(O.code))),x.push(JSON.parse(JSON.stringify(O))))}else(X=e.logger)!=null&&X.log("Slot is not monetized.")}else(c=e.logger)!=null&&c.log("Slot has no ad unit:",ee.rktr_ad_id)}),{banner:x,outstream:L});return(I=e.logger)!=null&&I.log("Built Ad Units: ",g),g},e.preQueue=function(l){return new Promise(function(I,x){var L,g,ie,ee,O;e.enabled?(g=!1,(O=e.logger)!=null&&O.log("========== Prebid Slots: ",l),0<l.length&&(O=e.buildPrebidAdUnits(l),(L=e.logger)!=null&&L.log("========== Prebid Ad Units: ",O),ie=O==null?void 0:O.banner.filter(function(f){var c;return 0<f.bids.length&&((c=e.REQUESTED_AD_UNITS)==null?void 0:c.banner.indexOf(f))===-1}),ee=O==null?void 0:O.outstream.filter(function(f){var c;return 0<f.bids.length&&((c=e.REQUESTED_AD_UNITS)==null?void 0:c.outstream.indexOf(f))===-1}),(L=e.logger)!=null&&L.log("========== Filtered Ad Units: ",{banner:ie,outstream:ee}),O=function(){0<ie.length&&((f=e.logger)!=null&&f.log("========== Adding Banner Ad Units...",JSON.parse(JSON.stringify(ie))),window.pbjs.addAdUnits(JSON.parse(JSON.stringify(ie))),ie.forEach(function(C){e.REQUESTED_AD_UNITS.banner.push(C)})),0<ee.length&&((f=e.logger)!=null&&f.log("========== Adding Outstream Ad Units...",JSON.parse(JSON.stringify(ee))),window.pbjs.addAdUnits(JSON.parse(JSON.stringify(ee))),ee.forEach(function(C){e.REQUESTED_AD_UNITS.outstream.push(C)})),(f=e.logger)!=null&&f.log("========== Pre-Processing for Requesting Bids...",{banner:ie,outstream:ee});var f,c,_=l.map(function(C){var h;return(h=e.logger)!=null&&h.log("========== Adding slot to requested slots: ",C),C.unWrappedSlot.rktr_slot_id});(f=e.logger)!=null&&f.log("========== Requested slots...",_),ee.forEach(function(C){var h;(h=e.logger)!=null&&h.log("Checking AdUnit: ",C),0<=_.indexOf(C.code)&&l.push(C.code)}),(f=e.logger)!=null&&f.log("========== Banner Ad Units: ",ie.length),(f=e.logger)!=null&&f.log("========== Outstream Ad Units: ",ee.length),(f=e.logger)!=null&&f.log("========== Slots: ",l.length),0<l.length&&(0<ie.length||0<ee.length)?(window.pbjs.setConfig({adpod:{brandCategoryExclusion:!1}}),c=new Array,ie.forEach(function(C){c.push(C.code)}),ee.forEach(function(C){c.push(C.code)}),(f=e.logger)!=null&&f.log("========== REQUESTING BIDS:",{adUnitCodes:c,bannerAdUnits:ie,outstreamAdUnits:ee}),window.pbjs.requestBids({adUnitCodes:c,timeout:(0,Ae.default)().any?e.config.TIMEOUTS.DISPLAY.MOBILE:e.config.TIMEOUTS.DISPLAY.DESKTOP,bidsBackHandler:function(C,h){var D,U;if(C){(D=e.logger)!=null&&D.log("Bids/Slots: ",{bids:C,slots:l}),Object.keys(C).map(function(k){(M=e.logger)!=null&&M.log("Getting manual targeting for ".concat(k));var M,Y=window.pbjs.getAdserverTargetingForAdUnitCode(k),X=[];Object.keys(Y).forEach(function(P){var R=Array.isArray(Y[P])?Y[P]:[Y[P]];X.push({slotId:k,targetKey:P,targetValues:R})}),(M=e.logger)!=null&&M.log("Setting Bulk Targeting for slot ".concat(k),X),(M=window.AdFuel)!=null&&M.setBulkTargeting({slotTargets:X})});try{(U=window==null?void 0:window.googletag)!=null&&U.cmd.push(function(){window.pbjs.setTargetingForGPTAsync(l),g||(g=!0,I({name:"Prebid",slots:l,bids:C,errMsg:null,err:null}))})}catch(k){(D=e.logger)!=null&&D.warn("failed to get display ad for preQueueCallback",k),I({name:"Prebid",slots:l,bids:null,errMsg:"Failed to get Display Ad for preQueueCallback",err:k})}}else(U=e.logger)!=null&&U.warn("No bids: ",{slots:l,bids:C}),I({name:"Prebid",slots:l,bids:null,errMsg:"No Bids.",err:!0})}})):((f=e.logger)!=null&&f.log("========== No Slots"),I({name:"Prebid",slots:l}))},(L=e.logger)!=null&&L.log("========== Pushing function onto pbjs.que:",O),window.pbjs.que.push(O))):I({name:"Prebid",enabled:e.enabled,useDM:e.useDemandManager,slots:l})})},e.setGeoTargeting=function(l){var I;l===void 0&&(l=!1);try{var x=function(){var L;(L=e.logger)!=null&&L.log("Setting GeoTargeting... ",(0,F.isIntl)()||l),(0,F.isIntl)()||l?((L=e.logger)!=null&&L.log("Setting Geo Target: EU"),window.AdFuel?window.AdFuel.addPageLevelTarget("hbg","EU"):(L=window.googletag)!=null&&L.pubads().setTargeting("hbg","EU")):((L=e.logger)!=null&&L.log("Setting Geo Target: US"),window.AdFuel?window.AdFuel.addPageLevelTarget("hbg","US"):(L=window.googletag)!=null&&L.pubads().setTargeting("hbg","US"))};window.googletag&&window.googletag.apiReady?x():(I=window.googletag)!=null&&I.cmd.push(x)}catch(L){(I=e.logger)!=null&&I.log("err on setGeoTargeting: ",L)}},e.configurePrebidLibrary=function(l){var I,x,L,g,ie,ee,O,f;try{e.libraryConfigured||(window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],e.libraryConfigured=!0,x={buckets:[{precision:2,max:5,increment:.01},{precision:2,max:30,increment:.05},{precision:2,max:(0,F.isIntl)()?50:115,increment:1}]},L=e.config.PRICE_BUCKETS?((0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.PRICE_BUCKETS.INTL:e.config.PRICE_BUCKETS.DOM).DISPLAY:x,g=e.config.PRICE_BUCKETS?((0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.PRICE_BUCKETS.INTL:e.config.PRICE_BUCKETS.DOM).VIDEO:{buckets:[{precision:2,max:50,increment:1},{precision:2,max:100,increment:5}]},ie={banner:{buckets:L},video:{buckets:g},"video-instream":{buckets:g},"video-outstream":{buckets:e.config.PRICE_BUCKETS?((0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.PRICE_BUCKETS.INTL:e.config.PRICE_BUCKETS.DOM).OUTSTREAM:{buckets:[{precision:2,max:50,increment:1}]}}},ee={buckets:[{precision:2,min:0,max:5,increment:.01},{precision:2,min:5,max:30,increment:.05},{precision:2,min:30,max:(0,F.isIntl)()?50:115,increment:1}]},O=(0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.SEND_ALL_BIDS.INTL:e.config.SEND_ALL_BIDS.DOM,window.pbjs.que.push(function(){(c=e.logger)!=null&&c.log("Is Mobile: ",(0,Ae.default)());var c=((c=(c=window.WM)==null?void 0:c.UserConsent)==null?void 0:c.isInRegion("global"))===!1,_=((_=e.logger)!=null&&_.log("Check Consent: ",c),{allowZeroCpmBids:!1,priceGranularity:ee,mediaTypePriceGranularity:ie,enableSendAllBids:O,bidderTimeout:(0,Ae.default)().any?e.config.TIMEOUTS.DISPLAY.MOBILE:e.config.TIMEOUTS.DISPLAY.DESKTOP,cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},adpod:{brandCategoryExclusion:!0,prioritizeDeals:!0,dealTier:{appnexus:{prefix:"tier",minDealTier:6}}},targetingControls:{allowTargetingKeys:["BIDDER","AD_ID","PRICE_BUCKET","SIZE","DEAL","SOURCE","FORMAT","UUID","CACHE_ID","CACHE_HOST","ADOMAIN","CRID","DSP"],alwaysIncludeDeals:!0},userSync:{userIds:[],filterSettings:{iframe:{bidders:"*",filter:"include"}}}}),U=e.config.BIDDERS.S2S[(0,F.isIntl)()&&!(0,F.isUSnowleb)()?"INTL":"DOM"],C=((k=e.logger)!=null&&k.log("Fire S2S: ",0<U.length),0<U.length&&(_.s2sConfig={accountId:"f7c6e556-48f6-4b8c-9fb6-921c12c9362f",enabled:!0,bidders:e.config.BIDDERS.S2S[(0,F.isIntl)()&&!(0,F.isUSnowleb)()?"INTL":"DOM"],timeout:(0,Ae.default)().any?e.config.TIMEOUTS.DISPLAY.MOBILE:e.config.TIMEOUTS.DISPLAY.DESKTOP,adapter:"prebidServer",endpoint:"https://prebid.adnxs.com/pbs/v1/openrtb2/auction",syncEndpoint:"https://prebid.adnxs.com/pbs/v1/cookie_sync"}),{appnexus:{suppressEmptyKeys:!0,adserverTargeting:[{key:"hb_appnexus_tier",val:function(X){if(X.appnexus.dealPriority!=null)return X.appnexus.dealPriority}}]},rubicon:{}}),h=(!(0,F.isIntl)()&&O&&(C.rubicon={alwaysUseBid:!0,suppressEmptyKeys:!0,adserverTargeting:[{key:"hb_db_rubicon",val:function(X){var P;if(X.adserverTargeting&&X.adserverTargeting["rpfl_"+((0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.RUBICON.ACCOUNT_ID.INTL:e.config.VENDOR.RUBICON.ACCOUNT_ID.DOM)])P=X.adserverTargeting["rpfl_"+((0,F.isIntl)()?e.config.VENDOR.RUBICON.ACCOUNT_ID.INTL:e.config.VENDOR.RUBICON.ACCOUNT_ID.DOM)];else{if(!X.rubiconTargeting||!X.rubiconTargeting["rpfl_"+((0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.RUBICON.ACCOUNT_ID.INTL:e.config.VENDOR.RUBICON.ACCOUNT_ID.DOM)])return;P=X.rubiconTargeting["rpfl_"+((0,F.isIntl)()&&!(0,F.isUSnowleb)()?e.config.VENDOR.RUBICON.ACCOUNT_ID.INTL:e.config.VENDOR.RUBICON.ACCOUNT_ID.DOM)]}return P.substring(P.indexOf("_")+1)}}]}),e.config.BIDDERS.OUTSTREAM=e.config.BIDDERS.OUTSTREAM||{DOM:[],INTL:[]},e.config.BIDDERS.VIDEO=e.config.BIDDERS.VIDEO||{DOM:[],INTL:[]},[]),D=((0,F.isIntl)()?(e.config.BIDDERS.CLIENT&&(h=i(i([],h,!0),e.config.BIDDERS.CLIENT.INTL,!0)),e.config.BIDDERS.S2S&&(h=i(i([],h,!0),e.config.BIDDERS.S2S.INTL,!0)),e.config.BIDDERS.OUTSTREAM&&(h=i(i([],h,!0),e.config.BIDDERS.OUTSTREAM.INTL,!0)),e.config.BIDDERS.VIDEO&&(h=i(i([],h,!0),e.config.BIDDERS.VIDEO.INTL,!0))):(e.config.BIDDERS.CLIENT&&(h=i(i([],h,!0),e.config.BIDDERS.CLIENT.DOM,!0)),e.config.BIDDERS.S2S&&(h=i(i([],h,!0),e.config.BIDDERS.S2S.DOM,!0)),e.config.BIDDERS.OUTSTREAM&&(h=i(i([],h,!0),e.config.BIDDERS.OUTSTREAM.DOM,!0)),e.config.BIDDERS.VIDEO&&(h=i(i([],h,!0),e.config.BIDDERS.VIDEO.DOM,!0))),h=h.map(function(X){return h.indexOf(X)!==-1?X:null}).filter(function(X){return X!==null}),e.logger.log("Bidders: ",h),[]),U=(h.forEach(function(X){var P;C[X]=C[X]||{},(P=e.logger)!=null&&P.log("Setting sendStandardTargeting for ".concat(X," to ").concat(!O)),C[X].sendStandardTargeting=!O,(P=e.logger)!=null&&P.log("Setting storageAllowed for ".concat(X)),C[X].storageAllowed=!0,e.config.VENDOR.FLEDGE&&e.config.VENDOR.FLEDGE.BIDDERS&&-1<e.config.VENDOR.FLEDGE.BIDDERS.indexOf(X)&&((P=e.logger)!=null&&P.log("Setting FledgeForGPT for BidderSettings for Bidder: ".concat(X)),D.push(X),C[X].fledgeEnabled=!0,C[X].defaultForSlots=1)}),0<D.length&&((k=e.logger)!=null&&k.log("Setting FledgeForGPT (PAAPI) for Bidders: ".concat(D)),_.paapi={enabled:!0,bidders:D,defaultForSlots:1}),{name:"identityLink",params:{pid:"13452"},storage:{type:"cookie",name:"tok_lr2",expires:30}}),k={name:"id5Id",params:{partner:963},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}},Y={name:"uid2",value:{uid2:{id:Te.CookieHelper.hasCookie("glp_ggw")?Te.CookieHelper.readCookie("glp_ggw"):0}}},k=(!(0,F.isIntl)()&&U.params.pid?((M=e.logger)!=null&&M.log("Adding IdentityLink/LiveRamp UserID Config...",U),_.userSync=_.userSync||{userIds:[],filterSettings:{iframe:{bidders:"*",filter:"include"}}},_.userSync.userIds.push(U),(M=window.googletag)!=null&&M.cmd.push(function(){var X;(X=e.logger)!=null&&X.log("Setting tok_lr2 targeting...",Te.CookieHelper.readCookie("tok_lr2")),(X=window.googletag)!=null&&X.pubads().setTargeting("tok_lr2",Te.CookieHelper.readCookie("tok_lr2")||"")})):(0,F.isIntl)()&&((U=e.logger)!=null&&U.log("Adding Id5Id UserID Config...",k),_.userSync.userIds.push(k)),Te.CookieHelper.hasCookie("glp_ggw")?((M=e.logger)!=null&&M.log("Adding UnifiedId 2.0 UserID Config...",Y),_.userSync.userIds.push(Y)):(U=e.logger)!=null&&U.log("Does Not Have UnifiedId 2.0 UserID Cookie."),(0,F.isIntl)()&&!(0,F.isUSnowleb)()?0<=e.config.BIDDERS.CLIENT.INTL.indexOf("districtm"):0<=e.config.BIDDERS.CLIENT.DOM.indexOf("districtm")),M=(0,F.isIntl)()&&!(0,F.isUSnowleb)()?0<=e.config.BIDDERS.CLIENT.INTL.indexOf("trustx")||0<=e.config.BIDDERS.VIDEO.INTL.indexOf("trustx"):0<=e.config.BIDDERS.CLIENT.DOM.indexOf("trustx")||0<=e.config.BIDDERS.VIDEO.DOM.indexOf("trustx"),Y=!(0,F.isIntl)()&&0<=((U=(Y=e.config.LIBRARY)==null?void 0:Y.MODULES)==null?void 0:U.indexOf("concertAnalyticsAdapter"))&&(0<=e.config.BIDDERS.CLIENT.DOM.indexOf("concert")||0<=e.config.BIDDERS.VIDEO.DOM.indexOf("concert"));(U=e.logger)!=null&&U.log("Vendor Check: ",{hasConcertAnalytics:Y,hasDistrictM:k,hasTrustX:M}),c?(U=(c=(U=window.WM)==null?void 0:U.UserConsent)==null?void 0:c.inUserConsentState(["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]),(c=e.logger)!=null&&c.log("Checking for Consent..."),U&&(_.consentManagement=_.consentManagement||{},(c=(U=(c=window.WM)==null?void 0:c.UserConsent)==null?void 0:U.getRegion())==="gdpr"?_.consentManagement.gdpr={allowAuctionWithoutConsent:!1,cmpApi:"iab",defaultGdprScope:!0,rules:[{purpose:"storage",enforcePurpose:!0,enforceVendor:!0},{purpose:"basicAds",enforcePurpose:!0,enforceVendor:!0},{purpose:"measurement",enforcePurpose:!0,enforceVendor:!0}],timeout:100}:c==="ccpa"||c==="us"?_.consentManagement.usp={cmpApi:"iab",timeout:100}:c==="gpp"&&(_.consentManagement.gpp={cmpApi:"iab",timeout:100}),(U=e.logger)!=null&&U.log("Setting config...",_),window.pbjs.setConfig(_),(c=e.logger)!=null&&c.log("Setting Bidder Settings...",C),window.pbjs.bidderSettings=C,k&&((U=e.logger)!=null&&U.log("Adding alias for DistrictM..."),window.pbjs.aliasBidder("appnexus","districtm")),M&&((c=e.logger)!=null&&c.log("Adding alias for TrustX..."),window.pbjs.aliasBidder("grid","trustx")),Y)&&((U=e.logger)!=null&&U.log("Enabling Concert Analytics..."),window.pbjs.enableAnalytics([{provider:"concert"}]))):((c=e.logger)!=null&&c.log("Skipping User Consent Check..."),(U=e.logger)!=null&&U.log("Setting config...",_),window.pbjs.setConfig(_),(c=e.logger)!=null&&c.log("Setting Bidder Settings...",C),window.pbjs.bidderSettings=C,k&&((U=e.logger)!=null&&U.log("Adding alias for DistrictM..."),window.pbjs.aliasBidder("appnexus","districtm")),M&&((_=e.logger)!=null&&_.log("Adding alias for TrustX..."),window.pbjs.aliasBidder("grid","trustx")),Y&&((c=e.logger)!=null&&c.log("Enabling Concert Analytics..."),window.pbjs.enableAnalytics([{provider:"concert"}])))}),window.AdFuelVideoAPI=window.AdFuelVideoAPI||{},window.AdFuelVideoAPI.Prebid=window.PrebidVideoAPI={getTargetingData:e.getVideoBids,getRefreshedTargetingData:e.getRefreshedVideoBids,getPreRollTargetingData:e.getVideoBids,getMidRollTargetingData:e.getMidRollVideoBids,getRefreshedPreRollTargetingData:e.getRefreshedVideoBids,getRefreshedMidRollTargetingData:e.getMidRollVideoBids,__VERSION__:e.MODULE_VERSION},(f=(0,Ee.getUrlParam)("mdt"))&&(Object.keys(e.config.TIMEOUTS).forEach(function(c){Object.keys(e.config.TIMEOUTS[c]).forEach(function(_){e.config.TIMEOUTS[c][_]=parseInt(f,10)})}),(I=e.logger)!=null)&&I.log("Overriding Max Duration Time: ",e.config.TIMEOUTS))}catch(c){(x=e.logger)!=null&&x.log("err on configurePrebidLibrary: ",c)}},e.init=function(){return window.googletag=window.googletag||{cmd:[]},new Promise(function(l,I){return G(e,void 0,void 0,function(){var x,L,g,ie=this;return y(this,function(ee){return this.enabled?((x=this.logger)!=null&&x.info("Initializing Prebid Module: ",this.config),x=this.validateConfiguration(this.config),(L=this.logger)!=null&&L.log("Validation: ",x),this.configurePrebidLibrary(this.config),(0,F.isIntl)()&&(this.logger.log("Adding ID5 ESP Config Partner ID"),window.ID5EspConfig={partnerId:963}),window.AdFuel?((L=this.logger)!=null&&L.log("Setting Module Ready"),window.AdFuel.setModuleReady(this.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",function(){var O;(O=ie.logger)!=null&&O.log("Setting Module Ready"),window.AdFuel.setModuleReady(ie.MODULE_LOG_TAG)})):this.useDemandManager?((x=this.logger)!=null&&x.info("Initializing DemandManager: ",{config:this.config,googletag:window.googletag}),this.logger.log("Adding ID5 ESP Config Partner ID"),window.ID5EspConfig={partnerId:963},window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],this.logger.info("Configuration: CUSTOMER_ID: ".concat(this.config.VENDOR.DM.CUSTOMER_ID)),(L=this.config.VENDOR.DM)!=null&&L.CUSTOMER_ID&&((g=this.config.VENDOR.DM)==null?void 0:g.CUSTOMER_ID)!==""?(this.logger.info("Loading the DemandManager script",{googletag:window.googletag}),(0,fe.loadScriptFromUrl)("//micro.rubiconproject.com/prebid/dynamic/".concat(this.config.VENDOR.DM.CUSTOMER_ID,".js"),"demandManager").then(function(){ie.logger.log("DemandManager script is loaded!",{googletag:window.googletag}),window.AdFuel?window.AdFuel.setModuleReady(ie.MODULE_LOG_TAG):document.addEventListener("AdFuelCreated",function(){window.AdFuel.setModuleReady(ie.MODULE_LOG_TAG)})}).catch(function(O){ie.logger.error("There was an error loading the DemandManager script.",O)})):this.logger.log("Disabling DemandManager due to no CUSTOMER_ID",this.config)):(g=this.logger)!=null&&g.info("Prebid And DemandManager Disabled."),l(),[2]})})})},(0,F.isIntl)()&&o.BIDDERS.CLIENT.INTL.includes("dm")?(e.logger.info("DemandManager configured"),e.useDemandManager=!0,e.enabled=!1):(r=e.logger)!=null&&r.info("Prebid Module constructed"),e}n.Prebid=$,n=V.ModuleFlags.EnableForDomestic|V.ModuleFlags.EnableForForeign|V.ModuleFlags.RunWithoutAdFuel,window.AdFuelOptions.PREBID.MODULE_FLAGS&&(n|=window.AdFuelOptions.PREBID.MODULE_FLAGS),new $(window.AdFuelOptions.PREBID||s,n)},{"./prebid-noTCFControl":15,"./version.json":16,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/CookieHelper":2,"@turnercode/digital-ads-utilities/dist/Version":4,"@turnercode/digital-ads-utilities/dist/generateCacheBuster":5,"@turnercode/digital-ads-utilities/dist/getUrlParam":6,"@turnercode/digital-ads-utilities/dist/loadScriptFromUrl":7,"@turnercode/digital-ads-utilities/dist/localization":8,ismobilejs:12}],15:[function(v,ae,n){var d,b,G,y,i,V,Ie=this&&this.__extends||(d=function(s,$){return(d=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(a,o){a.__proto__=o}:function(a,o){for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(a[r]=o[r])}))(s,$)},function(s,$){if(typeof $!="function"&&$!==null)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");function a(){this.constructor=s}d(s,$),s.prototype=$===null?Object.create($):(a.prototype=$.prototype,new a)}),F=this&&this.__assign||function(){return(F=Object.assign||function(s){for(var $,a=1,o=arguments.length;a<o;a++)for(var r in $=arguments[a])Object.prototype.hasOwnProperty.call($,r)&&(s[r]=$[r]);return s}).apply(this,arguments)},Fe=this&&this.__awaiter||function(s,$,a,o){return new(a=a||Promise)(function(r,e){function l(L){try{x(o.next(L))}catch(g){e(g)}}function I(L){try{x(o.throw(L))}catch(g){e(g)}}function x(L){var g;L.done?r(L.value):((g=L.value)instanceof a?g:new a(function(ie){ie(g)})).then(l,I)}x((o=o.apply(s,$||[])).next())})},Ee=this&&this.__generator||function(s,$){var a,o,r,e={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},l={next:I(0),throw:I(1),return:I(2)};return typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function I(x){return function(L){var g=[x,L];if(a)throw new TypeError("Generator is already executing.");for(;e=l&&g[l=0]?0:e;)try{if(a=1,o&&(r=2&g[0]?o.return:g[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,g[1])).done)return r;switch(o=0,(g=r?[2&g[0],r.value]:g)[0]){case 0:case 1:r=g;break;case 4:return e.label++,{value:g[1],done:!1};case 5:e.label++,o=g[1],g=[0];continue;case 7:g=e.ops.pop(),e.trys.pop();continue;default:if(!(r=0<(r=e.trys).length&&r[r.length-1])&&(g[0]===6||g[0]===2)){e=0;continue}if(g[0]===3&&(!r||g[1]>r[0]&&g[1]<r[3]))e.label=g[1];else if(g[0]===6&&e.label<r[1])e.label=r[1],r=g;else{if(!(r&&e.label<r[2])){r[2]&&e.ops.pop(),e.trys.pop();continue}e.label=r[2],e.ops.push(g)}}g=$.call(s,e)}catch(ie){g=[6,ie],o=0}finally{a=r=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}},Te=this&&this.__classPrivateFieldGet||function(s,$,a,o){if(a==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof $=="function"?s===$&&o:$.has(s))return a==="m"?o:a==="a"?o.call(s):o?o.value:$.get(s);throw new TypeError("Cannot read private member from an object whose class did not declare it")},fe=this&&this.__classPrivateFieldSet||function(s,$,a,o,r){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof $=="function"?s===$&&r:$.has(s))return o==="a"?r.call(s,a):r?r.value=a:$.set(s,a),a;throw new TypeError("Cannot write private member to an object whose class did not declare it")},Ae=this&&this.__rest||function(s,$){var a={};for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&$.indexOf(r)<0&&(a[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(s);o<r.length;o++)$.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(s,r[o])&&(a[r[o]]=s[r[o]]);return a},be=this&&this.__spreadArray||function(s,$,a){if(a||arguments.length===2)for(var o,r=0,e=$.length;r<e;r++)!o&&r in $||((o=o||Array.prototype.slice.call($,0,r))[r]=$[r]);return s.concat(o||Array.prototype.slice.call($))};if(window.pbjs&&window.pbjs.libLoaded)try{window.pbjs.getConfig("debug")&&console.warn("Attempted to load a copy of Prebid.js that clashes with the existing 'pbjs' instance. Load aborted.")}catch{}else y={433:function(s,$,a){function o(r,e,l,I,x){for(e=e.split?e.split("."):e,I=0;I<e.length;I++)r=r?r[e[I]]:x;return r===x?l:r}a.d($,{A:function(){return o}})},8128:function(s){I.SYNC=1,I.ASYNC=2,I.QUEUE=4;var $="fun-hooks",a=Object.freeze({useProxy:!0,ready:0}),o=new WeakMap,r=[1].reduce(function(x,L,g){return[x,L,g]},2).toString()==="2,1,0"?Array.prototype.reduce:function(x,L){var g,ie=Object(this),ee=ie.length>>>0,O=0;if(L)g=L;else{for(;O<ee&&!(O in ie);)O++;g=ie[O++]}for(;O<ee;)O in ie&&(g=x(g,ie[O],O,ie)),O++;return g};function e(x,L){return Array.prototype.slice.call(x,L)}var l=Object.assign||function(x){return r.call(e(arguments,1),function(L,g){return g&&Object.keys(g).forEach(function(ie){L[ie]=g[ie]}),L},x)};function I(x){var L,g={},ie=[];function ee(_,C){return typeof _=="function"?c.call(null,"sync",_,C):typeof _=="string"&&typeof C=="function"?c.apply(null,arguments):typeof _=="object"?(function(h,D,U){for(var k=!0,M=(D===void 0&&(D=Object.getOwnPropertyNames(h),k=!1),{}),Y=["constructor"];(D=D.filter(function(X){return!(typeof h[X]!="function"||Y.indexOf(X)!==-1||X.match(/^_/))})).forEach(function(R){var P,R=R.split(":"),K=R[0];M[K]||(P=h[K],M[K]=h[K]=c(R[1]||"sync",P,U?[U,K]:void 0))}),h=Object.getPrototypeOf(h),k&&h;);return M}).apply(null,arguments):void 0}function O(_){var C=Array.isArray(_)?_:_.split(".");return r.call(C,function(h,D,U){var k=h[D],M=!1;return k||(U===C.length-1?(L||ie.push(function(){M||console.warn($+": referenced '"+_+"' but it was never created")}),h[D]=f(function(Y){h[D]=Y,M=!0})):h[D]={})},g)}function f(_){var C=[],h=[],D=function(){},U={before:function(M,Y){return k.call(this,C,"before",M,Y)},after:function(M,Y){return k.call(this,h,"after",M,Y)},getHooks:function(M){var Y=C.concat(h);typeof M=="object"&&(Y=Y.filter(function(X){return Object.keys(M).every(function(P){return X[P]===M[P]})}));try{l(Y,{remove:function(){return Y.forEach(function(X){X.remove()}),this}})}catch{console.error("error adding `remove` to array, did you modify Array.prototype?")}return Y},removeAll:function(){return this.getHooks().remove()}};return o.set(U.after,{install:function(M,Y,X){this.type=M,(D=X)(C,h),_&&_(Y)}}),U;function k(M,Y,X,P){var R={hook:X,type:Y,priority:P||10,remove:function(){var K=M.indexOf(R);K!==-1&&(M.splice(K,1),D(C,h))}};return M.push(R),M.sort(function(K,Q){return Q.priority-K.priority}),D(C,h),this}}function c(_,C,h){var D=C.after&&o.get(C.after);if(D){if(D.type!==_)throw $+": recreated hookable with different type";return C}var U,k,M=h?O(h):f(),Y={get:function(P,R){return M[R]||Reflect.get.apply(Reflect,arguments)}};return L||ie.push(X),x.useProxy&&typeof Proxy=="function"&&Proxy.revocable?k=new Proxy(C,Y):l(k=function(){return Y.apply?Y.apply(C,this,e(arguments)):C.apply(this,arguments)},M),o.get(k.after).install(_,k,function(P,R){var K,Q=[];function w(u){Q.push(u.hook)}U=P.length||R.length?(P.forEach(w),K=Q.push(void 0)-1,R.forEach(w),function(u,p,T){var m,E=0,S=_==="async"&&typeof T[T.length-1]=="function"&&T.pop();function A(oe){_==="sync"?m=oe:S&&S.apply(null,arguments)}function B(oe){var J;if(Q[E])return J=e(arguments),B.bail=A,J.unshift(B),Q[E++].apply(p,J);_==="sync"?m=oe:S&&S.apply(null,arguments)}return Q[K]=function(){var oe=e(arguments,1),oe=(_==="async"&&S&&(delete B.bail,oe.push(B)),u.apply(p,oe));_==="sync"&&B(oe)},B.apply(null,T),m}):void 0,X()}),k;function X(){!L&&(_!=="sync"||x.ready&I.SYNC)&&(_!=="async"||x.ready&I.ASYNC)?_!=="sync"&&x.ready&I.QUEUE?Y.apply=function(){var P=arguments;ie.push(function(){k.apply(P[1],P[2])})}:Y.apply=function(){throw $+": hooked function not ready"}:Y.apply=U}}return(x=l({},a,x)).ready?ee.ready=function(){L=!0;for(var _,C=ie;_=C.shift();)_()}:L=!0,ee.get=O,ee}s.exports=I},3172:function(s,$,a){function o(r,e,l){for(var I,x,L=0,g=(e=e.split?e.split("."):e).length,ie=r;L<g&&(x=""+e[L++])!="__proto__"&&x!=="constructor"&&x!=="prototype";)ie=ie[x]=L===g?l:typeof(I=ie[x])==typeof e?I:0*e[L]!=0||~(""+e[L]).indexOf(".")?{}:[]}a.d($,{J:function(){return o}})},5751:function(s,$,a){function o(r){var e,l,I;if(Array.isArray(r))for(l=Array(e=r.length);e--;)l[e]=(I=r[e])&&typeof I=="object"?o(I):I;else{if(Object.prototype.toString.call(r)!=="[object Object]")return r;for(e in l={},r)e==="__proto__"?Object.defineProperty(l,e,{value:o(r[e]),configurable:!0,enumerable:!0,writable:!0}):l[e]=(I=r[e])&&typeof I=="object"?o(I):I}return l}a.d($,{Q:function(){return o}})}},i={},t.m=y,b=[],t.O=function(s,$,a,o){if(!$){for(var r=1/0,e=0;e<b.length;e++){$=b[e][0],a=b[e][1],o=b[e][2];for(var l,I=!0,x=0;x<$.length;x++)(!1&o||o<=r)&&Object.keys(t.O).every(function(L){return t.O[L]($[x])})?$.splice(x--,1):(I=!1,o<r&&(r=o));I&&(b.splice(e--,1),(l=a())!==void 0)&&(s=l)}return s}o=o||0;for(var e=b.length;0<e&&b[e-1][2]>o;e--)b[e]=b[e-1];b[e]=[$,a,o]},t.n=function(s){var $=s&&s.__esModule?function(){return s.default}:function(){return s};return t.d($,{a:$}),$},t.d=function(s,$){for(var a in $)t.o($,a)&&!t.o(s,a)&&Object.defineProperty(s,a,{enumerable:!0,get:$[a]})},t.o=function(s,$){return Object.prototype.hasOwnProperty.call(s,$)},G={9673:0},t.O.j=function(s){return G[s]===0},(V=self.pbjsChunk=self.pbjsChunk||[]).forEach(le.bind(null,0)),V.push=le.bind(null,V.push.bind(V)),V=t.O(void 0,[802,2139,1085],function(){return t(7332)}),t.O(V),(self.pbjsChunk=self.pbjsChunk||[]).push([[802],{5789:function(s,l,a){a.d(l,{A4:function(){return g},J7:function(){return ie},Pg:function(){return ee}});var o=a(1580),r=a(1069),e=a(5901),l=a(7873),I=a(5569),x=(0,l.m)(),L="outstream";function g(O){var f=this,c=O.url,_=O.config,C=O.id,h=O.callback,D=O.loaded,U=O.adUnitCode,k=O.renderNow;this.url=c,this.config=_,this.handlers={},this.id=C,this.renderNow=k,this.adUnitCode=U,this.loaded=D,this.cmd=[],this.push=function(M){typeof M=="function"?f.loaded?M.call():f.cmd.push(M):(0,r.vV)("Commands given to Renderer.push must be wrapped in a function")},this.callback=h||function(){f.loaded=!0,f.process()},this.render=(function(){function M(){Y._render?Y._render.apply(Y,X):(0,r.JE)("No render function was provided, please use .setRender on the renderer")}var Y=this,X=arguments;(P=>{var R,K,Q,w=x.adUnits;if(w=(0,e.I6)(w,function(u){return u.code===P}))return K=!!((R=w==null?void 0:w.renderer)&&R.url&&R.render),Q=!!((w=(w=(w=w==null?void 0:w.mediaTypes)==null?void 0:w.video)==null?void 0:w.renderer)&&w.url&&w.render),K&&R.backupOnly!==!0||Q&&w.backupOnly!==!0})(U)?((0,r.JE)("External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ".concat(U)),M()):k?M():(this.cmd.unshift(M),(0,o.R)(c,I.tp,L,this.callback,this.documentContext))}).bind(this)}function ie(O){return!(!O||!O.url&&!O.renderNow)}function ee(O,f,c){var _=null,_=(_=O.config&&O.config.documentResolver?O.config.documentResolver(f,document,c):_)||document;O.documentContext=_,O.render(f,O.documentContext)}g.install=function(O){return new g({url:O.url,config:O.config,id:O.id,callback:O.callback,loaded:O.loaded,adUnitCode:O.adUnitCode,renderNow:O.renderNow})},g.prototype.getConfig=function(){return this.config},g.prototype.setRender=function(O){this._render=O},g.prototype.setEventHandlers=function(O){this.handlers=O},g.prototype.handleVideoEvent=function(c){var f=c.id,c=c.eventName;typeof this.handlers[c]=="function"&&this.handlers[c](),(0,r.OG)("Prebid Renderer event for id ".concat(f," type ").concat(c))},g.prototype.process=function(){for(;0<this.cmd.length;)try{this.cmd.shift().call()}catch(O){(0,r.vV)("Error processing Renderer command on ad unit '".concat(this.adUnitCode,"':"),O)}}},6811:function(s,$,a){a.d($,{DL:function(){return L},Ml:function(){return r},Ue:function(){return o},VJ:function(){return ie},hE:function(){return g},hq:function(){return x},mo:function(){return I},pY:function(){return ee},uc:function(){return l},yl:function(){return e}});var o="accessDevice",r="syncUser",e="enrichEids",l="fetchBids",I="reportAnalytics",x="transmitEids",L="transmitUfpd",g="transmitPreciseGeo",ie="transmitTid",ee="loadExternalScript"},3441:function(s,$,a){a.d($,{s:function(){return r}});var o=a(1445),r=(0,a(2604).ZI)(function(e){return o.Ay.resolveAlias(e)})},5569:function(s,$,a){a.d($,{Tn:function(){return l},fW:function(){return e},tW:function(){return r},tp:function(){return o}});var o="prebid",r="bidder",e="userId",l="analytics"},2604:function(s,r,a){a.d(r,{Dk:function(){return l},Ii:function(){return e},TQ:function(){return O},U3:function(){return c},XG:function(){return g},ZI:function(){return f},Zw:function(){return L},bt:function(){return ie},e3:function(){return ee},iK:function(){return I},q7:function(){return x}});var o=a(5569),r=a(9214),e="component",l=e+"Type",I=e+"Name",x="adapterCode",L="storageType",g="configName",ie="syncType",ee="syncUrl",O="_config";function f(_){return function(C,h,D){(U={})[l]=C,U[I]=h,U[e]="".concat(C,".").concat(h);var U;return C===o.tW&&(U[x]=_(h)),c(Object.assign(U,D))}}var c=(0,r.A_)("sync",function(_){return _})},6953:function(s,$,a){a.d($,{Vx:function(){return x},$p:function(){return _}});var o=a(433),r=a(3272),e=a(5139),l=a(6811),I=["data","ext.data","yob","gender","keywords","kwarray","id","buyeruid","customdata"].map(function(C){return"user.".concat(C)}).concat("device.ext.cdep"),x=["user.eids","user.ext.eids"],L=["user.geo.lat","user.geo.lon","device.geo.lat","device.geo.lon"],g=["device.ip"],ie=["device.ipv6"];function ee(C){return Object.assign({get:function(){},run:function(h,D,U,k,M){var Y=U&&U[k];Y!=null&&(typeof Y!="object"||0<Object.keys(Y).length)&&M()&&((M=this.get(Y))===void 0?delete U[k]:U[k]=M)}},C)}function O(C){return C.forEach(function(h){h.paths=h.paths.map(function(U){var U=U.split("."),k=U.pop();return[0<U.length?U.join("."):null,k]})}),function(h,D){for(var U=[],k=arguments.length,M=new Array(2<k?k-2:0),Y=2;Y<k;Y++)M[Y-2]=arguments[Y];var X=(function(P){for(var R=arguments.length,K=new Array(1<R?R-1:0),Q=1;Q<R;Q++)K[Q-1]=arguments[Q];return function(w){return P.hasOwnProperty(w.name)||(P[w.name]=!!w.applies.apply(w,K)),P[w.name]}}).apply(void 0,be([h],M,!1));return C.forEach(function(P){if(h[P.name]!==!1)for(var R=0,K=P.paths;R<K.length;R++){var w=K[R],Q=w[0],w=w[1],u=Q==null?D:(0,o.A)(D,Q);if(U.push(P.run(D,Q,u,w,X.bind(null,P))),h[P.name]===!1)return}}),U.filter(function(P){return P!=null})}}function f(C,h){var D=1<arguments.length&&h!==void 0?h:e.io;return function(U){return!D(C,U)}}function c(C){return C=0<arguments.length&&C!==void 0?C:e.io,[{name:l.DL,paths:I,applies:f(l.DL,C)},{name:l.hq,paths:x,applies:f(l.hq,C)},{name:l.hE,paths:L,applies:f(l.hE,C),get:function(h){return Math.round(100*(h+Number.EPSILON))/100}},{name:l.hE,paths:g,applies:f(l.hE,C),get:function(h){if(!h||(h=h.split(".").map(Number),h.length!=4))return null;for(var D=[],U=0;U<4;U++){var k=Math.max(0,Math.min(8,24-8*U));D.push(255<<8-k&255)}return h.map(function(M,Y){return M&D[Y]}).join(".")}},{name:l.hE,paths:ie,applies:f(l.hE,C),get:function(h){if(!h)return null;for(var D=(D=h.split(":").map(function(Y){return parseInt(Y,16)})).map(function(Y){return isNaN(Y)?0:Y});D.length<8;)D.push(0);if(D.length!=8)return null;for(var U=[],k=0;k<8;k++){var M=Math.max(0,Math.min(16,64-16*k));U.push(65535<<16-M&65535)}return D.map(function(Y,X){return Y&U[X]}).map(function(Y){return Y.toString(16)}).join(":")}},{name:l.VJ,paths:["source.tid"],applies:f(l.VJ,C)}].map(ee)}var _=function(h){var h=0<arguments.length&&h!==void 0?h:e.io,D=O(c(h)),U=O(function(k){return k=0<arguments.length&&k!==void 0?k:e.io,[{name:l.hq,paths:["userId","userIdAsEids"],applies:f(l.hq,k)},{name:l.VJ,paths:["ortb2Imp.ext.tid"],applies:f(l.VJ,k)}].map(ee)}(h));return function(k){var M={};return{ortb2:function(Y){return D(M,Y,k),Y},bidRequest:function(Y){return U(M,Y,k),Y}}}}();(0,e.qB)(l.VJ,"enableTIDs config",function(){if(!r.$W.getConfig("enableTIDs"))return{allow:!1,reason:"TIDs are disabled"}})},5139:function(s,e,a){a.d(e,{io:function(){return I},qB:function(){return l}});var o=a(1069),r=a(2604),e=function(x){var L=0<arguments.length&&x!==void 0?x:(0,o.h0)("Activity control:"),g={};function ie(f){return g[f]=g[f]||[]}var ee={};function O(U){var c=U.activity,_=U.allow,C=U.reason,h=U.component,D="".concat(U.name," ").concat(_?"allowed":"denied"," '").concat(c,"' for '").concat(h,"'").concat(C?":":""),U=ee.hasOwnProperty(D);U&&clearTimeout(ee[D]),ee[D]=setTimeout(function(){return delete ee[D]},1e3),U||(c=[D],C&&c.push(C),(_?L.logInfo:L.logWarn).apply(L,c))}return[function(D,c,_){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:10,h=ie(D),D=h.findIndex(function(k){return k=k[0],C<k}),U=[C,c,_];return h.splice(D<0?h.length:D,0,U),function(){var k=h.indexOf(U);0<=k&&h.splice(k,1)}},function(f,c){for(var _,C=0,h=ie(f);C<h.length;C++){var U=h[C],M=U[0],D=U[1],U=U[2];if(k!==M&&_)break;var k=M,M=((Y,X,P,R)=>{var K;try{K=P(R)}catch(Q){L.logError("Exception in rule ".concat(X," for '").concat(Y,"'"),Q),K={allow:!1,reason:Q}}return K&&Object.assign({activity:Y,name:X,component:R[r.Ii]},K)})(f,D,U,c);if(M){if(!M.allow)return O(M),!1;_=M}}return _&&O(_),!0}]}(),l=e[0],I=e[1]},9075:function(s,ie,h){h.d(ie,{$A:function(){return P},BS:function(){return re},Hh:function(){return oe},Pk:function(){return J},Uc:function(){return w},XO:function(){return ge},bw:function(){return E},n6:function(){return R},qn:function(){return S},vB:function(){return z},vW:function(){return u},vd:function(){return T}});var o=h(1069),r=h(5023),e=h(8969),l=h(3272),I=h(5789),x=h(1371),L=h(7314),g=h(6031),ie=h(9214),ee=h(2449),O=h(5555),f=h(1445),c=h(6894),_=h(7779),C=h(3005),h=e.qY,D=h.AD_RENDER_FAILED,U=h.AD_RENDER_SUCCEEDED,k=h.STALE_RENDER,M=h.BID_WON,Y=h.EXPIRED_RENDER,X=e.as.EXCEPTION,P=(0,ie.A_)("sync",function(W){return(2<arguments.length&&arguments[2]!==void 0?arguments[2]:O.U9.resolve()).then(function(Z){return Z!=null?Z:L.n.findBidByAdId(W)}).catch(function(){})}),R=(0,ie.A_)("sync",function(W){var Z;(((Z=(0,C.$T)(W.eventtrackers)[C.RO])==null?void 0:Z[C.Ni])||[]).forEach(function(j){return(0,o.z$)(j)}),r.Ic(M,W),L.n.addWinningBid(W)});function K(N){var q=N.reason,Z=N.message,j=N.bid,N=N.id,q={reason:q,message:Z};j&&(q.bid=j,q.adId=j.adId),N&&(q.adId=N),(0,o.vV)("Error rendering ad (id: ".concat(N,"): ").concat(Z)),r.Ic(D,q)}function Q(j){var N=j.doc,Z=j.bid,j=j.id,N={doc:N};Z&&(N.bid=Z),j&&(N.adId=j),f.Ay.callAdRenderSucceededBidder(Z.adapterCode||Z.bidder,Z),r.Ic(U,N)}function w(W,Z){switch(W.event){case e.qY.AD_RENDER_FAILED:K({bid:Z,id:Z.adId,reason:W.info.reason,message:W.info.message});break;case e.qY.AD_RENDER_SUCCEEDED:Q({doc:null,bid:Z,id:Z.adId});break;default:(0,o.vV)("Received event request for unsupported event: '".concat(W.event,"' (adId: '").concat(Z.adId,"')"))}}function u(W,Z,q){var N=q.resizeFn,q=q.fireTrackers,q=q===void 0?ee.vO:q;W.action==="resizeNativeHeight"?N(W.width,W.height):q(W,Z)}(h={})[e.nl.EVENT]=w;var p=h,T=(p[e.nl.NATIVE]=u,(0,ie.A_)("sync",function(ue,Z){var j=ue.ad,N=ue.adUrl,q=ue.width,he=ue.height,ue={AUCTION_PRICE:ue.originalCpm||ue.cpm,CLICKTHROUGH:(Z==null?void 0:Z.clickUrl)||""};return{ad:(0,o.gM)(j,ue),adUrl:(0,o.gM)(N,ue),width:q,height:he}})),m=(0,ie.A_)("sync",function(he){var Z=he.renderFn,j=he.resizeFn,N=he.bidResponse,q=he.options,ue=he.isMainDocument,he=ue===void 0?he.doc===document&&!(0,o.al)():ue,ue=N.mediaType===x.G_;he||ue?K({reason:e.as.PREVENT_WRITING_ON_MAIN_DOCUMENT,message:ue?"Cannot render video ad without a renderer":"renderAd was prevented from writing to the main document.",bid:N,id:N.adId}):(he=T(N,q),Z(Object.assign({adId:N.adId},he)),ue=he.width,q=he.height,(ue!=null?ue:q)!=null&&j(ue,q))});function E(W){var Z=W.renderFn,j=W.resizeFn,N=W.adId,q=W.options,he=W.bidResponse,ue=W.doc;oe(he,function(){var me;if(he!=null){if((he.status!==e.tl.RENDERED||((0,o.JE)("Ad id ".concat(N," has been rendered before")),r.Ic(k,he),(me=l.$W.getConfig("auctionOptions"))==null)||!me.suppressStaleRender)&&(_.uW.isBidNotExpired(he)||((0,o.JE)("Ad id ".concat(N," has been expired")),r.Ic(Y,he),(me=l.$W.getConfig("auctionOptions"))==null)||!me.suppressExpiredRender))try{m({renderFn:Z,resizeFn:j,bidResponse:he,options:q,doc:ue})}catch(Oe){K({reason:e.as.EXCEPTION,message:Oe.message,id:N,bid:he})}}else K({reason:e.as.CANNOT_FIND_AD,message:"Cannot find ad '".concat(N,"'"),id:N})})}function S(W){var Z=(0,c.BO)(W.metrics);Z.checkpoint("bidRender"),Z.timeBetween("bidWon","bidRender","render.deferred"),Z.timeBetween("auctionEnd","bidRender","render.pending"),Z.timeBetween("requestBids","bidRender","render.e2e"),W.status=e.tl.RENDERED}m.before(function(W,Z){var j=Z.bidResponse,N=Z.doc;(0,I.J7)(j.renderer)?((0,I.Pg)(j.renderer,j,N),Q({doc:N,bid:j,id:j.adId}),W.bail()):W(Z)},100);var A=new WeakMap,B=new WeakSet;function oe(W,Z){W!=null?(A.set(W,Z),W.deferRendering||z(W),J(W)):Z()}function J(W){B.has(W)||(B.add(W),R(W))}function z(W){var Z=A.get(W);Z&&(Z(),S(W),A.delete(W))}function re(W,Z,j){var N;function q(Oe,se){K(Object.assign({id:Z,bid:N},{reason:Oe,message:se}))}function he(Oe,se){W.defaultView&&W.defaultView.frameElement&&(Oe&&(W.defaultView.frameElement.width=Oe),se)&&(W.defaultView.frameElement.height=se)}var ue;ue={resizeFn:he};function me(Oe){Oe.ad?(W.write(Oe.ad),W.close(),Q({doc:W,bid:N,id:N.adId})):(0,g.HH)(N).then(function(ne){return ne(Oe,{sendMessage:function(de,ce){var ve;de=de,ce=ce,ve=N,p.hasOwnProperty(de)&&p[de](ce,ve,ue)},mkFrame:o.hw},W.defaultView)}).then(function(){return Q({doc:W,bid:N,id:N.adId})},function(ne){q((ne==null?void 0:ne.reason)||e.as.EXCEPTION,ne==null?void 0:ne.message),ne!=null&&ne.stack&&(0,o.vV)(ne)});var se=document.createComment("Creative ".concat(N.creativeId," served by ").concat(N.bidder," Prebid.js Header Bidding"));(0,o._s)(se,W,"html")}try{Z&&W?P(Z).then(function(Oe){N=Oe,E({renderFn:me,resizeFn:he,adId:Z,options:{clickUrl:j==null?void 0:j.clickThrough},bidResponse:Oe,doc:W})}):q(e.as.MISSING_DOC_OR_ADID,"missing "+(Z?"doc":"adId"))}catch(Oe){q(X,Oe.message)}}function ge(){var W;window.frames[e.IY]||(document.body?((W=(0,o.CA)()).name=e.IY,document.body.appendChild(W)):window.requestAnimationFrame(ge))}},201:function(s,o,a){a.d(o,{U:function(){return l}});var o=a(7873),r=a(1069),e=(0,o.m)();function l(I,x){e.adServers=e.adServers||{},e.adServers[I]=e.adServers[I]||{},Object.keys(x).forEach(function(L){e.adServers[I][L]?(0,r.JE)("Attempting to add an already registered function property ".concat(L," for AdServer ").concat(I,".")):e.adServers[I][L]=x[L]})}},9759:function(s,$,a){function o(r){var e=r;return{callBids:function(){},setBidderCode:function(l){e=l},getBidderCode:function(){return e}}}a.d($,{A:function(){return o}})},1445:function(s,x,a){a.d(x,{Ay:function(){return j},pX:function(){return J},K5:function(){return S}});var o=a(1069),r=a(2449),e=a(7377),l=a(8044),I=a(3272),x=a(9214),L=a(5901),g={};function ie(N,q,he){return he=he,N=g[N]=g[N]||{bidders:{}},he=he?N.bidders[he]=N.bidders[he]||{}:N,he[q]=(he[q]||0)+1,he[q]}function ee(N){return ie(N,"auctionsCounter")}var O=a(7934),f=a(6916),c=a(5023),_=a(8969),C=a(6894),h=a(7314),D=a(5569),U=a(5139),k=a(6811),M=a(2604),Y=a(6953),X=a(3005),P="pbsBidAdapter",R="client",K="server",Q={isAllowed:U.io,redact:Y.$p},w={},u=w.bidderRegistry={},p=w.aliasRegistry={},T=[],m=(I.$W.getConfig("s2sConfig",function(N){N&&N.s2sConfig&&(T=(0,o.cy)(N.s2sConfig)?N.s2sConfig:[N.s2sConfig])}),{}),E=(0,M.ZI)(function(N){return w.resolveAlias(N)});function S(N){var q;return E(D.tp,P,((q={})[M.XG]=N.configName,q))}var A=(0,x.A_)("sync",function(N){var q=N.bidderCode,he=N.auctionId,ue=N.bidderRequestId,me=N.adUnits,Oe=N.src,se=N.metrics;return me.reduce(function(ne,de){var ce=de.bids.filter(function(ve){return ve.bidder===q});return q==null&&ce.length===0&&de.s2sBid!=null&&ce.push({bidder:null}),ne.push(ce.reduce(function(ve,pe){var we,te=((pe=Object.assign({},pe,{ortb2Imp:(0,o.D9)({},de.ortb2Imp,pe.ortb2Imp)},(0,o.SH)(de,["nativeParams","nativeOrtbRequest","mediaType","renderer"]))).mediaTypes==null?de:pe).mediaTypes;return(0,o.wD)(te)?pe=Object.assign({},pe,{mediaTypes:te}):(0,o.vV)("mediaTypes is not correctly configured for adunit ".concat(de.code)),Oe==="client"&&ie(de.code,"requestsCounter",q),ve.push(Object.assign({},pe,{adUnitCode:de.code,transactionId:de.transactionId,adUnitId:de.adUnitId,sizes:((we=te==null?void 0:te.banner)==null?void 0:we.sizes)||((we=te==null?void 0:te.video)==null?void 0:we.playerSize)||[],bidId:pe.bid_id||(0,o.s0)(),bidderRequestId:ue,auctionId:he,src:Oe,metrics:se,auctionsCount:(te=de.code,((te=g==null?void 0:g[te])==null?void 0:te.auctionsCounter)||0),bidRequestsCount:(we=de.code,((we=g==null?void 0:g[we])==null?void 0:we.requestsCounter)||0),bidderRequestsCount:(te=de.code,we=pe.bidder,((te=(te=(te=g==null?void 0:g[te])==null?void 0:te.bidders)==null?void 0:te[we])==null?void 0:te.requestsCounter)||0),bidderWinsCount:(we=de.code,te=pe.bidder,((we=(we=(we=g==null?void 0:g[we])==null?void 0:we.bidders)==null?void 0:we[te])==null?void 0:we.winsCounter)||0),deferBilling:!!de.deferBilling})),ve},[])),ne},[]).reduce(o.Bq,[]).filter(function(ne){return ne!==""})},"getBids"),B=(0,x.A_)("sync",function(N,q){var he,ue=(2<arguments.length&&arguments[2]!==void 0?arguments[2]:{}).getS2SBidders;return q==null?N:(he=(ue===void 0?J:ue)(q),N.filter(function(me){return he.has(me.bidder)}))},"filterBidsForAdUnit"),oe=(0,x.A_)("sync",function(N,q){return N},"setupAdUnitMediaTypes");function J(N){(0,o.cy)(N)||(N=[N]);var q=new Set([null]);return N.filter(function(he){return he&&he.enabled}).flatMap(function(he){return he.bidders}).forEach(function(he){return q.add(he)}),q}var z,re=(0,x.A_)("sync",function(N,q){var he=(2<arguments.length&&arguments[2]!==void 0?arguments[2]:{}).getS2SBidders,ue=(he===void 0?J:he)(q);return(0,o.ZA)(N).reduce(function(me,Oe){return me[ue.has(Oe)?K:R].push(Oe),me},((he={})[R]=[],he[K]=[],he))},"partitionBidders");function ge(N,q){if(N=u[N],N=(N==null?void 0:N.getSpec)&&N.getSpec(),N&&N[q]&&typeof N[q]=="function")return[N,N[q]]}function W(N,q,he,ue){try{(0,o.fH)("Invoking ".concat(N,".").concat(q));for(var me=arguments.length,Oe=new Array(4<me?me-4:0),se=4;se<me;se++)Oe[se-4]=arguments[se];I.$W.runWithBidder(N,ue.bind.apply(ue,be([he],Oe,!1)))}catch{(0,o.JE)("Error calling ".concat(q," of ").concat(N))}}function Z(N,q,he){var ue;(he==null?void 0:he.source)!==_.RW.SRC&&(ue=ge(N,q))!=null&&W.apply(void 0,be(be([N,q],ue,!1),[he],!1))}w.makeBidRequests=(0,x.A_)("sync",function(N,q,he,ue,me){var Oe=5<arguments.length&&arguments[5]!==void 0?arguments[5]:{},se=6<arguments.length?arguments[6]:void 0,se=(0,C.BO)(se),ne=(c.Ic(_.qY.BEFORE_REQUEST_BIDS,N),(0,r.nk)(N),N.map(function(Ce){return Ce.code}).filter(o.hj).forEach(ee),N.forEach(function(Ce){(0,o.Qd)(Ce.mediaTypes)||(Ce.mediaTypes={}),Ce.bids=Ce.bids.filter(function(Se){return!Se.bidder||Q.isAllowed(k.uc,E(D.tW,Se.bidder))}),ie(Ce.code,"requestsCounter")}),N=oe(N,me),re(N,T)),de=ne[R],ce=ne[K],ve=(I.$W.getConfig("bidderSequence")===I.Ov&&(de=(0,o.k4)(de)),(0,O.EN)()),pe=[],we=Oe.global||{},te=Oe.bidder||{};function H(Ce,Se){var De=Q.redact(Se!=null?Se:E(D.tW,Ce.bidderCode)),_e=Object.freeze(De.ortb2((0,o.D9)({source:{tid:he}},we,te[Ce.bidderCode])));return Ce.ortb2=_e,Ce.bids=Ce.bids.map(function(Pe){return Pe.ortb2=_e,De.bidRequest(Pe)}),Ce}T.forEach(function(Ce){var Se,De,_e,Pe,Ne,We=S(Ce);Ce&&Ce.enabled&&Q.isAllowed(k.uc,We)&&(_e=N,Pe=Ce,_e=(0,o.Go)(_e),Ne=!1,_e.forEach(function(Ue){var xe=Ue.bids.filter(function(Me){return Me.module===P&&((Me=Me.params)==null?void 0:Me.configName)===Pe.configName});xe.length===1?(Ue.s2sBid=xe[0],Ne=!0,Ue.ortb2Imp=(0,o.D9)({},Ue.s2sBid.ortb2Imp,Ue.ortb2Imp)):1<xe.length&&(0,o.JE)('Multiple "module" bids for the same s2s configuration; all will be ignored',xe),Ue.bids=B(Ue.bids,Pe).map(function(Me){return Me.bid_id=(0,o.s0)(),Me})}),_e={adUnits:_e=_e.filter(function(Ue){return Ue.bids.length!==0||Ue.s2sBid!=null}),hasModuleBids:Ne},Se=_e.adUnits,_e=_e.hasModuleBids,De=(0,o.lk)(),(ce.length===0&&_e?[null]:ce).forEach(function(ke){var xe=(0,o.s0)(),Me=se.fork(),ke=H({bidderCode:ke,auctionId:he,bidderRequestId:xe,uniquePbsTid:De,bids:A({bidderCode:ke,auctionId:he,bidderRequestId:xe,adUnits:(0,o.Go)(Se),src:_.RW.SRC,metrics:Me}),auctionStart:q,timeout:Ce.timeout,src:_.RW.SRC,refererInfo:ve,metrics:Me},We);ke.bids.length!==0&&pe.push(ke)}),Se.forEach(function(Ue){var xe=Ue.bids.filter(function(Me){return(0,L.I6)(pe,function(ke){return(0,L.I6)(ke.bids,function(Qe){return Qe.bidId===Me.bid_id})})});Ue.bids=xe}),pe.forEach(function(Ue){Ue.adUnitsS2SCopy===void 0&&(Ue.adUnitsS2SCopy=Se.filter(function(xe){return 0<xe.bids.length||xe.s2sBid!=null}))}))});var ye=(Ce=>((Ce=(0,o.Go)(Ce)).forEach(function(Se){Se.bids=B(Se.bids,null)}),Ce=Ce.filter(function(Se){return Se.bids.length!==0})))(N);return de.forEach(function(Ce){var Se=(0,o.s0)(),De=se.fork(),Se=H({bidderCode:Ce,auctionId:he,bidderRequestId:Se,bids:A({bidderCode:Ce,auctionId:he,bidderRequestId:Se,adUnits:(0,o.Go)(ye),labels:me,src:"client",metrics:De}),auctionStart:q,timeout:ue,refererInfo:ve,metrics:De}),De=u[Ce];De||(0,o.vV)("Trying to make a request for bidder that does not exist: ".concat(Ce)),De&&Se.bids&&Se.bids.length!==0&&pe.push(Se)}),pe.forEach(function(Ce){f.mW.getConsentData()&&(Ce.gdprConsent=f.mW.getConsentData()),f.t6.getConsentData()&&(Ce.uspConsent=f.t6.getConsentData()),f.ad.getConsentData()&&(Ce.gppConsent=f.ad.getConsentData())}),pe},"makeBidRequests"),w.callBids=function(N,q,he,ue,me,Oe,se){var ne,de,ce,ve,pe=7<arguments.length&&arguments[7]!==void 0?arguments[7]:{};q.length?(ne=(q=q.reduce(function(we,te){return we[+(te.src!==void 0&&te.src===_.RW.SRC)].push(te),we},[[],[]]))[0],ce=[],(de=q[1]).forEach(function(we){for(var te=-1,H=0;H<ce.length;++H)if(we.uniquePbsTid===ce[H].uniquePbsTid){te=H;break}te<=-1&&ce.push(we)}),ve=0,T.forEach(function(we){var te,H,ye,Ce,Se,De,_e,Pe;we&&ce[ve]&&J(we).has(ce[ve].bidderCode)&&(te=(0,l.g4)(Oe,me?{request:me.request.bind(null,"s2s"),done:me.done}:void 0),H=we.bidders,ye=u[we.adapter],Ce=ce[ve].uniquePbsTid,De=ce[ve].adUnitsS2SCopy,Se=de.filter(function(Ne){return Ne.uniquePbsTid===Ce}),ye?(De={ad_units:De,s2sConfig:we,ortb2Fragments:pe,requestBidsTimeout:Oe}).ad_units.length&&(_e=Se.map(function(Ne){return Ne.start=(0,o.vE)(),function(We){We||se(Ne.bidderRequestId),ue.apply(Ne,arguments)}}),Pe=(0,o.ZA)(De.ad_units).filter(function(Ne){return H.includes(Ne)}),(0,o.OG)("CALLING S2S HEADER BIDDERS ==== ".concat(0<Pe.length?Pe.join(", "):'No bidder specified, using "ortb2Imp" definition(s) only')),Se.forEach(function(Ne){c.Ic(_.qY.BID_REQUESTED,F(F({},Ne),{tid:Ne.auctionId}))}),ye.callBids(De,de,he,function(Ne){return _e.forEach(function(We){return We(Ne)})},te)):(0,o.vV)("missing "+we.adapter),ve++)}),ne.forEach(function(we){we.start=(0,o.vE)();var te=u[we.bidderCode],H=(I.$W.runWithBidder(we.bidderCode,function(){(0,o.OG)("CALLING BIDDER"),c.Ic(_.qY.BID_REQUESTED,we)}),(0,l.g4)(Oe,me?{request:me.request.bind(null,we.bidderCode),done:me.done}:void 0)),ye=ue.bind(we);try{I.$W.runWithBidder(we.bidderCode,te.callBids.bind(te,we,he,ye,H,function(){return se(we.bidderRequestId)},I.$W.callbackWithBidder(we.bidderCode)))}catch(Ce){(0,o.vV)("".concat(we.bidderCode," Bid Adapter emitted an uncaught error when parsing their bidRequest"),{e:Ce,bidRequest:we}),ye()}})):(0,o.JE)("callBids executed with no bidRequests.  Were they filtered by labels or sizing?")},w.videoAdapters=[],w.registerBidAdapter=function(N,q){var he,ue=(2<arguments.length&&arguments[2]!==void 0?arguments[2]:{}).supportedMediaTypes,ue=ue===void 0?[]:ue;N&&q?typeof N.callBids=="function"?(u[q]=N,f.o2.register(D.tW,q,(he=N.getSpec)==null?void 0:he.call(N).gvlid),(0,L.mK)(ue,"video")&&w.videoAdapters.push(q),(0,L.mK)(ue,"native")&&r.mT.push(q)):(0,o.vV)("Bidder adaptor error for bidder code: "+q+"bidder must implement a callBids() function"):(0,o.vV)("bidAdapter or bidderCode not specified")},w.aliasBidAdapter=function(N,q,he){if(u[q]===void 0){var ue=u[N];if(ue===void 0){var me=[];T.forEach(function(H){var ye;H.bidders&&H.bidders.length&&(ye=H&&H.bidders,H&&(0,L.mK)(ye,q)?p[q]=N:me.push(N))}),me.forEach(function(H){(0,o.vV)('bidderCode "'+H+'" is not an existing bidder.',"adapterManager.aliasBidAdapter")})}else try{we=N,te=[],(0,L.mK)(w.videoAdapters,we)&&te.push("video"),(0,L.mK)(r.mT,we)&&te.push("native");var Oe,se,ne,de,ce,ve,pe=te;ue.constructor.prototype!=Object.prototype?(ve=new ue.constructor).setBidderCode(q):(se=(Oe=(he||{}).useBaseGvlid)!==void 0&&Oe,ne=ue.getSpec(),(de=se?ne.gvlid:he==null?void 0:he.gvlid)==null&&ne.gvlid!=null&&(0,o.JE)("Alias '".concat(q,"' will NOT re-use the GVL ID of the original adapter ('").concat(ne.code,"', gvlid: ").concat(ne.gvlid,"). Functionality that requires TCF consent may not work as expected.")),ce=he&&he.skipPbsAliasing,ve=(0,e.xb)(Object.assign({},ne,{code:q,gvlid:de,skipPbsAliasing:ce})),p[q]=N),w.registerBidAdapter(ve,q,{supportedMediaTypes:pe})}catch{(0,o.vV)(N+" bidder does not currently support aliasing.","adapterManager.aliasBidAdapter")}}else(0,o.OG)('alias name "'+q+'" has been already specified.');var we,te},w.resolveAlias=function(N){for(var q,he=N;p[he]&&(!q||!q.has(he));)he=p[he],(q=q||new Set).add(he);return he},w.registerAnalyticsAdapter=function(ue){var q=ue.adapter,he=ue.code,ue=ue.gvlid;q&&he?typeof q.enableAnalytics=="function"?(q.code=he,m[he]={adapter:q,gvlid:ue},f.o2.register(D.Tn,he,ue)):(0,o.vV)('Prebid Error: Analytics adaptor error for analytics "'.concat(he,'"\n        analytics adapter must implement an enableAnalytics() function')):(0,o.vV)("Prebid Error: analyticsAdapter or analyticsCode not specified")},w.enableAnalytics=function(N){(N=(0,o.cy)(N)?N:[N]).forEach(function(q){var he,ue=m[q.provider];ue&&ue.adapter?Q.isAllowed(k.mo,E(D.Tn,q.provider,((he={})[M.TQ]=q,he)))&&ue.adapter.enableAnalytics(q):(0,o.vV)("Prebid Error: no analytics adapter found in registry for '".concat(q.provider,"'."))})},w.getBidAdapter=function(N){return u[N]},w.getAnalyticsAdapter=function(N){return m[N]},w.callTimedOutBidders=function(N,q,he){q=q.map(function(ue){return ue.params=(0,o.SB)(N,ue.adUnitCode,ue.bidder),ue.timeout=he,ue}),q=(0,o.$z)(q,"bidder"),Object.keys(q).forEach(function(ue){Z(ue,"onTimeout",q[ue])})},w.callBidWonBidder=function(N,q,he){q.params=(0,o.SB)(he,q.adUnitCode,q.bidder),ie(q.adUnitCode,"winsCounter",q.bidder),Z(N,"onBidWon",q)},w.triggerBilling=(z=new WeakSet,function(N){var q;z.has(N)||(z.add(N),(((q=(0,X.$T)(N.eventtrackers)[X.OA])==null?void 0:q[X.Ni])||[]).forEach(function(he){return o.mM.triggerPixel(he)}),Z(N.bidder,"onBidBillable",N))}),w.callSetTargetingBidder=function(N,q){Z(N,"onSetTargeting",q)},w.callBidViewableBidder=function(N,q){Z(N,"onBidViewable",q)},w.callBidderError=function(N,q,he){Z(N,"onBidderError",{error:q,bidderRequest:he})},w.callAdRenderSucceededBidder=function(N,q){Z(N,"onAdRenderSucceeded",q)},w.callDataDeletionRequest=(0,x.A_)("sync",function(){for(var N=arguments.length,q=new Array(N),he=0;he<N;he++)q[he]=arguments[he];var ue="onDataDeletionRequest";Object.keys(u).filter(function(me){return!p.hasOwnProperty(me)}).forEach(function(me){var Oe,se=ge(me,ue);se!=null&&(Oe=h.n.getBidsRequested().filter(function(ne){return(de=>{for(var ce=new Set;p.hasOwnProperty(de)&&!ce.has(de);)ce.add(de),de=p[de];return de})(ne.bidderCode)===me}),W.apply(void 0,be(be(be([me,ue],se,!1),[Oe],!1),q,!1)))}),Object.entries(m).forEach(function(me){var Oe=me[0],se=me[1],ne=(ne=se==null?void 0:se.adapter)==null?void 0:ne[ue];if(typeof ne=="function")try{ne.apply(se.adapter,q)}catch(de){(0,o.vV)("error calling ".concat(ue," of ").concat(Oe),de)}})});var j=w},7377:function(s,f,a){a.d(f,{JN:function(){return u},JS:function(){return T},a$:function(){return X},eI:function(){return P},fn:function(){return p},xb:function(){return R}});var o=a(9759),r=a(1445),e=a(3272),l=a(3597),I=a(8230),x=a(2449),L=a(3895),g=a(8969),ie=a(5023),ee=a(5901),O=a(1069),f=a(9214),c=a(7314),_=a(2693),C=a(6894),h=a(5139),D=a(3441),U=a(5569),k=a(6811),M=["cpm","ttl","creativeId","netRevenue","currency"],Y=["auctionId","transactionId"];function X(m){var E=Array.isArray(m.supportedMediaTypes)?{supportedMediaTypes:m.supportedMediaTypes}:void 0;function S(A){var B=R(A);r.Ay.registerBidAdapter(B,A.code,E)}S(m),Array.isArray(m.aliases)&&m.aliases.forEach(function(A){var B,oe,J=A;(0,O.Qd)(A)&&(J=A.code,B=A.gvlid,oe=A.skipPbsAliasing),r.Ay.aliasRegistry[J]=m.code,S(Object.assign({},m,{code:J,gvlid:B,skipPbsAliasing:oe}))})}var P=(0,O.Bj)(function(S){var E,S=S.bidderCode;return(0,h.io)(k.VJ,(0,D.s)(U.tW,S))?{bidRequest:function(oe){return oe},bidderRequest:function(oe){return oe}}:{bidRequest:E=(0,O.Bj)(function(oe){return B(oe,{get:A})},function(oe){return oe.bidId}),bidderRequest:function(oe){return B(oe,{get:function(J,z,re){return z==="bids"?oe.bids.map(E):A(J,z,re)}})}};function A(oe,J,z){return Y.includes(J)?null:Reflect.get(oe,J,z)}function B(oe,J){var z=new Proxy(oe,J);return Object.entries(oe).filter(function(re){return re[0],typeof re[1]=="function"}).forEach(function(W){var ge=W[0],W=W[1];return z[ge]=W.bind(oe)}),z}});function R(m){return Object.assign(new o.A(m.code),{getSpec:function(){return Object.freeze(Object.assign({},m))},registerSyncs:E,callBids:function(S,A,B,oe,J,z){var re,ge,W,Z;function j(){B(),e.$W.runWithBidder(m.code,function(){ie.Ic(g.qY.BIDDER_DONE,S),E(ge,S.gdprConsent,S.uspConsent,S.gppConsent)})}Array.isArray(S.bids)&&(re=P(S),ge=[],(W=T(S).measureTime("validate",function(){return S.bids.filter(function(N){return N=re.bidRequest(N),!!m.isBidRequestValid(N)||((0,O.JE)("Invalid bid sent to bidder ".concat(m.code,": ").concat(JSON.stringify(N))),!1)})})).length===0?j():(Z={},W.forEach(function(N){(Z[N.bidId]=N).adUnitCode||(N.adUnitCode=N.placementCode)}),Q(m,W,S,oe,z,{onRequest:function(N){return ie.Ic(g.qY.BEFORE_BIDDER_HTTP,S,N)},onResponse:function(N){J(m.code),ge.push(N)},onPaapi:function(N){var q=Z[N.bidId];q?u(q,N):(0,O.JE)("Received fledge auction configuration for an unknown bidId",N)},onError:function(N,q){q.timedOut||J(m.code),r.Ay.callBidderError(m.code,q,S),ie.Ic(g.qY.BIDDER_ERROR,{error:q,bidderRequest:S}),(0,O.vV)("Server call for ".concat(m.code," failed: ").concat(N," ").concat(q.status,". Continuing without bids."),{bidRequests:W})},onBid:function(N){var q,he,ue,me,Oe,se,ne=Z[N.requestId];ne?(N.adapterCode=ne.bidder,ue=N.bidderCode,me=ne.bidder,Oe=_.u.get(me,"allowAlternateBidderCodes")||!1,se=_.u.get(me,"allowedAlternateBidderCodes"),ue&&me&&me!==ue&&(se=(0,O.cy)(se)?se.map(function(de){return de.trim().toLowerCase()}).filter(function(de){return!!de}).filter(O.hj):se,!Oe||(0,O.cy)(se)&&se[0]!=="*"&&!se.includes(ue))?((0,O.JE)("".concat(N.bidderCode," is not a registered partner or known bidder of ").concat(ne.bidder,", hence continuing without bid. If you wish to support this bidder, please mark allowAlternateBidderCodes as true in bidderSettings.")),A.reject(ne.adUnitCode,N,g.Tf.BIDDER_DISALLOWED)):(N.originalCpm=N.cpm,N.originalCurrency=N.currency,N.meta=N.meta||Object.assign({},N[ne.bidder]),N.deferBilling=ne.deferBilling,N.deferRendering=N.deferBilling&&((me=N.deferRendering)!=null?me:typeof m.onBidBillable!="function"),Oe=Object.assign((0,l.O)(g.XQ.GOOD,ne),N,(0,O.Up)(ne,Y)),q=ne.adUnitCode,he=Oe,(se=(0,C.BO)(he.metrics)).checkpoint("addBidResponse"),se.measureTime("addBidResponse.validate",function(){return p(q,he)})?A(q,he):A.reject(q,he,g.Tf.INVALID))):((0,O.JE)("Bidder ".concat(m.code," made bid for unknown request ID: ").concat(N.requestId,". Ignoring.")),A.reject(null,N,g.Tf.INVALID_REQUEST_ID))},onCompletion:j})))}});function E(S,A,B,oe){w(m,S,A,B,oe)}}var K=["bids","paapi"],Q=(0,f.A_)("sync",function(m,E,S,A,B,N){var J,z=N.onRequest,re=N.onResponse,ge=N.onPaapi,W=N.onError,Z=N.onBid,N=N.onCompletion,j=T(S),N=j.startTiming("total").stopBefore(N),q=P(S),he=j.measureTime("buildRequests",function(){return m.buildRequests(E.map(q.bidRequest),q.bidderRequest(S))});he&&he.length!==0?(Array.isArray(he)||(he=[he]),J=(0,O.U6)(N,he.length),he.forEach(function(ue){var me=j.fork();function Oe(pe){pe!=null&&(pe.metrics=me.fork().renameWith()),Z(pe)}var se,ne=B(function(pe,we){ce();try{pe=JSON.parse(pe)}catch{}pe={body:pe,headers:{get:we.getResponseHeader.bind(we)}},re(pe);try{pe=me.measureTime("interpretResponse",function(){return m.interpretResponse(pe,ue)})}catch(ye){return(0,O.vV)("Bidder ".concat(m.code," failed to interpret the server's response. Continuing without bids"),null,ye),void J()}var te,H;pe&&!Object.keys(pe).some(function(ye){return!K.includes(ye)})?(te=pe.bids,H=pe.paapi):te=pe,(0,O.cy)(H)&&H.forEach(ge),te&&((0,O.cy)(te)?te.forEach(Oe):Oe(te)),J()}),de=B(function(pe,we){ce(),W(pe,we),J()}),ce=(z(ue),me.startTiming("net"));function ve(pe){var we=ue.options;return Object.assign(pe,we,{browsingTopics:!(we!=null&&we.hasOwnProperty("browsingTopics")&&!we.browsingTopics)&&((pe=_.u.get(m.code,"topicsHeader"))==null||pe)&&(0,h.io)(k.DL,(0,D.s)(U.tW,m.code))})}switch(ue.method){case"GET":A("".concat(ue.url).concat((se=ue.data)?"?".concat(typeof se=="object"?(0,O.bL)(se):se):""),{success:ne,error:de},void 0,ve({method:"GET",withCredentials:!0}));break;case"POST":A(ue.url,{success:ne,error:de},typeof ue.data=="string"?ue.data:JSON.stringify(ue.data),ve({method:"POST",contentType:"text/plain",withCredentials:!0}));break;default:(0,O.JE)("Skipping invalid request from ".concat(m.code,". Request type ").concat(ue.type," must be GET or POST")),J()}})):N()},"processBidderRequests"),w=(0,f.A_)("async",function(m,E,S,A,B){var oe=e.$W.getConfig("userSync.aliasSyncEnabled");!m.getUserSyncs||!oe&&r.Ay.aliasRegistry[m.code]||(oe=m.getUserSyncs({iframeEnabled:I.zt.canBidderRegisterSync("iframe",m.code),pixelEnabled:I.zt.canBidderRegisterSync("image",m.code)},E,S,A,B))&&((oe=Array.isArray(oe)?oe:[oe]).forEach(function(J){I.zt.registerSync(J.type,m.code,J.url)}),I.zt.bidderDone(m.code))},"registerSyncs"),u=(0,f.A_)("sync",function(m,E){},"addPaapiConfig");function p(m,E){var S,A=(2<arguments.length&&arguments[2]!==void 0?arguments[2]:{}).index,A=A===void 0?c.n.index:A;function B(oe){return"Invalid bid from ".concat(E.bidderCode,". Ignoring bid: ").concat(oe)}return m?E?(S=Object.keys(E),M.every(function(oe){return(0,ee.mK)(S,oe)&&!(0,ee.mK)([void 0,null],E[oe])})?E.mediaType!=="native"||(0,x.Bm)(E,{index:A})?E.mediaType!=="video"||(0,L.vk)(E,{index:A})?!(E.mediaType==="banner"&&!function(oe,J,ge){var re,ge=(2<arguments.length&&ge!==void 0?ge:{}).index,ge=ge===void 0?c.n.index:ge;return!J.width&&parseInt(J.width,10)!==0||!J.height&&parseInt(J.height,10)!==0?J.wratio!=null&&J.hratio!=null?(J.wratio=parseInt(J.wratio,10),J.hratio=parseInt(J.hratio,10),1):(re=ge.getBidRequest(J),ge=ge.getMediaTypes(J),re=re&&re.sizes||ge&&ge.banner&&ge.banner.sizes,(ge=(0,O.kK)(re)).length===1?(ge=(re=ge[0].split("x"))[0],re=re[1],J.width=parseInt(ge,10),J.height=parseInt(re,10),1):void 0):(J.width=parseInt(J.width,10),J.height=parseInt(J.height,10),1)}(m,E,{index:A})&&((0,O.vV)(B("Banner bids require a width and height")),1)):((0,O.vV)(B("Video bid does not have required vastUrl or renderer property")),!1):((0,O.vV)(B("Native bid missing some required properties.")),!1):((0,O.vV)(B("Bidder ".concat(E.bidderCode," is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params."))),!1)):((0,O.JE)("Some adapter tried to add an undefined bid for ".concat(m,".")),!1):((0,O.JE)("No adUnitCode was supplied to addBidResponse."),!1)}function T(m){return(0,C.BO)(m.metrics).renameWith(function(E){return["adapter.client.".concat(E),"adapters.client.".concat(m.bidderCode,".").concat(E)]})}},1580:function(s,$,a){a.d($,{R:function(){return g}});var o=a(6811),r=a(3441),e=a(5139),l=a(5901),I=a(1069),x=new WeakMap,L=["debugging","outstream","aaxBlockmeter","adagio","adloox","akamaidap","arcspan","airgrid","browsi","brandmetrics","clean.io","humansecurity","confiant","contxtful","hadron","mediafilter","medianet","azerionedge","a1Media","geoedge","qortex","dynamicAdBoost","51Degrees","symitridap","wurfl","nodalsAi","anonymised","justtag","tncId","ftrackId","id5"];function g(ie,ee,O,f,c,_){if((0,e.io)(o.pY,(0,r.s)(ee,O)))if(O&&ie){var C,h,D;if((0,l.mK)(L,O))return(ee=U(c=c||document,ie))?(f&&typeof f=="function"&&(ee.loaded?f():ee.callbacks.push(f)),ee.tag):(ee=x.get(c)||{},C={loaded:!1,tag:null,callbacks:[]},ee[ie]=C,x.set(c,ee),f&&typeof f=="function"&&C.callbacks.push(f),(0,I.JE)("module ".concat(O," is loading external JavaScript")),ee=ie,h=function(){C.loaded=!0;try{for(var k=0;k<C.callbacks.length;k++)C.callbacks[k]()}catch(M){(0,I.vV)("Error executing callback","adloader.js:loadExternalScript",M)}},f=_,(D=(_=(_=c)||document).createElement("script")).type="text/javascript",D.async=!0,(c=U(_,ie))&&(c.tag=D),D.readyState?D.onreadystatechange=function(){D.readyState!=="loaded"&&D.readyState!=="complete"||(D.onreadystatechange=null,h())}:D.onload=function(){h()},D.src=ee,f&&(0,I.Bg)(D,f),(0,I._s)(D,_),D);(0,I.vV)("".concat(O," not whitelisted for loading external JavaScript"))}else(0,I.vV)("cannot load external script without url and moduleCode");function U(k,M){return k=x.get(k),k&&k[M]?k[M]:null}}},1692:function(s,$,a){a.d($,{Q:function(){return o}});var o=(0,a(9214).A_)("sync",function(){})},8044:function(s,$,a){a.d($,{RD:function(){return ee},g4:function(){return ie},hd:function(){return O}});var o=a(3272),r=a(1069),e={fetch:window.fetch.bind(window),makeRequest:function(f,c){return new Request(f,c)},timeout:function(f,c){var _=new AbortController,C=setTimeout(function(){_.abort(),(0,r.vV)("Request timeout after ".concat(f,"ms"),c),C=null},f);return{signal:_.signal,done:function(){C&&clearTimeout(C)}}}},l="GET",I="POST",x="Content-Type";function L(h,k){var _,C=0<arguments.length&&h!==void 0?h:3e3,h=1<arguments.length&&k!==void 0?k:{},D=h.request,U=h.done,k=function(P,Y){C==null||(Y==null?void 0:Y.signal)!=null||o.$W.getConfig("disableAjaxTimeout")||(X=e.timeout(C,P),Y=Object.assign({signal:X.signal},Y));var X,P=e.fetch(P,Y);return P=(X==null?void 0:X.done)!=null?P.finally(X.done):P};return D==null&&U==null||(_=k,k=function(P,Y){var X=new URL((P==null?void 0:P.url)==null?P:P.url,document.location).origin,P=_(P,Y);return D&&D(X),P=U?P.finally(function(){return U(X)}):P}),k}function g(f,c){var _=f.status,C=f.statusText,h=f.headers,D=0;function U(k){var M,Y;if(D===0)try{D=new DOMParser().parseFromString(c,(Y=(M=h==null?void 0:h.get(x))==null?void 0:M.split(";"))==null?void 0:Y[0])}catch(X){D=null,k&&k(X)}return D}return{readyState:XMLHttpRequest.DONE,status:_,statusText:C===void 0?"":C,responseText:c,response:c,responseType:"",responseURL:f.url,get responseXML(){return U(r.vV)},getResponseHeader:function(k){return h!=null&&h.has(k)?h.get(k):null},toJSON:function(){return Object.assign({responseXML:U()},this)},timedOut:!1}}function ie(){var f=0<arguments.length&&arguments[0]!==void 0?arguments[0]:3e3,c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},_=L(f,{request:c.request,done:c.done});return function(C,h,D){var U,k;C=_(function(M,Y,R){var P=2<arguments.length&&R!==void 0?R:{},R=P.method||(Y?I:l),K=(R===l&&Y&&(K=(0,r.Dl)(M,P),Object.assign(K.search,Y),M=(0,r.c$)(K)),new Headers(P.customHeaders)),Q=(K.set(x,P.contentType||"text/plain"),{method:R,headers:K});return R!==l&&Y&&(Q.body=Y),P.withCredentials&&(Q.credentials="include"),isSecureContext&&["browsingTopics","adAuctionHeaders"].forEach(function(w){P[w]&&(Q[w]=!0)}),P.keepalive&&(Q.keepalive=!0),e.makeRequest(M,Q)}(C,D,3<arguments.length&&arguments[3]!==void 0?arguments[3]:{})),U=(D=typeof h=="object"&&h!=null?h:{success:typeof h=="function"?h:function(){return null},error:function(M,Y){return(0,r.vV)("Network error",M,Y)}}).success,k=D.error,C.then(function(M){return M.text().then(function(Y){return[M,Y]})}).then(function(X){var Y=X[0],X=X[1],P=g(Y,X);Y.ok||Y.status===304?U(X,P):k(Y.statusText,P)},function(M){return k("",Object.assign(g({status:0},""),{reason:M,timedOut:(M==null?void 0:M.name)==="AbortError"}))})}}var ee=ie(),O=L()},1657:function(s,L,a){a.d(L,{AA:function(){return K},HN:function(){return ue},UZ:function(){return Q},ZV:function(){return W},mO:function(){return ge},mX:function(){return E},sR:function(){return S},v8:function(){return J}});var o=a(1069),r=a(6833),e=a(2449),l=a(8693),I=a(5789),x=a(3272),L=a(8230),g=a(9214),ie=a(5901),ee=a(3895),O=a(1371),f=a(7314),c=a(2693),_=a(5023),C=a(1445),h=a(8969),D=a(5555),U=a(6894),k=a(7176),M=a(7873),Y=a(6853),X=a(7863),P=L.zt.syncUsers,R="started",K="inProgress",Q="completed",w=(_.on(h.qY.BID_ADJUSTMENT,function(se){var ne;se=se,0<=(ne=(0,k.y)(se.cpm,se))&&(se.cpm=ne)}),4),u={},p={},T=[],m=(0,M.m)();function E(se){var ne,de,ce,ve,pe=se.adUnits,we=se.adUnitCodes,te=se.callback,H=se.cbTimeout,ye=se.labels,Ce=se.auctionId,Se=se.ortb2Fragments,De=se.metrics,De=(0,U.BO)(De),_e=pe,Pe=ye,Ne=we,We=Ce||(0,o.lk)(),Ue=H,xe=new Set,Me=(0,D.v6)(),ke=(0,D.v6)(),Qe=[],He=te,et=[],st=(0,Y.H)({startTime:function(qe){return qe.responseTimestamp},ttl:function(qe){return(0,X.S9)()==null?null:1e3*Math.max((0,X.S9)(),qe.ttl)}}),lt=[],it=[],dt=[];function Be(){return{auctionId:We,timestamp:ne,auctionEnd:de,auctionStatus:ve,adUnits:_e,adUnitCodes:Ne,labels:Pe,bidderRequests:et,noBids:lt,bidsReceived:st.toArray(),bidsRejected:Qe,winningBids:it,timeout:Ue,metrics:De,seatNonBids:dt}}function Ge(qe){var ze;qe?_.Ic(h.qY.AUCTION_TIMEOUT,Be()):clearTimeout(ce),de===void 0&&(ze=[],qe&&((0,o.OG)("Auction ".concat(We," timedOut")),(ze=et.filter(function(Ye){return!xe.has(Ye.bidderRequestId)}).flatMap(function(Ye){return Ye.bids})).length)&&_.Ic(h.qY.BID_TIMEOUT,ze),ve=Q,de=Date.now(),De.checkpoint("auctionEnd"),De.timeBetween("requestBids","auctionEnd","requestBids.total"),De.timeBetween("callBids","auctionEnd","requestBids.callBids"),Me.resolve(),_.Ic(h.qY.AUCTION_END,Be()),oe(_e,function(){try{He!=null&&(Ye=st.toArray().filter(function(Ze){return Ne.includes(Ze.adUnitCode)}).reduce(Oe,{}),He.apply(m,[Ye,qe,We]),He=null)}catch(Ze){(0,o.vV)("Error executing bidsBackHandler",null,Ze)}finally{ze.length&&C.Ay.callTimedOutBidders(pe,ze,Ue);var Ye=x.$W.getConfig("userSync")||{};Ye.enableOverride||P(Ye.syncDelay)}}))}function $e(){x.$W.resetBidder(),(0,o.fH)("Bids Received for Auction with id: ".concat(We),st.toArray()),ve=Q,Ge(!1)}function Je(qe){xe.add(qe)}function Ke(qe){var ze=this,Ye=(qe.forEach(function(nt){et=et.concat(nt)}),{}),Ze={bidRequests:qe,run:function(){ce=setTimeout(function(){return Ge(!0)},Ue),ve=K,_.Ic(h.qY.AUCTION_INIT,Be());var nt=function(at,pt,yt){var yt=(2<arguments.length&&yt!==void 0?yt:{}).index,It=yt===void 0?f.n.index:yt,Ot=0,kt=!1,Ut=new Set,Nt={};function Pt(){Ot--,kt&&Ot===0&&at()}function un(Ct,At,wt){return Nt[At.requestId]=!0,function(mt,gt,ft){var ft=(2<arguments.length&&ft!==void 0?ft:{}).index,ft=ft===void 0?f.n.index:ft,Re=ft.getBidderRequest(mt),ft=ft.getAdUnit(mt),Re=Re&&Re.start||mt.requestTimestamp;Object.assign(mt,{responseTimestamp:mt.responseTimestamp||(0,o.vE)(),requestTimestamp:mt.requestTimestamp||Re,cpm:parseFloat(mt.cpm)||0,bidder:mt.bidder||mt.bidderCode,adUnitCode:gt}),(ft==null?void 0:ft.ttlBuffer)!=null&&(mt.ttlBuffer=ft.ttlBuffer),mt.timeToRespond=mt.responseTimestamp-mt.requestTimestamp}(At,Ct),Ot++,wt(Pt)}function In(Ct,At){un(Ct,At,function(wt){var mt=function(gt,ft){var ft=(1<arguments.length&&ft!==void 0?ft:{}).index,ft=ft===void 0?f.n.index:ft,Le=(_.Ic(h.qY.BID_ADJUSTMENT,gt),((Le=ft.getBidRequest(gt))==null?void 0:Le.renderer)||ft.getAdUnit(gt).renderer),je=gt.mediaType,ft=ft.getMediaTypes(gt),je=ft&&ft[je],je=je&&je.renderer,Re=null,Le=(!je||!je.render||je.backupOnly===!0&&gt.renderer?!Le||!Le.render||Le.backupOnly===!0&&gt.renderer||(Re=Le):Re=je,Re&&(gt.renderer=I.A4.install({url:Re.url,config:Re.options,renderNow:Re.url==null}),gt.renderer.setRender(Re.render)),re(gt.mediaType,ft,x.$W.getConfig("mediaTypePriceGranularity"))),je=(0,r.j)(gt.cpm,typeof Le=="object"?Le:x.$W.getConfig("customPriceBucket"),x.$W.getConfig("currency.granularityMultiplier"));return gt.pbLg=je.low,gt.pbMg=je.med,gt.pbHg=je.high,gt.pbAg=je.auto,gt.pbDg=je.dense,gt.pbCg=je.custom,gt}(At);_.Ic(h.qY.BID_ACCEPTED,mt),mt.mediaType===O.G_?function(gt,Rt,ft,je){var je=(3<arguments.length&&je!==void 0?je:{}).index,Le=!0,je=(je=(je===void 0?f.n.index:je).getMediaTypes({requestId:Rt.originalRequestId||Rt.requestId,adUnitId:Rt.adUnitId}))==null?void 0:je.video,Xe=je&&(je==null?void 0:je.context),ot=je&&(je==null?void 0:je.useCacheKey),Et=x.$W.getConfig("cache")||{},ct=Et.useLocal,vt=Et.url,Et=Et.ignoreBidderCacheKey;ct?(0,l.Sb)(Rt):vt&&(ot||Xe!==ee.H6)&&(!Rt.videoCacheKey||Et?(Le=!1,z(gt,Rt,ft,je)):Rt.vastUrl||((0,o.vV)("videoCacheKey specified but not required vastUrl for video bid"),Le=!1)),Le&&(J(gt,Rt),ft())}(pt,mt,wt):((0,e.l6)(mt)&&(0,e.gs)(mt,It.getAdUnit(mt)),J(pt,mt),wt())})}function Lt(Ct,At,wt){return un(Ct,At,function(mt){At.rejectionReason=wt,(0,o.JE)("Bid from ".concat(At.bidder||"unknown bidder"," was rejected: ").concat(wt),At),_.Ic(h.qY.BID_REJECTED,At),pt.addBidRejected(At),mt()})}return{addBidResponse:(ln.reject=Lt,ln),adapterDone:function(){var Ct=this;A(D.U9.resolve()).finally(function(){return(function(){var At,wt=pt.getBidRequests(),mt=x.$W.getConfig("auctionOptions");Ut.add(this),mt&&!(0,o.Im)(mt)&&(At=mt.secondaryBidders)&&!wt.every(function(gt){return(0,ie.mK)(At,gt.bidderCode)})&&(wt=wt.filter(function(gt){return!(0,ie.mK)(At,gt.bidderCode)})),kt=wt.every(function(gt){return Ut.has(gt)}),this.bids.forEach(function(gt){Nt[gt.bidId]||(pt.addNoBid(gt),_.Ic(h.qY.NO_BID,gt))}),kt&&Ot===0&&at()}).call(Ct)})}};function ln(Ct,At){var wt;S.call({dispatch:In},Ct,At,(wt=!1,function(mt){wt||(Lt(Ct,At,mt),wt=!0)}))}}($e,ze);C.Ay.callBids(_e,qe,nt.addBidResponse,nt.adapterDone,{request:function(at,pt){tt(u,pt),tt(Ye,at),p[at]||(p[at]={SRA:!0,origin:pt}),1<Ye[at]&&(p[at].SRA=!1)},done:function(at){u[at]--,T[0]&&rt(T[0])&&T.shift()}},Ue,Je,Se),ke.resolve()}};function rt(nt){var at=!0,pt=x.$W.getConfig("maxRequestsPerOrigin")||w;return nt.bidRequests.some(function(ht){var yt=1,It=ht.src!==void 0&&ht.src===h.RW.SRC?"s2s":ht.bidderCode;return!(at=p[It]&&(p[It].SRA===!1&&(yt=Math.min(ht.bids.length,pt)),u[p[It].origin]+yt>pt)?!1:at)}),at&&nt.run(),at}function tt(nt,at){nt[at]===void 0?nt[at]=1:nt[at]++}rt(Ze)||((0,o.JE)("queueing auction due to limited endpoint capacity"),T.push(Ze))}return(0,X.lc)(function(){return st.refresh()}),_.on(h.qY.SEAT_NON_BID,function(qe){qe.auctionId===We&&(qe=qe.seatnonbid,dt=dt.concat(qe))}),{addBidReceived:function(qe){st.add(qe)},addBidRejected:function(qe){Qe=Qe.concat(qe)},addNoBid:function(qe){lt=lt.concat(qe)},callBids:function(){ve=R,ne=Date.now();var qe=De.measureTime("requestBids.makeRequests",function(){return C.Ay.makeBidRequests(_e,ne,We,Ue,Pe,Se,De)});(0,o.fH)("Bids Requested for Auction with id: ".concat(We),qe),De.checkpoint("callBids"),qe.length<1?((0,o.JE)("No valid bid requests returned for auction"),$e()):B.call({dispatch:Ke,context:this},qe)},addWinningBid:function(qe){it=it.concat(qe),C.Ay.callBidWonBidder(qe.adapterCode||qe.bidder,qe,pe),qe.deferBilling||C.Ay.triggerBilling(qe)},setBidTargeting:function(qe){C.Ay.callSetTargetingBidder(qe.adapterCode||qe.bidder,qe)},getWinningBids:function(){return it},getAuctionStart:function(){return ne},getAuctionEnd:function(){return de},getTimeout:function(){return Ue},getAuctionId:function(){return We},getAuctionStatus:function(){return ve},getAdUnits:function(){return _e},getAdUnitCodes:function(){return Ne},getBidRequests:function(){return et},getBidsReceived:function(){return st.toArray()},getNoBids:function(){return lt},getNonBids:function(){return dt},getFPD:function(){return Se},getMetrics:function(){return De},end:Me.promise,requestsDone:ke.promise,getProperties:Be}}var S=(0,g.A_)("sync",function(se,ne,de){var ce,ve;ce=ne,!(ve=x.$W.getConfig("maxBid"))||!ce.cpm||ve>=Number(ce.cpm)?this.dispatch.call(null,se,ne):de(h.Tf.PRICE_TOO_HIGH)},"addBidResponse"),A=(0,g.A_)("sync",function(se){return se},"responsesReady"),B=(0,g.A_)("sync",function(se){this.dispatch.call(this.context,se)},"addBidderRequests"),oe=(0,g.A_)("async",function(se,ne){ne&&ne()},"bidsBackCallback");function J(se,ne){var de,ce,ve;de=ne,ve=c.u.get(de.bidderCode,"allowZeroCpmBids")===!0?0<=de.cpm:0<de.cpm,de.bidderCode&&(ve||de.dealId)&&(ce=function(pe,we,ye){var H,ye=(2<arguments.length&&ye!==void 0?ye:{}).index,ye=ye===void 0?f.n.index:ye;return we?(ye=ye.getBidRequest(we),me(H={},ue(we.mediaType,pe),we,ye),pe&&c.u.getOwn(pe,h.iD.ADSERVER_TARGETING)&&(me(H,c.u.ownSettingsFor(pe),we,ye),we.sendStandardTargeting=c.u.get(pe,"sendStandardTargeting")),we.native?Object.assign({},H,(0,e.Zj)(we)):H):{}}(de.bidderCode,de)),de.adserverTargeting=Object.assign(de.adserverTargeting||{},ce),(0,U.BO)(ne.metrics).timeSince("addBidResponse","addBidResponse.total"),se.addBidReceived(ne),_.Ic(h.qY.BID_RESPONSE,ne)}var z=(0,g.A_)("async",function(se,ne,de,ce){(0,l.X5)(se,ne,de)},"callPrebidCache");function re(se,ne,de){if(se&&de)return se===O.G_&&(ne=(ne=(ne=ne==null?void 0:ne[O.G_])==null?void 0:ne.context)!=null?ne:"instream",de["".concat(O.G_,"-").concat(ne)])?de["".concat(O.G_,"-").concat(ne)]:de[se]}var ge=function(se){var ne=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).index,ne=ne===void 0?f.n.index:ne,ne=re(se.mediaType,ne.getMediaTypes(se),x.$W.getConfig("mediaTypePriceGranularity"));return typeof se.mediaType=="string"&&ne?typeof ne=="string"?ne:"custom":x.$W.getConfig("priceGranularity")},W=function(se){return function(ne){var de=se||ge(ne);return de===h.UE.AUTO?ne.pbAg:de===h.UE.DENSE?ne.pbDg:de===h.UE.LOW?ne.pbLg:de===h.UE.MEDIUM?ne.pbMg:de===h.UE.HIGH?ne.pbHg:de===h.UE.CUSTOM?ne.pbCg:void 0}},Z=function(){return function(se){return se.creativeId||""}},j=function(){return function(se){return se.meta&&se.meta.advertiserDomains&&0<se.meta.advertiserDomains.length?[se.meta.advertiserDomains].flat()[0]:""}},N=function(){return function(se){var ne;return se.meta&&(se.meta.networkId||se.meta.networkName)?((ne=se==null?void 0:se.meta)==null?void 0:ne.networkName)||((ne=se==null?void 0:se.meta)==null?void 0:ne.networkId):""}},q=function(){return function(se){return se.meta&&se.meta.primaryCatId?se.meta.primaryCatId:""}};function he(se,ne){return{key:se,val:typeof ne=="function"?function(de,ce){return ne(de,ce)}:function(de){return de[ne]}}}function ue(se,ne){var de,ce,ve=Object.assign({},c.u.settingsFor(null));return ve[h.iD.ADSERVER_TARGETING]||(ve[h.iD.ADSERVER_TARGETING]=[he(h.xS.BIDDER,"bidderCode"),he(h.xS.AD_ID,"adId"),he(h.xS.PRICE_BUCKET,W()),he(h.xS.SIZE,"size"),he(h.xS.DEAL,"dealId"),he(h.xS.SOURCE,"source"),he(h.xS.FORMAT,"mediaType"),he(h.xS.ADOMAIN,j()),he(h.xS.ACAT,q()),he(h.xS.DSP,N()),he(h.xS.CRID,Z())]),se==="video"&&(de=ve[h.iD.ADSERVER_TARGETING].slice(),ve[h.iD.ADSERVER_TARGETING]=de,[h.xS.UUID,h.xS.CACHE_ID].forEach(function(pe){(0,ie.I6)(de,function(we){return we.key===pe})===void 0&&de.push(he(pe,"videoCacheKey"))}),!x.$W.getConfig("cache.url")||ne&&c.u.get(ne,"sendStandardTargeting")===!1||(ce=(0,o.Dl)(x.$W.getConfig("cache.url")),(0,ie.I6)(de,function(pe){return pe.key===h.xS.CACHE_HOST})===void 0&&de.push(he(h.xS.CACHE_HOST,function(pe){return((pe=pe==null?void 0:pe.adserverTargeting)==null?void 0:pe[h.xS.CACHE_HOST])||ce.hostname})))),ve}function me(se,ne,de,ce){var ve=ne[h.iD.ADSERVER_TARGETING];de.size=de.getSize(),(ve||[]).forEach(function(te){var we=te.key,te=te.val;if(se[we]&&(0,o.JE)("The key: "+we+" is being overwritten"),(0,o.fp)(te))try{te=te(de,ce)}catch(H){(0,o.vV)("bidmanager","ERROR",H)}(ne.suppressEmptyKeys===void 0||ne.suppressEmptyKeys!==!0)&&we!==h.xS.DEAL&&we!==h.xS.ACAT&&we!==h.xS.DSP&&we!==h.xS.CRID||!(0,o.xQ)(te)&&te!=null?se[we]=te:(0,o.fH)("suppressing empty key '"+we+"' from adserver targeting")})}function Oe(se,ne){return se[ne.adUnitCode]||(se[ne.adUnitCode]={bids:[]}),se[ne.adUnitCode].bids.push(ne),se}},7314:function(s,g,a){a.d(g,{n:function(){return ee}});var o=a(1069),r=a(1657);function e(c){Object.assign(this,{getAuction:function(_){var C=_.auctionId;if(C!=null)return c().find(function(h){return h.getAuctionId()===C})},getAdUnit:function(_){var C=_.adUnitId;if(C!=null)return c().flatMap(function(h){return h.getAdUnits()}).find(function(h){return h.adUnitId===C})},getMediaTypes:function(h){var C=h.adUnitId,h=h.requestId;if(h!=null){if(h=this.getBidRequest({requestId:h}),h!=null&&(C==null||h.adUnitId===C))return h.mediaTypes}else if(C!=null&&(h=this.getAdUnit({adUnitId:C}),h!=null))return h.mediaTypes},getBidderRequest:function(_){var C=_.requestId,h=_.bidderRequestId;if(C!=null||h!=null)return _=c().flatMap(function(D){return D.getBidRequests()}),h!=null&&(_=_.filter(function(D){return D.bidderRequestId===h})),C==null?_[0]:_.find(function(D){return D.bids&&D.bids.find(function(U){return U.bidId===C})!=null})},getBidRequest:function(_){var C=_.requestId;if(C!=null)return c().flatMap(function(h){return h.getBidRequests()}).flatMap(function(h){return h.bids}).find(function(h){return h&&h.bidId===C})},getOrtb2:function(_){var C;return((C=this.getBidderRequest(_))==null?void 0:C.ortb2)||((C=(_=(C=this.getAuction(_))==null?void 0:C.getFPD())==null?void 0:_.global)==null?void 0:C.ortb2)}})}var l,I,x=a(8969),L=a(6894),g=a(6853),ie=a(7863),ee=(l=(0,g.H)({startTime:function(c){return c.end.then(function(){return c.getAuctionEnd()})},ttl:function(c){return(0,ie.S9)()==null?null:c.end.then(function(){return 1e3*Math.max.apply(Math,be([(0,ie.S9)()],c.getBidsReceived().map(function(_){return _.ttl}),!1))})}}),(0,ie.lc)(function(){return l.refresh()}),(I={onExpiry:l.onExpiry}).addWinningBid=function(c){var _=(0,L.BO)(c.metrics),_=(_.checkpoint("bidWon"),_.timeBetween("auctionEnd","bidWon","adserver.pending"),_.timeBetween("requestBids","bidWon","adserver.e2e"),O(c.auctionId));_?_.addWinningBid(c):(0,o.JE)("Auction not found when adding winning bid")},Object.entries({getAllWinningBids:{name:"getWinningBids"},getBidsRequested:{name:"getBidRequests"},getNoBids:{},getAdUnits:{},getBidsReceived:{pre:function(c){return c.getAuctionStatus()===r.UZ}},getAdUnitCodes:{post:o.hj}}).forEach(function(C){var _=C[0],C=C[1],h=C.name,D=h===void 0?_:h,U=C.pre,k=C.post,M=U==null?function(X){return X[D]()}:function(X){return U(X)?X[D]():[]},Y=k==null?function(X){return X}:function(X){return X.filter(k)};I[_]=function(){return Y(l.toArray().flatMap(M))}}),I.getAllBidsForAdUnitCode=function(c){return f().filter(function(_){return _&&_.adUnitCode===c})},I.createAuction=function(c){return c=(0,r.mX)(c),l.add(c),c},I.findBidByAdId=function(c){return f().find(function(_){return _.adId===c})},I.getStandardBidderAdServerTargeting=function(){return(0,r.HN)()[x.iD.ADSERVER_TARGETING]},I.setStatusForBids=function(c,_){c=I.findBidByAdId(c),c&&(c.status=_),c&&_===x.tl.BID_TARGETING_SET&&(_=O(c.auctionId))&&_.setBidTargeting(c)},I.getLastAuctionId=function(){var c=l.toArray();return c.length&&c[c.length-1].getAuctionId()},I.clearAllAuctions=function(){l.clear()},I.index=new e(function(){return l.toArray()}),I);function O(c){for(var _=0,C=l;_<C.length;_++){var h=C[_];if(h.getAuctionId()===c)return h}}function f(){return l.toArray().flatMap(function(c){return c.getBidsReceived()})}},7863:function(s,o,a){a.d(o,{S9:function(){return g},cT:function(){return L},lc:function(){return ie}});var o=a(3272),r=a(1069),e="minBidCacheTTL",l=1,I=null,x=[];function L(ee){return ee.ttl-(ee.hasOwnProperty("ttlBuffer")?ee.ttlBuffer:l)}function g(){return I}function ie(ee){x.push(ee)}o.$W.getConfig("ttlBuffer",function(ee){typeof ee.ttlBuffer=="number"?l=ee.ttlBuffer:(0,r.vV)("Invalid value for ttlBuffer",ee.ttlBuffer)}),o.$W.getConfig(e,function(ee){I!==(I=typeof(I=ee==null?void 0:ee[e])=="number"?I:null)&&x.forEach(function(O){return O(I)})})},2693:function(s,x,a){a.d(x,{u:function(){return L}});var o,r,e=a(433),l=a(1069),I=a(7873),x=a(8969),L=(g.prototype.get=function(ie,ee){return ie=this.getOwn(ie,ee),ie=ie===void 0?this.getOwn(null,ee):ie},g.prototype.getOwn=function(ie,ee){return ie=Te(this,o,"m",r).call(this,ie),(0,e.A)(this.getSettings(),"".concat(ie,".").concat(ee))},g.prototype.getScopes=function(){var ie=this;return Object.keys(this.getSettings()).filter(function(ee){return ee!==ie.defaultScope})},g.prototype.settingsFor=function(ie){return(0,l.D9)({},this.ownSettingsFor(null),this.ownSettingsFor(ie))},g.prototype.ownSettingsFor=function(ie){return ie=Te(this,o,"m",r).call(this,ie),this.getSettings()[ie]||{}},a=g,o=new WeakSet,r=function(ie){return ie==null?this.defaultScope:ie},new a(function(){return(0,I.m)().bidderSettings||{}},x.iD.BD_SETTING_STANDARD));function g(ie,ee){o.add(this),this.getSettings=ie,this.defaultScope=ee}},3597:function(s,$,a){a.d($,{O:function(){return e}});var o=a(1069);function r(l){var ie=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},ee=ie.src,I=ie.bidder,x=ie.bidId,L=ie.transactionId,g=ie.adUnitId,ie=ie.auctionId,ee=ee===void 0?"client":ee,O=l||0;Object.assign(this,{bidderCode:I===void 0?"":I,width:0,height:0,statusMessage:(()=>{switch(O){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}})(),adId:(0,o.s0)(),requestId:x,transactionId:L,adUnitId:g,auctionId:ie,mediaType:"banner",source:ee}),this.getStatusCode=function(){return O},this.getSize=function(){return this.width+"x"+this.height},this.getIdentifiers=function(){return{src:this.source,bidder:this.bidderCode,bidId:this.requestId,transactionId:this.transactionId,adUnitId:this.adUnitId,auctionId:this.auctionId}}}function e(l,I){return new r(l,I)}},3272:function(s,I,a){a.d(I,{$W:function(){return M},Ov:function(){return g}});var o=a(6833),r=a(5901),e=a(1069),l=a(433),I=a(8969),x=(0,e.Ez)(I.M).toUpperCase()==="TRUE",L={},g="random",ie={},ee=(ie[g]=!0,ie.fixed=!0,g),O={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"};function f(u,p){var T=1<arguments.length&&p!==void 0&&!p?{}:{priceGranularity:O.MEDIUM,customPriceBucket:{},mediaTypePriceGranularity:{},bidderSequence:ee,auctionOptions:{}};function m(B){return T[B]}function E(B,oe){T.hasOwnProperty(B)||Object.defineProperty(u,B,{enumerable:!0}),T[B]=oe}return Object.defineProperties(u,Object.fromEntries(Object.entries({publisherDomain:{set:function(B){B!=null&&(0,e.JE)("publisherDomain is deprecated and has no effect since v7 - use pageUrl instead"),E("publisherDomain",B)}},priceGranularity:{set:function(B){A(B)&&(typeof B=="string"?E("priceGranularity",S(B)?B:O.MEDIUM):(0,e.Qd)(B)&&(E("customPriceBucket",B),E("priceGranularity",O.CUSTOM),(0,e.OG)("Using custom price granularity")))}},customPriceBucket:{},mediaTypePriceGranularity:{set:function(B){B!=null&&E("mediaTypePriceGranularity",Object.keys(B).reduce(function(oe,J){return A(B[J])?typeof B=="string"?oe[J]=S(B[J])?B[J]:T.priceGranularity:(0,e.Qd)(B)&&(oe[J]=B[J],(0,e.OG)("Using custom price granularity for ".concat(J))):(0,e.JE)("Invalid price granularity for media type: ".concat(J)),oe},{}))}},bidderSequence:{set:function(B){ie[B]?E("bidderSequence",B):(0,e.JE)("Invalid order: ".concat(B,". Bidder Sequence was not set."))}},auctionOptions:{set:function(B){(oe=>{if(!(0,e.Qd)(oe))return(0,e.JE)("Auction Options must be an object"),0;for(var J=0,z=Object.keys(oe);J<z.length;J++){var re=z[J];if(re!=="secondaryBidders"&&re!=="suppressStaleRender"&&re!=="suppressExpiredRender")return(0,e.JE)("Auction Options given an incorrect param: ".concat(re)),0;if(re==="secondaryBidders"){if(!(0,e.cy)(oe[re]))return(0,e.JE)("Auction Options ".concat(re," must be of type Array")),0;if(!oe[re].every(e.O8))return(0,e.JE)("Auction Options ".concat(re," must be only string")),0}else if((re==="suppressStaleRender"||re==="suppressExpiredRender")&&!(0,e.Lm)(oe[re]))return(0,e.JE)("Auction Options ".concat(re," must be of type boolean")),0}return 1})(B)&&E("auctionOptions",B)}}}).map(function(J){var oe=J[0],J=J[1];return[oe,Object.assign({get:m.bind(null,oe),set:E.bind(null,oe),enumerable:T.hasOwnProperty(oe),configurable:!T.hasOwnProperty(oe)},J)]}))),u;function S(B){return(0,r.I6)(Object.keys(O),function(oe){return B===O[oe]})}function A(B){if(!B)return(0,e.vV)("Prebid Error: no value passed to `setPriceGranularity()`"),0;if(typeof B=="string")S(B)||(0,e.JE)("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if((0,e.Qd)(B)&&!(0,o.q)(B))return(0,e.vV)("Invalid custom price value passed to `setPriceGranularity()`"),0;return 1}}h=[],D=null,a=[X,function(){var u=X();return Object.defineProperty(u,"ortb2",{get:function(){throw new Error("invalid access to 'orbt2' config - use request parameters instead")}}),u}].map(function(u){return function(){var p;return arguments.length<=1&&typeof(arguments.length<=0?void 0:arguments[0])!="function"?(p=arguments.length<=0?void 0:arguments[0])?(0,l.A)(u(),p):X():(function(T,m){var E,S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},A=m;if(typeof T!="string"&&(A=T,T="*",S=m||{}),typeof A=="function")return E={topic:T,callback:A},h.push(E),S.init&&A(T==="*"?U():((m={})[T]=U(T),m)),function(){h.splice(h.indexOf(E),1)};(0,e.vV)("listener must be a function")}).apply(void 0,arguments)}}),I=a[0],a=[U=a[1],I].map(function(u){return function(){var p=u.apply(void 0,arguments);return p=p&&typeof p=="object"?(0,e.Go)(p):p}}),k=a[0],a=a[1],Y();var c,_,C,h,D,U,k,M={getCurrentBidder:function(){return D},resetBidder:w,getConfig:U,getAnyConfig:I,readConfig:k,readAnyConfig:a,setConfig:P,mergeConfig:function(u){if((0,e.Qd)(u))return u=(0,e.D9)(X(),u),P(F({},u)),u;(0,e.vV)("mergeConfig input must be an object")},setDefaults:function(u){(0,e.Qd)(c)?(Object.assign(c,u),Object.assign(_,u)):(0,e.vV)("defaults must be an object")},resetConfig:Y,runWithBidder:Q,callbackWithBidder:function(u){return function(p){return function(){if(typeof p=="function"){for(var T=arguments.length,m=new Array(T),E=0;E<T;E++)m[E]=arguments[E];return Q(u,p.bind.apply(p,be([this],m,!1)))}(0,e.JE)("config.callbackWithBidder callback is not a function")}}},setBidderConfig:K,getBidderConfig:function(){return C},mergeBidderConfig:function(u){return K(u,!0)}};function Y(){var u=f({debug:x,bidderTimeout:3e3,enableSendAllBids:!0,useBidCache:!(c={}),deviceAccess:!0,disableAjaxTimeout:!1,maxNestedIframes:10,maxBid:5e3,userSync:{topics:L}});_&&R(Object.keys(_).reduce(function(p,T){return _[T]!==u[T]&&(p[T]=u[T]||{}),p},{})),_=u,C={}}function X(){var u,p;return D&&C&&(0,e.Qd)(C[D])?(u=C[D],p=new Set(Object.keys(_).concat(Object.keys(u))),(0,r.A6)(p).reduce(function(T,m){return u[m]===void 0?T[m]=_[m]:_[m]!==void 0&&(0,e.Qd)(u[m])?T[m]=(0,e.D9)({},_[m],u[m]):T[m]=u[m],T},{})):Object.assign({},_)}function P(u){var p,T;(0,e.Qd)(u)?(p=Object.keys(u),T={},p.forEach(function(m){var E=u[m];(0,e.Qd)(c[m])&&(0,e.Qd)(E)&&(E=Object.assign({},c[m],E));try{T[m]=_[m]=E}catch(S){(0,e.JE)("Cannot set config for property ".concat(m," : "),S)}}),R(T)):(0,e.vV)("setConfig options must be an object")}function R(u){var p=Object.keys(u);h.filter(function(T){return(0,r.mK)(p,T.topic)}).forEach(function(T){var m;T.callback(((m={})[T.topic]=u[T.topic],m))}),h.filter(function(T){return T.topic==="*"}).forEach(function(T){return T.callback(u)})}function K(u){var p=1<arguments.length&&arguments[1]!==void 0&&arguments[1];try{var T=u;if(!(0,e.Qd)(T))throw"setBidderConfig bidder options must be an object";if(!Array.isArray(T.bidders)||!T.bidders.length)throw"setBidderConfig bidder options must contain a bidders list with at least 1 bidder";if(!(0,e.Qd)(T.config))throw"setBidderConfig bidder options must contain a config object";u.bidders.forEach(function(m){C[m]||(C[m]=f({},!1)),Object.keys(u.config).forEach(function(E){var S,A=u.config[E],B=C[m][E];(0,e.Qd)(A)&&(B==null||(0,e.Qd)(B))?(S=p?e.D9:Object.assign,C[m][E]=S({},B||{},A)):C[m][E]=A})})}catch(m){(0,e.vV)(m)}}function Q(u,p){D=u;try{return p()}finally{w()}}function w(){D=null}},6916:function(s,I,a){a.d(I,{B1:function(){return l},SL:function(){return T},ad:function(){return P},mW:function(){return Y},o2:function(){return R},t6:function(){return X}});var o=a(1069),r=a(5555),e=a(3272),l=Object.freeze({}),I=(x.prototype.reset=function(){fe(this,C,(0,r.v6)(),"f"),fe(this,c,!1,"f"),fe(this,_,null,"f"),fe(this,h,!1,"f"),this.generatedTime=null},x.prototype.enable=function(){fe(this,c,!0,"f")},Object.defineProperty(x.prototype,"enabled",{get:function(){return Te(this,c,"f")},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"ready",{get:function(){return Te(this,h,"f")},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"promise",{get:function(){return Te(this,h,"f")?r.U9.resolve(Te(this,_,"f")):(Te(this,c,"f")||Te(this,k,"m",M).call(this,null),Te(this,C,"f").promise)},enumerable:!1,configurable:!0}),x.prototype.setConsentData=function(m){var E=1<arguments.length&&arguments[1]!==void 0?arguments[1]:(0,o.vE)();this.generatedTime=E,fe(this,D,!0,"f"),Te(this,k,"m",M).call(this,m)},x.prototype.getConsentData=function(){return Te(this,_,"f")},Object.defineProperty(x.prototype,"hash",{get:function(){var m=this;return Te(this,D,"f")&&(fe(this,U,(0,o.PB)(JSON.stringify(Te(this,_,"f")&&this.hashFields?this.hashFields.map(function(E){return Te(m,_,"f")[E]}):Te(this,_,"f"))),"f"),fe(this,D,!1,"f")),Te(this,U,"f")},enumerable:!1,configurable:!0}),x);function x(){k.add(this),c.set(this,void 0),_.set(this,void 0),C.set(this,void 0),h.set(this,void 0),D.set(this,!0),U.set(this,void 0),this.reset()}var L,g,ie,ee,O,f,c=new WeakMap,_=new WeakMap,C=new WeakMap,h=new WeakMap,D=new WeakMap,U=new WeakMap,k=new WeakSet,M=function(m){fe(this,h,!0,"f"),fe(this,_,m,"f"),Te(this,C,"f").resolve(m)},Y=(Ie(p,f=I),p.prototype.getConsentMeta=function(){var m=this.getConsentData();if(m&&m.vendorData&&this.generatedTime)return{gdprApplies:m.gdprApplies,consentStringSize:(0,o.O8)(m.vendorData.tcString)?m.vendorData.tcString.length:0,generatedAt:this.generatedTime,apiVersion:m.apiVersion}},new p),X=(Ie(u,O=I),u.prototype.getConsentMeta=function(){if(this.getConsentData()&&this.generatedTime)return{generatedAt:this.generatedTime}},new u),P=(Ie(w,ee=I),w.prototype.getConsentMeta=function(){if(this.getConsentData()&&this.generatedTime)return{generatedAt:this.generatedTime}},new w),R=(L={},g={},ie={},{register:function(m,E,S){S&&((L[E]=L[E]||{})[m]=S,g.hasOwnProperty(E)?g[E]!==S&&(g[E]=ie):g[E]=S)},get:function(m){var E={modules:L[m]||{}};return g.hasOwnProperty(m)&&g[m]!==ie&&(E.gvlid=g[m]),E}}),K={gdpr:Y,usp:X,gpp:P,coppa:{getCoppa:Q,getConsentData:Q,getConsentMeta:Q,reset:function(){},get promise(){return r.U9.resolve(Q())},get hash(){return Q()?"1":"0"}}};function Q(){return!!e.$W.getConfig("coppa")}function w(){var m=ee!==null&&ee.apply(this,arguments)||this;return m.hashFields=["applicableSections","gppString"],m}function u(){return O!==null&&O.apply(this,arguments)||this}function p(){var m=f!==null&&f.apply(this,arguments)||this;return m.hashFields=["gdprApplies","consentString"],m}var T=function(m){var E=0<arguments.length&&m!==void 0?m:K,E=Object.entries(E);return Object.assign({get promise(){return r.U9.all(E.map(function(S){var A=S[0];return S[1].promise.then(function(B){return[A,B]})})).then(function(S){return Object.fromEntries(S)})},get hash(){return(0,o.PB)(E.map(function(S){return S[0],S[1].hash}).join(":"))}},Object.fromEntries(["getConsentData","getConsentMeta","reset"].map(function(S){return[S,(A=S,function(){return Object.fromEntries(E.map(function(B){return[B[0],B[1][A]()]}))})];var A})))}()},8969:function(s,$,a){a.d($,{IY:function(){return k},M:function(){return r},RW:function(){return O},Tf:function(){return c},UE:function(){return L},XQ:function(){return e},Zh:function(){return ie},_B:function(){return D},as:function(){return I},cA:function(){return x},h0:function(){return _},iD:function(){return o},jO:function(){return C},nl:function(){return U},oA:function(){return h},qY:function(){return l},tl:function(){return f},x5:function(){return ee},xS:function(){return g}});var o={PL_CODE:"code",PL_SIZE:"sizes",PL_BIDS:"bids",BD_BIDDER:"bidder",BD_ID:"paramsd",BD_PL_ID:"placementId",ADSERVER_TARGETING:"adserverTargeting",BD_SETTING_STANDARD:"standard"},r="pbjs_debug",e={GOOD:1},l={AUCTION_INIT:"auctionInit",AUCTION_TIMEOUT:"auctionTimeout",AUCTION_END:"auctionEnd",BID_ADJUSTMENT:"bidAdjustment",BID_TIMEOUT:"bidTimeout",BID_REQUESTED:"bidRequested",BID_RESPONSE:"bidResponse",BID_REJECTED:"bidRejected",NO_BID:"noBid",SEAT_NON_BID:"seatNonBid",BID_WON:"bidWon",BIDDER_DONE:"bidderDone",BIDDER_ERROR:"bidderError",SET_TARGETING:"setTargeting",BEFORE_REQUEST_BIDS:"beforeRequestBids",BEFORE_BIDDER_HTTP:"beforeBidderHttp",REQUEST_BIDS:"requestBids",ADD_AD_UNITS:"addAdUnits",AD_RENDER_FAILED:"adRenderFailed",AD_RENDER_SUCCEEDED:"adRenderSucceeded",TCF2_ENFORCEMENT:"tcf2Enforcement",AUCTION_DEBUG:"auctionDebug",BID_VIEWABLE:"bidViewable",STALE_RENDER:"staleRender",EXPIRED_RENDER:"expiredRender",BILLABLE_EVENT:"billableEvent",BID_ACCEPTED:"bidAccepted",RUN_PAAPI_AUCTION:"paapiRunAuction",PBS_ANALYTICS:"pbsAnalytics",PAAPI_BID:"paapiBid",PAAPI_NO_BID:"paapiNoBid",PAAPI_ERROR:"paapiError",BEFORE_PBS_HTTP:"beforePBSHttp",BROWSI_INIT:"browsiInit",BROWSI_DATA:"browsiData"},I={PREVENT_WRITING_ON_MAIN_DOCUMENT:"preventWritingOnMainDocument",NO_AD:"noAd",EXCEPTION:"exception",CANNOT_FIND_AD:"cannotFindAd",MISSING_DOC_OR_ADID:"missingDocOrAdid"},x={bidWon:"adUnitCode"},L={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},g={BIDDER:"hb_bidder",AD_ID:"hb_adid",PRICE_BUCKET:"hb_pb",SIZE:"hb_size",DEAL:"hb_deal",SOURCE:"hb_source",FORMAT:"hb_format",UUID:"hb_uuid",CACHE_ID:"hb_cache_id",CACHE_HOST:"hb_cache_host",ADOMAIN:"hb_adomain",ACAT:"hb_acat",CRID:"hb_crid",DSP:"hb_dsp"},ie={BIDDER:"hb_bidder",AD_ID:"hb_adid",PRICE_BUCKET:"hb_pb",SIZE:"hb_size",DEAL:"hb_deal",FORMAT:"hb_format",UUID:"hb_uuid",CACHE_HOST:"hb_cache_host"},ee={title:"hb_native_title",body:"hb_native_body",body2:"hb_native_body2",privacyLink:"hb_native_privacy",privacyIcon:"hb_native_privicon",sponsoredBy:"hb_native_brand",image:"hb_native_image",icon:"hb_native_icon",clickUrl:"hb_native_linkurl",displayUrl:"hb_native_displayurl",cta:"hb_native_cta",rating:"hb_native_rating",address:"hb_native_address",downloads:"hb_native_downloads",likes:"hb_native_likes",phone:"hb_native_phone",price:"hb_native_price",salePrice:"hb_native_saleprice",rendererUrl:"hb_renderer_url",adTemplate:"hb_adTemplate"},O={SRC:"s2s",DEFAULT_ENDPOINT:"https://prebid.adnxs.com/pbs/v1/openrtb2/auction",SYNCED_BIDDERS_KEY:"pbjsSyncs"},f={BID_TARGETING_SET:"targetingSet",RENDERED:"rendered",BID_REJECTED:"bidRejected"},c={INVALID:"Bid has missing or invalid properties",INVALID_REQUEST_ID:"Invalid request ID",BIDDER_DISALLOWED:"Bidder code is not allowed by allowedAlternateBidderCodes / allowUnknownBidderCodes",FLOOR_NOT_MET:"Bid does not meet price floor",CANNOT_CONVERT_CURRENCY:"Unable to convert currency",DSA_REQUIRED:"Bid does not provide required DSA transparency info",DSA_MISMATCH:"Bid indicates inappropriate DSA rendering method",PRICE_TOO_HIGH:"Bid price exceeds maximum value"},_={body:"desc",body2:"desc2",sponsoredBy:"sponsored",cta:"ctatext",rating:"rating",address:"address",downloads:"downloads",likes:"likes",phone:"phone",price:"price",salePrice:"saleprice",displayUrl:"displayurl"},C={sponsored:1,desc:2,rating:3,likes:4,downloads:5,price:6,saleprice:7,phone:8,address:9,desc2:10,displayurl:11,ctatext:12},h={ICON:1,MAIN:3},D=["privacyIcon","clickUrl","sendTargetingKeys","adTemplate","rendererUrl","type"],U={REQUEST:"Prebid Request",RESPONSE:"Prebid Response",NATIVE:"Prebid Native",EVENT:"Prebid Event"},k="__pb_locator__"},6833:function(s,$,a){a.d($,{j:function(){return ee},q:function(){return f}});var o=a(5901),r=a(1069),e=a(3272),l=2,I={buckets:[{max:5,increment:.5}]},x={buckets:[{max:20,increment:.1}]},L={buckets:[{max:20,increment:.01}]},g={buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5}]},ie={buckets:[{max:5,increment:.05},{max:10,increment:.1},{max:20,increment:.5}]};function ee(c,_){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,h=parseFloat(c);return{low:(h=isNaN(h)?"":h)===""?"":O(c,I,C),med:h===""?"":O(c,x,C),high:h===""?"":O(c,L,C),auto:h===""?"":O(c,ie,C),dense:h===""?"":O(c,g,C),custom:h===""?"":O(c,_,C)}}function O(c,_,C){var h,D,U,k="";return k=f(_)&&(h=_.buckets.reduce(function(M,Y){return M.max>Y.max?M:Y},{max:0}),U=(D=0,o.I6)(_.buckets,function(M){if(c>h.max*C){var Y=M.precision;k=(M.max*C).toFixed(Y=Y===void 0?l:Y)}else{if(c<=M.max*C&&D*C<=c)return M.min=D,M;D=M.max}}))?(M=>{var Y=U.precision!==void 0?U.precision:l,X=U.increment*C,P=U.min*C,R=Math.floor;typeof(w=e.$W.getConfig("cpmRoundingFunction"))=="function"&&(R=w);var K,Q,w=Math.pow(10,Y+2),w=(M*w-P*w)/(X*w);try{K=R(w)*X+P}catch{Q=!0}return!Q&&typeof K=="number"||((0,r.JE)("Invalid rounding function passed in config"),K=Math.floor(w)*X+P),(K=Number(K.toFixed(10))).toFixed(Y)})(c):k}function f(c){var _;return!((0,r.Im)(c)||!c.buckets||!Array.isArray(c.buckets))&&(_=!0,c.buckets.forEach(function(C){C.max&&C.increment||(_=!1)}),_)}},6031:function(s,I,a){a.d(I,{HH:function(){return g},kj:function(){return L},xh:function(){return x}});var o,r=a(5555),e=a(1069),l=a(4595),I=a(9214),x=3,L=(0,I.A_)("sync",function(ie){return l.G}),g=(o={},function(ie){var ee=L(ie);return o.hasOwnProperty(ee)||(o[ee]=new r.U9(function(O){var f=(0,e.CA)();f.srcdoc="<script>".concat(ee,"<\/script>"),f.onload=function(){return O(f.contentWindow.render)},document.body.appendChild(f)})),o[ee]})},9164:function(s,$,a){a.d($,{L6:function(){return c},ey:function(){return ie}});var o=a(3272),r=a(9214),e=a(7873),l=a(1069),I=a(3597),x=a(1580),L=a(5555),g=a(5569),ie="__pbjs_debugging__";function ee(){return(0,e.m)().installedModules.includes("debugging")}function O(_){return new L.U9(function(C){(0,x.R)(_,g.tp,"debugging",C)})}var f=function(C){var C=0<arguments.length&&C!==void 0?C:{},D=C.load,h=D===void 0?function(R){var R=0<arguments.length&&R!==void 0?R:{},K=R.alreadyInstalled,Q=K===void 0?ee:K,w=(K=R.script)===void 0?O:K,u=null;return function(){return u=u==null?new L.U9(function(p,T){setTimeout(function(){var m;Q()?p():((0,l.OG)('Debugging module not installed, loading it from "'.concat(m="https://cdn.jsdelivr.net/npm/prebid.js@9.37.0/dist/debugging-standalone.js",'"...')),(0,e.m)()._installDebugging=!0,w(m).then(function(){(0,e.m)()._installDebugging({DEBUG_KEY:ie,hook:r.A_,config:o.$W,createBid:I.O,logger:(0,l.h0)("DEBUG:")})}).then(p,T))})}):u}}():D,D=C.hook,U=D===void 0?(0,r.Yn)("requestBids"):D,k=null,M=!1;function Y(P){for(var R=this,K=arguments.length,Q=new Array(1<K?K-1:0),w=1;w<K;w++)Q[w-1]=arguments[w];return(k||L.U9.resolve()).then(function(){return P.apply(R,Q)})}function X(){U.getHooks({hook:Y}).remove(),M=!1}return{enable:function(){M||(k=h(),U.before(Y,99),M=!0)},disable:X,reset:function(){k=null,X()}}}();function c(){var _=null;try{_=window.sessionStorage}catch{}if(_!==null){var C=f,h=null;try{h=_.getItem(ie)}catch{}h!==null&&C.enable()}}f.reset,o.$W.getConfig("debugging",function(_){_=_.debugging,_!=null&&_.enabled?f.enable():f.disable()})},3005:function(s,$,a){a.d($,{$T:function(){return I},Ni:function(){return o},OA:function(){return e},RO:function(){return l},fR:function(){return r}});var o=1,r=2,e=1,l=500;function I(x){return(x!=null?x:[]).reduce(function(L,ee){var O=ee.event,ie=ee.method,ee=ee.url,O=L[O]=(O=L[O])!=null?O:{};return(O[ie]=(O=O[ie])!=null?O:[]).push(ee),L},{})}},5023:function(s,e,f){f.d(e,{AU:function(){return C},Ic:function(){return D},kQ:function(){return h},on:function(){return _}});var o,r=f(1069),e=f(8969),l=f(6853),f=f(3272),I="eventHistoryTTL",x=null,L=(0,l.H)({monotonic:!0,ttl:function(){return x}}),g=(f.$W.getConfig(I,function(U){var k=x;U=U==null?void 0:U[I],k!==(x=typeof U=="number"?1e3*U:null)&&L.refresh()}),Array.prototype.slice),ie=Array.prototype.push,ee=Object.values(e.qY),O=e.cA,f=(o={},(l={}).has=c,l.on=function(U,k,M){var Y;c(U)?(Y=o[U]||{que:[]},(M?(Y[M]=Y[M]||{que:[]},Y[M]):Y).que.push(k),o[U]=Y):r.vV("Wrong event name : "+U+" Valid event names :"+ee)},l.emit=function(U){var k,M,Y,X,P,R;k=U,M=g.call(arguments,1),r.OG("Emitting event for: "+k),U=M[0]||{},Y=U[O[k]],X=o[k]||{que:[]},P=Object.keys(X),R=[],L.add({eventType:k,args:U,id:Y,elapsedTime:r.V()}),Y&&P.includes(Y)&&ie.apply(R,X[Y].que),ie.apply(R,X.que),(R||[]).forEach(function(K){if(K)try{K.apply(null,M)}catch(Q){r.vV("Error executing handler:","events.js",Q,k)}})},l.off=function(U,k,M){var Y=o[U];r.Im(Y)||r.Im(Y.que)&&r.Im(Y[M])||M&&(r.Im(Y[M])||r.Im(Y[M].que))||(M?(Y[M].que||[]).forEach(function(X){var P=Y[M].que;X===k&&P.splice(P.indexOf(X),1)}):(Y.que||[]).forEach(function(X){var P=Y.que;X===k&&P.splice(P.indexOf(X),1)}),o[U]=Y)},l.get=function(){return o},l.addEvents=function(U){ee=ee.concat(U)},l.getEvents=function(){return L.toArray().map(function(U){return Object.assign({},U)})},l);function c(U){return ee.includes(U)}r.cD(f.emit.bind(f));var _=f.on,C=f.off,h=(f.get,f.getEvents),D=f.emit;f.addEvents,f.has},687:function(s,o,a){a.d(o,{w:function(){return M}});var o=a(9214),r=a(7934),e=a(5973),l=a(1069),I=a(3172),x=a(3272),L=a(5555),g=["architecture","bitness","model","platformVersion","fullVersionList"],ie=["brands","mobile","platform"],ee=function(R){var K=0<arguments.length&&R!==void 0?R:(R=window.navigator)==null?void 0:R.userAgentData,Q=K&&ie.some(function(w){return K[w]!==void 0})?Object.freeze(f(1,K)):null;return function(){return Q}}(),O=function(R){var K=0<arguments.length&&R!==void 0?R:(R=window.navigator)==null?void 0:R.userAgentData,Q={},w=new WeakMap;return function(){var u=0<arguments.length&&arguments[0]!==void 0?arguments[0]:g,p=(w.has(u)||((p=Array.from(u)).sort(),w.set(u,p.join("|"))),w.get(u));if(!Q.hasOwnProperty(p))try{Q[p]=K.getHighEntropyValues(u).then(function(T){return(0,l.Im)(T)?null:Object.freeze(f(2,T))}).catch(function(){return null})}catch{Q[p]=L.U9.resolve(null)}return Q[p]}}();function f(R,K){function Q(u,p){return u={brand:u},(0,l.O8)(p)&&!(0,l.xQ)(p)&&(u.version=p.split(".")),u}var w={source:R};return K.platform&&(w.platform=Q(K.platform,K.platformVersion)),(K.fullVersionList||K.brands)&&(w.browsers=(K.fullVersionList||K.brands).map(function(u){return Q(u.brand,u.version)})),K.mobile!==void 0&&(w.mobile=K.mobile?1:0),["model","bitness","architecture"].forEach(function(u){var p=K[u];(0,l.O8)(p)&&(w[u]=p)}),w}var c=a(3858),_=a(5139),C=a(3441),h=a(6811),D=a(5569),U={getRefererInfo:r.EN,findRootDomain:e.S,getWindowTop:l.mb,getWindowSelf:l.l4,getHighEntropySUA:O,getLowEntropySUA:ee},k=(0,c.i8)("FPD"),M=(0,o.A_)("sync",function(R){return R=[R,(R=x.$W.getConfig("firstPartyData.uaHints"),(Array.isArray(R)&&R.length!==0?U.getHighEntropySUA(R):L.U9.resolve(U.getLowEntropySUA())).catch(function(){return null})),L.U9.resolve("cookieDeprecationLabel"in navigator&&(0,_.io)(h.Ue,(0,C.s)(D.tp,"cdep"))&&navigator.cookieDeprecationLabel.getValue()).catch(function(){return null})],L.U9.all(R).then(function(u){var Q=u[0],w=u[1],u=u[2],p=U.getRefererInfo();Object.entries(P).forEach(function(z){var J=z[0],z=(0,z[1])(Q,p);z&&0<Object.keys(z).length&&(Q[J]=(0,l.D9)({},z,Q[J]))}),w&&(0,I.J)(Q,"device.sua",Object.assign({},w,Q.device.sua)),u&&(0,I.J)(Q,"device.ext",Object.assign({},{cdep:u},Q.device.ext));for(var T,m,E,Q=k(Q),S=0,A=c.Dy;S<A.length;S++){var B=A[S];if((0,c.O$)(Q,B)){Q[B]=(0,l.D9)({},(T=p,T=(E=m=void 0,r.gR)(T.page,{noLeadingWww:!0}),E=(E=(m=(m=Y(function(J){return J.document.querySelector("meta[name='keywords']")}))==null?void 0:m.content)==null?void 0:m.replace)==null?void 0:E.call(m,/\s/g,""),X({domain:T,keywords:E,publisher:X({domain:U.findRootDomain(T)})})),Q[B]);break}}return Q})});function Y(R){try{return R(U.getWindowTop())}catch{return R(U.getWindowSelf())}}function X(R){return(0,l.SH)(R,Object.keys(R))}var P={site:function(R,K){if(!c.Dy.filter(function(Q){return Q!=="site"}).some(c.O$.bind(null,R)))return X({page:K.page,ref:K.ref})},device:function(){return Y(function(R){var u=R.screen.width,K=R.screen.height,Q=R.innerWidth||R.document.documentElement.clientWidth||R.document.body.clientWidth,w=R.innerHeight||R.document.documentElement.clientHeight||R.document.body.clientHeight,u={w:u,h:K,dnt:(0,l.l9)()?1:0,ua:R.navigator.userAgent,language:R.navigator.language.split("-").shift(),ext:{vpw:Q,vph:w}};return(K=R.navigator)!=null&&K.webdriver&&(0,I.J)(u,"ext.webdriver",!0),u})},regs:function(){var R={},K=(Y(function(Q){return Q.navigator.globalPrivacyControl})&&(0,I.J)(R,"ext.gpc","1"),x.$W.getConfig("coppa"));return typeof K=="boolean"&&(R.coppa=K?1:0),R}}},3858:function(s,$,a){a.d($,{Dy:function(){return r},O$:function(){return l},i8:function(){return e}});var o=a(1069),r=["dooh","app","site"];function e(I){return function(x){return r.reduce(function(L,g){return l(x,g)&&(L!=null?((0,o.JE)("".concat(I," specifies both '").concat(L,"' and '").concat(g,"'; dropping the latter.")),delete x[g]):L=g),L},null),x}}function l(I,x){return I[x]!=null&&0<Object.keys(I[x]).length}},5973:function(s,$,a){a.d($,{S:function(){return e}});var o=a(1069),r=(0,a(2938).CK)("fpdEnrichment"),e=(0,o.Bj)(function(){var l=0<arguments.length&&arguments[0]!==void 0?arguments[0]:window.location.host;if(!r.cookiesAreEnabled())return l;var I=l.split(".");if(I.length===2)return l;var x,L=-2,g="_rdc".concat(Date.now()),ie="writeable";do var ee=I.slice(L).join("."),O=new Date((0,o.vE)()+1e4).toUTCString();while(r.setCookie(g,ie,O,"Lax",ee,void 0),r.getCookie(g,void 0)===ie?(x=!1,r.setCookie(g,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,ee,void 0)):(L+=-1,x=Math.abs(L)<=I.length),x);return ee})},9214:function(s,r,e){e.d(r,{A_:function(){return l},Gc:function(){return x},Y6:function(){return f},Yn:function(){return L},bz:function(){return O},pT:function(){return g},xG:function(){return ee}});var o,r=e(8128),r=e.n(r),e=e(5555),l=r()({ready:r().SYNC|r().ASYNC|r().QUEUE}),I=(0,e.v6)(),x=(l.ready=(o=l.ready,function(){try{return o.apply(l,arguments)}finally{I.resolve()}}),I.promise),L=l.get;function g(c,_){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:15;c.getHooks({hook:_}).length===0&&c.before(_,C)}var ie={};function ee(c,_){var C=(2<arguments.length&&arguments[2]!==void 0?arguments[2]:{}).postInstallAllowed,h=C!==void 0&&C;l("async",function(D){D.forEach(function(U){return _.apply(void 0,U)}),h&&(ie[c]=_)},c)([])}function O(c){for(var _=arguments.length,C=new Array(1<_?_-1:0),h=1;h<_;h++)C[h-1]=arguments[h];var D=ie[c];if(D)return D.apply(void 0,C);L(c).before(function(U,k){k.push(C),U(k)})}function f(c,_){return Object.defineProperties(_,Object.fromEntries(["before","after","getHooks","removeAll"].map(function(C){return[C,{get:function(){return c[C]}}]}))),_}},1371:function(s,$,a){a.d($,{D4:function(){return e},GE:function(){return I},G_:function(){return r},LM:function(){return l},s6:function(){return o}});var o="native",r="video",e="banner",l="adpod",I=[o,r,e]},2449:function(s,$,a){a.d($,{Bm:function(){return U},IX:function(){return R},Nh:function(){return ee},Xj:function(){return u},Zj:function(){return Y},gs:function(){return M},l6:function(){return _},mT:function(){return ie},nk:function(){return h},vO:function(){return k},yl:function(){return K}});var o=a(1069),r=a(5901),e=a(7314),l=a(8969),I=a(1371),x=a(9075),L=a(6031),g=a(3005),ie=[],ee=Object.keys(l.x5).map(function(E){return l.x5[E]}),O={image:{ortb:{ver:"1.2",assets:[{required:1,id:1,img:{type:3,wmin:100,hmin:100}},{required:1,id:2,title:{len:140}},{required:1,id:3,data:{type:1}},{required:0,id:4,data:{type:2}},{required:0,id:5,img:{type:1,wmin:20,hmin:20}}]},image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}},f=m(l.h0),c=m(l.jO);function _(E){return E.native&&typeof E.native=="object"}function C(E){if(!(E=E&&E.type&&((S=E.type)&&(0,r.mK)(Object.keys(O),S)||((0,o.vV)("".concat(S," nativeParam is not supported")),0))?O[E.type]:E)||!E.ortb||D(E.ortb))return E;var S}function h(E){E.forEach(function(S){var A=S.nativeParams||((A=S==null?void 0:S.mediaTypes)==null?void 0:A.native);A&&(S.nativeParams=C(A)),S.nativeParams&&(S.nativeOrtbRequest=S.nativeParams.ortb||(B=>{if(B||(0,o.Qd)(B)){var oe,J,z,re,ge,W={ver:"1.2",assets:[]};for(oe in B)l._B.includes(oe)||(l.x5.hasOwnProperty(oe)?oe==="privacyLink"?W.privacy=1:(z=0,(J=B[oe]).required&&(0,o.Lm)(J.required)&&(z=Number(J.required)),z={id:W.assets.length,required:z},oe in l.h0?(z.data={type:l.jO[l.h0[oe]]},J.len&&(z.data.len=J.len)):oe==="icon"||oe==="image"?(z.img={type:oe==="icon"?l.oA.ICON:l.oA.MAIN},J.aspect_ratios&&((0,o.cy)(J.aspect_ratios)?J.aspect_ratios.length?(ge=(re=J.aspect_ratios[0]).min_width,re=re.min_height,(0,o.Fq)(ge)&&(0,o.Fq)(re)?(z.img.wmin=ge,z.img.hmin=re):(0,o.vV)("image.aspect_ratios min_width or min_height are invalid: ",ge,re),0<(ge=J.aspect_ratios.filter(function(Z){return Z.ratio_width&&Z.ratio_height}).map(function(Z){return"".concat(Z.ratio_width,":").concat(Z.ratio_height)})).length&&(z.img.ext={aspectratios:ge})):(0,o.vV)("image.aspect_ratios was passed, but it's empty:",J.aspect_ratios):(0,o.vV)("image.aspect_ratios was passed, but it's not a an array:",J.aspect_ratios)),J.sizes&&(J.sizes.length===2&&(0,o.Fq)(J.sizes[0])&&(0,o.Fq)(J.sizes[1])?(z.img.w=J.sizes[0],z.img.h=J.sizes[1],delete z.img.hmin,delete z.img.wmin):(0,o.vV)("image.sizes was passed, but its value is not an array of integers:",J.sizes))):oe==="title"?z.title={len:J.len||140}:oe==="ext"&&(z.ext=J,delete z.required),W.assets.push(z)):(0,o.vV)("Unrecognized native asset code: ".concat(oe,". Asset will be ignored.")));return W}(0,o.vV)("Native assets object is empty or not an object: ",B)})(S.nativeParams))})}function D(E){var S,A=E.assets;return Array.isArray(A)&&A.length!==0?(S=A.map(function(B){return B.id}),A.length!==new Set(S).size||S.some(function(B){return B!==parseInt(B,10)})?((0,o.vV)("each asset object must have 'id' property, it must be unique and it must be an integer"),0):E.hasOwnProperty("eventtrackers")&&!Array.isArray(E.eventtrackers)?((0,o.vV)("ortb.eventtrackers is not an array. Eventtrackers: ",E.eventtrackers),0):A.every(function(B){if(!(0,o.Qd)(B))return(0,o.vV)("asset must be an object. Provided asset: ",B),!1;if(B.img){if(!(0,o.Et)(B.img.w)&&!(0,o.Et)(B.img.wmin))return(0,o.vV)("for img asset there must be 'w' or 'wmin' property"),!1;if(!(0,o.Et)(B.img.h)&&!(0,o.Et)(B.img.hmin))return(0,o.vV)("for img asset there must be 'h' or 'hmin' property"),!1}else if(B.title){if(!(0,o.Et)(B.title.len))return(0,o.vV)("for title asset there must be 'len' property defined"),!1}else if(B.data){if(!(0,o.Et)(B.data.type))return(0,o.vV)("for data asset 'type' property must be a number"),!1}else if(B.video&&!(Array.isArray(B.video.mimes)&&Array.isArray(B.video.protocols)&&(0,o.Et)(B.video.minduration)&&(0,o.Et)(B.video.maxduration)))return(0,o.vV)("video asset is not properly configured"),!1;return!0})):((0,o.vV)("assets in mediaTypes.native.ortb is not an array, or it's empty. Assets: ",A),0)}function U(E){var S,A,B=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).index,B=(B===void 0?e.n.index:B).getAdUnit(E);return!!B&&(B=B.nativeOrtbRequest,S=((S=E.native)==null?void 0:S.ortb)||T(E.native,B),E=B,(B=S==null?void 0:S.link)!=null&&B.url?(B=E.assets.filter(function(oe){return oe.required===1}).map(function(oe){return oe.id}),A=S.assets.map(function(oe){return oe.id}),(E=B.every(function(oe){return(0,r.mK)(A,oe)}))||(0,o.vV)("didn't receive a bid with all required assets. Required ids: ".concat(B,", but received ids in response: ").concat(A)),E):((0,o.vV)("native response doesn't have 'link' property. Ortb response: ",S),!1))}function k(E,S){return S=S.native.ortb||p(S.native),E.action==="click"?function(A,z,re){var J,z=1<arguments.length&&z!==void 0?z:null,re=(2<arguments.length&&re!==void 0?re:{}).fetchURL,ge=re===void 0?o.z$:re;z?(re=(A.assets||[]).filter(function(W){return W.link}).reduce(function(W,Z){return W[Z.id]=Z.link,W},{}),J=((J=A.link)==null?void 0:J.clicktrackers)||[],((re=re[z])?re.clicktrackers||[]:J).forEach(function(W){return ge(W)})):(((z=A.link)==null?void 0:z.clicktrackers)||[]).forEach(function(W){return ge(W)})}(S,E==null?void 0:E.assetId):function(A,re){var re=1<arguments.length&&re!==void 0?re:{},oe=re.runMarkup,oe=oe===void 0?function(ge){return(0,o.ro)(ge)}:oe,re=re.fetchURL,J=re===void 0?o.z$:re,re=(0,g.$T)(A.eventtrackers||[])[g.OA]||{},z=re[g.Ni],z=z===void 0?[]:z,re=re[g.fR],re=re===void 0?[]:re;(z=A.imptrackers?z.concat(A.imptrackers):z).forEach(function(ge){return J(ge)}),re=re.map(function(ge){return'<script async src="'.concat(ge,'"><\/script>')}),(re=A.jstracker?re.concat([A.jstracker]):re).length&&oe(re.join("\n"))}(S),E.action}function M(E,S){var A=S==null?void 0:S.nativeOrtbRequest,B=(B=E.native)==null?void 0:B.ortb;A&&B&&(B=((oe,J)=>{for(var z,re={},ge=(J==null?void 0:J.assets)||[],W=(re.clickUrl=(J=oe.link)==null?void 0:J.url,re.privacyLink=oe.privacy,0),Z=(oe==null?void 0:oe.assets)||[];W<Z.length;W++)(ue=>{var me=ge.find(function(Oe){return ue.id===Oe.id});ue.title?re.title=ue.title.text:ue.img?re[((z=me==null?void 0:me.img)==null?void 0:z.type)===l.oA.MAIN?"image":"icon"]={url:ue.img.url,width:ue.img.w,height:ue.img.h}:ue.data&&(re[f[c[(z=me==null?void 0:me.data)==null?void 0:z.type]]]=ue.data.value)})(Z[W]);re.impressionTrackers=[];var j=[];oe.imptrackers&&(J=re.impressionTrackers).push.apply(J,oe.imptrackers);for(var N=0,q=(oe==null?void 0:oe.eventtrackers)||[];N<q.length;N++){var he=q[N];he.event===g.OA&&he.method===g.Ni&&re.impressionTrackers.push(he.url),he.event===g.OA&&he.method===g.fR&&j.push(he.url)}return j=j.map(function(ue){return'<script async src="'.concat(ue,'"><\/script>')}),oe!=null&&oe.jstracker&&j.push(oe.jstracker),j.length&&(re.javascriptTrackers=j.join("\n")),re})(B,A),Object.assign(E.native,B)),["rendererUrl","adTemplate"].forEach(function(oe){var J=(J=S==null?void 0:S.nativeParams)==null?void 0:J[oe];J&&(E.native[oe]=Q(J))})}function Y(E){var S,A=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).index,A=A===void 0?e.n.index:A,B={},oe=A.getAdUnit(E),J=((A=oe==null?void 0:oe.nativeParams)==null?void 0:A.ortb)==null&&((A=oe==null?void 0:oe.nativeParams)==null?void 0:A.sendTargetingKeys)!==!1,z=(S={},(re=(A=oe)==null?void 0:A.nativeParams)!=null&&re.ext&&Object.keys(A.nativeParams.ext).forEach(function(ge){S[ge]="hb_native_".concat(ge)}),F(F({},l.x5),S)),re=F(F({},E.native),E.native.ext);return delete re.ext,Object.keys(re).forEach(function(ge){var W,Z,j=z[ge],N=Q(E.native[ge])||Q((N=(N=E==null?void 0:E.native)==null?void 0:N.ext)==null?void 0:N[ge]);ge!=="adTemplate"&&j&&N&&((W=typeof(W=(W=(W=oe==null?void 0:oe.nativeParams)==null?void 0:W[ge])==null?void 0:W.sendId)!="boolean"?(Z=(Z=(Z=oe==null?void 0:oe.nativeParams)==null?void 0:Z.ext)==null?void 0:Z[ge])==null?void 0:Z.sendId:W)&&(N="".concat(j,":").concat(E.adId)),typeof(Z=typeof(Z=(W=(Z=oe==null?void 0:oe.nativeParams)==null?void 0:Z[ge])==null?void 0:W.sendTargetingKeys)!="boolean"?(W=(W=(W=oe==null?void 0:oe.nativeParams)==null?void 0:W.ext)==null?void 0:W[ge])==null?void 0:W.sendTargetingKeys:Z)=="boolean"?Z:J)&&(B[j]=N)}),B}function X(re,S,A,z){var oe,J,z=(3<arguments.length&&z!==void 0?z:{}).index,z=z===void 0?e.n.index:z,re={message:"assetResponse",adId:re.adId},ge=(0,x.vd)(S).native;return ge?(re.native=Object.assign({},ge),re.renderer=(0,L.kj)(S),re.rendererVersion=L.xh,A!=null&&(ge.assets=ge.assets.filter(function(W){return W=W.key,A.includes(W)}))):(oe=S,z=z.getAdUnit(S),S=A,S=F(F({},(0,o.SH)(oe.native,["rendererUrl","adTemplate"])),{assets:function W(Z,j,N){var q=2<arguments.length&&N!==void 0&&N,he=[];return Object.entries(Z).filter(function(ue){var me=ue[0];return ue[1]&&(q===!1&&me==="ext"||j==null||j.includes(me))}).forEach(function(Oe){var me=Oe[0],Oe=Oe[1];q===!1&&me==="ext"?he.push.apply(he,W(Oe,j,!0)):(q||l.x5.hasOwnProperty(me))&&he.push({key:me,value:Q(Oe)})}),he}(oe.native,S),nativeKeys:l.x5}),oe.native.ortb?S.ortb=oe.native.ortb:(J=(J=z.mediaTypes)==null?void 0:J.native)!=null&&J.ortb&&(S.ortb=T(oe.native,z.nativeOrtbRequest)),ge=S),Object.assign(re,ge)}var P=Object.fromEntries(Object.entries(l.x5).map(function(E){var S=E[0];return[E[1],S]}));function R(E,S){var A=E.assets.map(function(B){return P[B]});return X(E,S,A)}function K(E,S){return X(E,S,null)}function Q(E){return(E==null?void 0:E.url)||E}function w(E){if(D(E)){for(var S={},A=function(J){var z,re,ge;J.title?(z={required:!!J.required&&!!J.required,len:J.title.len},S.title=z):J.img?(z={required:!!J.required&&!!J.required},J.img.w&&J.img.h?z.sizes=[J.img.w,J.img.h]:J.img.wmin&&J.img.hmin&&(ge=((W,Z)=>{for(;W&&Z&&W!==Z;)Z<W?W-=Z:Z-=W;return W||Z})(J.img.wmin,J.img.hmin),z.aspect_ratios=[{min_width:J.img.wmin,min_height:J.img.hmin,ratio_width:J.img.wmin/ge,ratio_height:J.img.hmin/ge}]),J.img.type===l.oA.MAIN?S.image=z:S.icon=z):J.data&&(re=Object.keys(l.jO).find(function(W){return l.jO[W]===J.data.type}),ge=Object.keys(l.h0).find(function(W){return l.h0[W]===re}),S[ge]={required:!!J.required&&!!J.required},J.data.len)&&(S[ge].len=J.data.len),E.privacy&&(S.privacyLink={required:!1})},B=0,oe=E.assets;B<oe.length;B++)A(oe[B]);return S}}function u(E){if(!E||!(0,o.cy)(E)||!E.some(function(oe){return(oe=((oe==null?void 0:oe.mediaTypes)||{})[I.s6])==null?void 0:oe.ortb}))return E;for(var E=(0,o.Go)(E),S=0,A=E;S<A.length;S++){var B=A[S];B.mediaTypes&&B.mediaTypes[I.s6]&&B.mediaTypes[I.s6].ortb&&(B.mediaTypes[I.s6]=Object.assign((0,o.Up)(B.mediaTypes[I.s6],l._B),w(B.mediaTypes[I.s6].ortb)),B.nativeParams=C(B.mediaTypes[I.s6]))}return E}function p(E){var S={link:{},eventtrackers:[]};return Object.entries(E).forEach(function(A){var B=A[0],oe=A[1];switch(B){case"clickUrl":S.link.url=oe;break;case"clickTrackers":S.link.clicktrackers=Array.isArray(oe)?oe:[oe];break;case"impressionTrackers":(Array.isArray(oe)?oe:[oe]).forEach(function(J){S.eventtrackers.push({event:g.OA,method:g.Ni,url:J})});break;case"javascriptTrackers":S.jstracker=Array.isArray(oe)?oe.join(""):oe;break;case"privacyLink":S.privacy=oe}}),S}function T(E,S){var A=F(F({},p(E)),{assets:[]});function B(oe,J){oe=S.assets.find(oe),oe!=null&&(J(oe=(0,o.Go)(oe)),A.assets.push(oe))}return Object.keys(E).filter(function(oe){return!!E[oe]}).forEach(function(oe){var J=Q(E[oe]);switch(oe){case"title":B(function(re){return re.title!=null},function(re){re.title={text:J}});break;case"image":case"icon":var z=oe==="image"?l.oA.MAIN:l.oA.ICON;B(function(re){return re.img!=null&&re.img.type===z},function(re){re.img={url:J}});break;default:oe in l.h0&&B(function(re){return re.data!=null&&re.data.type===l.jO[l.h0[oe]]},function(re){re.data={value:J}})}}),A}function m(E){var S,A={};for(S in E)A[E[S]]=S;return A}},1e3:function(s,O,L){L.d(O,{Cf:function(){return x},S3:function(){return e},Tb:function(){return l},WR:function(){return I},e4:function(){return ie},pS:function(){return f},qN:function(){return g},yB:function(){return c},zt:function(){return r}});var o,r=["request","imp","bidResponse","response"],e=r[0],l=r[1],I=r[2],x=r[3],L=["default","pbs"],g=L[0],ie=L[1],ee=new Set(r),O=(o={},{registerOrtbProcessor:function(M){var C=M.type,h=M.name,D=M.fn,k=M.priority,U=k===void 0?0:k,k=M.dialects,M=k===void 0?[g]:k;if(!ee.has(C))throw new Error("ORTB processor type must be one of: ".concat(r.join(", ")));M.forEach(function(Y){o.hasOwnProperty(Y)||(o[Y]={}),o[Y].hasOwnProperty(C)||(o[Y][C]={}),o[Y][C][h]={priority:U,fn:D}})},getProcessors:function(_){return o[_]||{}}}),f=O.registerOrtbProcessor,c=O.getProcessors},5901:function(s,$,a){function o(l,I,x){return l&&l.includes(I,x)||!1}function r(){return Array.from.apply(Array,arguments)}function e(l,I,x){return l&&l.find(I,x)}a.d($,{A6:function(){return r},I6:function(){return e},mK:function(){return o}})},7332:function(s,_,Oe){Oe.d(_,{Z:function(){return se},gH:function(){return de}});var o=Oe(7873),r=Oe(1069),e=Oe(433),l=Oe(3172),I=Oe(2449),x=Oe(8969),L=Oe(5901),g=Oe(9075),ie=Oe(6031),_=x.nl,oe=_.REQUEST,ee=_.RESPONSE,B=_.NATIVE,_=_.EVENT,O=((k={})[oe]=function(te,H,ye){(0,g.bw)({renderFn:function(Ce){te(Object.assign({message:ee,renderer:(0,ie.kj)(ye),rendererVersion:ie.xh},Ce))},resizeFn:c(H.adId,ye),options:H.options,adId:H.adId,bidResponse:ye})},k[_]=function(te,H,ye){if(ye==null)(0,r.vV)("Cannot find ad '".concat(H.adId,"' for x-origin event request"));else{if(ye.status===x.tl.RENDERED)return(0,g.Uc)(H,ye);(0,r.JE)("Received x-origin event request without corresponding render request for ad '".concat(ye.adId,"'"))}},k);function f(){window.addEventListener("message",function(ye){var H=ye,ye=H.message?"message":"data",Ce={};try{Ce=JSON.parse(H[ye])}catch{return}Ce&&Ce.adId&&Ce.message&&O.hasOwnProperty(Ce.message)&&(0,g.$A)(Ce.adId,Ce.message===x.nl.REQUEST).then(function(Se){var De,_e,Pe;O[Ce.message]((De=Ce.adId,_e=(Pe=H).origin==null&&Pe.ports.length===0?function(){var Ne="Cannot post message to a frame with null origin. Please update creatives to use MessageChannel, see https://github.com/prebid/Prebid.js/issues/7870";throw(0,r.vV)(Ne),new Error(Ne)}:0<Pe.ports.length?function(Ne){Pe.ports[0].postMessage(JSON.stringify(Ne))}:function(Ne){Pe.source.postMessage(JSON.stringify(Ne),Pe.origin)},function(Ne){for(var We=arguments.length,Ue=new Array(1<We?We-1:0),xe=1;xe<We;xe++)Ue[xe-1]=arguments[xe];return _e.apply(void 0,be([Object.assign({},Ne,{adId:De})],Ue,!1))}),Ce,Se)})},!1)}function c(te,H){return function(ye,Ce){function Se(Ue){return Ue?Ue+"px":"100%"}function De(Ue){xe=_e,Me=Pe;var xe=(0,r.II)()?(ke=>{var Qe=(0,L.I6)(window.googletag.pubads().getSlots(),function(He){return(0,L.I6)(He.getTargetingKeys(),function(et){return(0,L.mK)(He.getTargeting(et),ke)})});return Qe?Qe.getSlotElementId():null})(xe):(0,r.t1)()?(ke=>(ke=window.apntag.getTag(ke))&&ke.targetId)(Me):Me,Me=document.getElementById(xe);return Me&&Me.querySelector(Ue)}var _e,Pe,Ne,We;ye=F(F({},H),{width:ye,height:Ce,adId:te}),_e=ye.adId,Pe=ye.adUnitCode,Ne=ye.width,We=ye.height,["div","iframe"].forEach(function(xe){var xe=De(xe+':not([style*="display: none"])');xe?((xe=xe.style).width=Se(Ne),xe.height=Se(We)):(0,r.vV)("Unable to locate matching page element for adUnitCode ".concat(Pe,".  Can't resize it to ad's dimensions.  Please review setup."))})}}Object.assign(O,((oe={})[B]=function(te,H,ye){if(ye==null)(0,r.vV)("Cannot find ad for x-origin event request: '".concat(H.adId,"'"));else switch(H.action){case"assetRequest":(0,g.Hh)(ye,function(){return te((0,I.IX)(H,ye))});break;case"allAssetRequest":(0,g.Hh)(ye,function(){return te((0,I.yl)(H,ye))});break;default:(0,g.vW)(H,ye,{resizeFn:c(H.adId,ye)}),(0,g.Pk)(ye)}},oe));var _=Oe(8230),C=Oe(3272),h=Oe(7314),D=Oe(7779),U=Oe(9214),k=Oe(9164),M=Oe(3597),Y=Oe(2938),X=Oe(1445),P=Oe(5023),R=Oe(6894),K=Oe(5555),Q=Oe(687),w=Oe(6916),u=Oe(2713),p=Oe(3895),T=new Map([["format",function(te){return Array.isArray(te)&&0<te.length&&te.every(function(H){return typeof H=="object"})}],["w",r.Fq],["h",r.Fq],["btype",r.Uu],["battr",r.Uu],["pos",r.Fq],["mimes",function(te){return Array.isArray(te)&&0<te.length&&te.every(function(H){return typeof H=="string"})}],["topframe",function(te){return[1,0].includes(te)}],["expdir",r.Uu],["api",r.Uu],["id",r.O8],["vcm",function(te){return[1,0].includes(te)}]]),m=Oe(1371);function E(te,H){return function(){var ye,Ce;return document.prerendering&&te()?(ye=this,Ce=Array.from(arguments),new Promise(function(Se){document.addEventListener("prerenderingchange",function(){(0,r.fH)("Auctions were suspended while page was prerendering"),Se(H.apply(ye,Ce))},{once:!0})})):Promise.resolve(H.apply(this,arguments))}}var S=Oe(7377),A=(0,o.m)(),B=_.zt.triggerUserSyncs,oe=x.qY,J=oe.ADD_AD_UNITS,z=oe.REQUEST_BIDS,re=oe.SET_TARGETING,ge={bidWon:function(te){if(h.n.getBidsRequested().map(function(H){return H.bids.map(function(ye){return ye.adUnitCode})}).reduce(r.Bq).filter(r.hj).includes(te))return!0;(0,r.vV)('The "'+te+'" placement is not defined.')}};function W(te,H){var ye=[];return(0,r.cy)(te)&&(H?te.length===H:0<te.length)&&(te.every(function(Ce){return(0,r.Uu)(Ce,2)})?ye=te:(0,r.Uu)(te,2)&&ye.push(te)),ye}function Z(te,H){var ye=(0,e.A)(te,"ortb2Imp.".concat(H)),Ce=(0,e.A)(te,"mediaTypes.".concat(H));(ye||Ce)&&((ye={})[m.G_]=p.Zy,ye[m.D4]=T,Ce=ye[H])&&be([],Ce,!0).forEach(function(De){var De=De[0],_e=(0,e.A)(te,"mediaTypes.".concat(H,".").concat(De)),Pe=(0,e.A)(te,"ortb2Imp.".concat(H,".").concat(De));_e==null&&Pe==null||(_e==null?(0,l.J)(te,"mediaTypes.".concat(H,".").concat(De),Pe):Pe==null?(0,l.J)(te,"ortb2Imp.".concat(H,".").concat(De),_e):((0,r.JE)("adUnit ".concat(te.code,": specifies conflicting ortb2Imp.").concat(H,".").concat(De," and mediaTypes.").concat(H,".").concat(De,", the latter will be ignored"),te),(0,l.J)(te,"mediaTypes.".concat(H,".").concat(De),Pe)))})}function j(te){var H=(0,r.Go)(te),ye=H.mediaTypes.banner,Ce=ye.sizes==null?null:W(ye.sizes),De=(De=(De=(De=te.ortb2Imp)==null?void 0:De.banner)==null?void 0:De.format)!=null?De:ye==null?void 0:ye.format;if(De!=null){(0,l.J)(H,"ortb2Imp.banner.format",De),ye.format=De;try{Se=De.filter(function(Ue){var Pe=Ue.w,Ne=Ue.h,We=Ue.wratio,Ue=Ue.hratio;return(Pe!=null?Pe:Ne)!=null&&(We!=null?We:Ue)!=null?((0,r.JE)("Ad unit banner.format specifies both w/h and wratio/hratio",te),!1):Pe!=null&&Ne!=null||We!=null&&Ue!=null}).map(function(_e){var Pe=_e.w,Ne=_e.h;return[Pe!=null?Pe:_e.wratio,Ne!=null?Ne:_e.hratio]})}catch{(0,r.vV)("Invalid format definition on ad unit ".concat(te.code),De)}Se==null||Ce==null||(0,r.bD)(Ce,Se)||(0,r.JE)("Ad unit ".concat(te.code," has conflicting sizes and format definitions"),te)}var Se=(De=Se!=null?Se:Ce)!=null?De:[],De=(Ce=(De=(Ce=te.ortb2Imp)==null?void 0:Ce.banner)==null?void 0:De.expdir)!=null?Ce:ye.expdir;return De!=null&&(ye.expdir=De,(0,l.J)(H,"ortb2Imp.banner.expdir",De)),0<Se.length?(ye.sizes=Se,H.sizes=Se):((0,r.vV)("Detected a mediaTypes.banner object without a proper sizes field.  Please ensure the sizes are listed like: [[300, 250], ...].  Removing invalid mediaTypes.banner object from request."),delete H.mediaTypes.banner),Z(H,"banner"),H}function N(Ce){var H,ye,Ce=(0,r.Go)(Ce),Se=Ce.mediaTypes.video;return Se.playerSize&&(H=typeof Se.playerSize[0]=="number"?2:1,0<(ye=W(Se.playerSize,H)).length?(H==2&&(0,r.fH)("Transforming video.playerSize from [640,480] to [[640,480]] so it's in the proper format."),Se.playerSize=ye,Ce.sizes=ye):((0,r.vV)("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete Ce.mediaTypes.video.playerSize)),(0,p.aP)(Ce),Z(Ce,"video"),Ce}function q(te){function H(Pe){return(0,r.vV)('Error in adUnit "'.concat(te.code,'": ').concat(Pe,". Removing native request from ad unit"),te),delete Ce.mediaTypes.native,Ce}function ye(Pe){for(var Ne=0,We=["sendTargetingKeys","types"];Ne<We.length;Ne++){var Ue=We[Ne];if(Se.hasOwnProperty(Ue)&&(Ue=Pe(Ue),Ue))return Ue}}var Ce=(0,r.Go)(te),Se=Ce.mediaTypes.native;if(Se.ortb){if((_e=Se.ortb.assets)!=null&&_e.some(function(Pe){return!(0,r.Et)(Pe.id)||Pe.id<0||Pe.id%1!=0}))return H("native asset ID must be a nonnegative integer");if(ye(function(Pe){return H('ORTB native requests cannot specify "'.concat(Pe,'"'))}))return Ce;var De=Object.keys(x.x5).filter(function(Pe){return x.x5[Pe].includes("hb_native_")}),_e=Object.keys(Se).filter(function(Pe){return De.includes(Pe)});0<_e.length&&((0,r.vV)("when using native OpenRTB format, you cannot use legacy native properties. Deleting ".concat(_e," keys from request.")),_e.forEach(function(Pe){return delete Ce.mediaTypes.native[Pe]}))}else ye(function(Pe){return"mediaTypes.native.".concat(Pe," is deprecated, consider using native ORTB instead")});return Se.image&&Se.image.sizes&&!Array.isArray(Se.image.sizes)&&((0,r.vV)("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete Ce.mediaTypes.native.image.sizes),Se.image&&Se.image.aspect_ratios&&!Array.isArray(Se.image.aspect_ratios)&&((0,r.vV)("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete Ce.mediaTypes.native.image.aspect_ratios),Se.icon&&Se.icon.sizes&&!Array.isArray(Se.icon.sizes)&&((0,r.vV)("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete Ce.mediaTypes.native.icon.sizes),Ce}function he(te,H){var ye=(ye=(ye=te==null?void 0:te.mediaTypes)==null?void 0:ye[H])==null?void 0:ye.pos;return(0,r.Et)(ye)&&!isNaN(ye)&&isFinite(ye)||(ye="Value of property 'pos' on ad unit ".concat(te.code," should be of type: Number"),(0,r.JE)(ye),delete te.mediaTypes[H].pos),te}function ue(te){function H(Se){return"adUnit.code '".concat(te.code,"' ").concat(Se)}var ye=te.mediaTypes,Ce=te.bids;return Ce==null||(0,r.cy)(Ce)?Ce==null&&te.ortb2Imp==null?((0,r.vV)(H("has no 'adUnit.bids' and no 'adUnit.ortb2Imp'. Removing adUnit from auction")),null):ye&&Object.keys(ye).length!==0?(te.ortb2Imp==null||Ce!=null&&Ce.length!==0||(te.bids=[{bidder:null}],(0,r.OG)(H("defines 'adUnit.ortb2Imp' with no 'adUnit.bids'; it will be seen only by S2S adapters"))),te):((0,r.vV)(H("does not define a 'mediaTypes' object.  This is a required field for the auction, so this adUnit has been removed.")),null):((0,r.vV)(H("defines 'adUnit.bids' that is not an array. Removing adUnit from auction")),null)}(0,k.L6)(),A.bidderSettings=A.bidderSettings||{},A.libLoaded=!0,A.version="v9.37.0",(0,r.fH)("Prebid.js v9.37.0 loaded"),A.installedModules=A.installedModules||[],A.adUnits=A.adUnits||[],A.triggerUserSyncs=B;var me,Oe={validateAdUnit:ue,validateBannerMediaType:j,validateSizes:W},se=(Object.assign(Oe,{validateNativeMediaType:q}),Object.assign(Oe,{validateVideoMediaType:N}),(0,U.A_)("sync",function(te){var H=[];return te.forEach(function(ye){var Ce,Se,De,_e;(ye=ue(ye))!=null&&((_e=ye.mediaTypes).banner&&(Ce=j(ye),_e.banner.hasOwnProperty("pos"))&&(Ce=he(Ce,"banner")),_e.video&&(Se=N(Ce||ye),_e.video.hasOwnProperty("pos"))&&(Se=he(Se,"video")),_e.native&&(De=q(Se||Ce||ye)),_e=Object.assign({},Ce,Se,De),H.push(_e))}),H},"checkAdUnitSetup"));function ne(te){var H=h.n[te]().filter(function(Ce){return h.n.getAdUnitCodes().includes(Ce.adUnitCode)}),ye=h.n.getLastAuctionId();return H.map(function(Ce){return Ce.adUnitCode}).filter(r.hj).map(function(Ce){return H.filter(function(Se){return Se.auctionId===ye&&Se.adUnitCode===Ce})}).filter(function(Ce){return Ce&&Ce[0]&&Ce[0].adUnitCode}).map(function(Ce){var Se={};return Se[Ce[0].adUnitCode]={bids:Ce},Se}).reduce(function(Ce,Se){return Object.assign(Ce,Se)},{})}A.getAdserverTargetingForAdUnitCodeStr=function(te){if((0,r.fH)("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),te)return te=A.getAdserverTargetingForAdUnitCode(te),(0,r.$D)(te);(0,r.OG)("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},A.getHighestUnusedBidResponseForAdUnitCode=function(te){if(te)return(te=h.n.getAllBidsForAdUnitCode(te).filter(D.Yl)).length?te.reduce(u.Vk):{};(0,r.OG)("Need to call getHighestUnusedBidResponseForAdUnitCode with adunitCode")},A.getAdserverTargetingForAdUnitCode=function(te){return A.getAdserverTargeting(te)[te]},A.getAdserverTargeting=function(te){return(0,r.fH)("Invoking pbjs.getAdserverTargeting",arguments),D.iS.getAllTargeting(te)},A.getConsentMetadata=function(){return(0,r.fH)("Invoking pbjs.getConsentMetadata"),w.SL.getConsentMeta()},A.getNoBids=function(){return(0,r.fH)("Invoking pbjs.getNoBids",arguments),ne("getNoBids")},A.getNoBidsForAdUnitCode=function(te){return{bids:h.n.getNoBids().filter(function(H){return H.adUnitCode===te})}},A.getBidResponses=function(){return(0,r.fH)("Invoking pbjs.getBidResponses",arguments),ne("getBidsReceived")},A.getBidResponsesForAdUnitCode=function(te){return{bids:h.n.getBidsReceived().filter(function(H){return H.adUnitCode===te})}},A.setTargetingForGPTAsync=function(te,H){(0,r.fH)("Invoking pbjs.setTargetingForGPTAsync",arguments),(0,r.II)()?D.iS.setTargetingForGPT(te,H):(0,r.vV)("window.googletag is not defined on the page")},A.setTargetingForAst=function(te){(0,r.fH)("Invoking pbjs.setTargetingForAn",arguments),D.iS.isApntagDefined()?(D.iS.setTargetingForAst(te),P.Ic(re,D.iS.getAllTargeting())):(0,r.vV)("window.apntag is not defined on the page")},A.renderAd=(0,U.A_)("async",function(te,H,ye){(0,r.fH)("Invoking pbjs.renderAd",arguments),(0,r.OG)("Calling renderAd with adId :"+H),(0,g.BS)(te,H,ye)}),A.removeAdUnit=function(te){(0,r.fH)("Invoking pbjs.removeAdUnit",arguments),te?((0,r.cy)(te)?te:[te]).forEach(function(H){for(var ye=A.adUnits.length-1;0<=ye;ye--)A.adUnits[ye].code===H&&A.adUnits.splice(ye,1)}):A.adUnits=[]},A.requestBids=(me=(0,U.A_)("async",function(){var te=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},H=te.bidsBackHandler,ye=te.timeout,Ce=te.adUnits,Se=te.adUnitCodes,De=te.labels,_e=te.auctionId,Pe=te.ttlBuffer,Ne=te.ortb2,We=te.metrics,Ue=te.defer,xe=(P.Ic(z),ye||C.$W.getConfig("bidderTimeout")),Me=((0,r.fH)("Invoking pbjs.requestBids",arguments),(Se=Se==null||Array.isArray(Se)?Se:[Se])&&Se.length?Ce=Ce.filter(function(ke){return(0,L.mK)(Se,ke.code)}):Se=Ce&&Ce.map(function(ke){return ke.code}),Se=Se.filter(r.hj),{global:(0,r.D9)({},C.$W.getAnyConfig("ortb2")||{},Ne||{}),bidder:Object.fromEntries(Object.entries(C.$W.getBidderConfig()).map(function(ke){return[ke[0],(0,r.Go)(ke[1].ortb2)]}).filter(function(ke){return ke[0],ke[1]!=null}))});return(0,Q.w)(K.U9.resolve(Me.global)).then(function(ke){return Me.global=ke,de({bidsBackHandler:H,timeout:xe,adUnits:Ce,adUnitCodes:Se,labels:De,auctionId:_e,ttlBuffer:Pe,ortb2Fragments:Me,metrics:We,defer:Ue})})},"requestBids"),(0,U.Y6)(me,E(function(){return!C.$W.getConfig("allowPrerendering")},function(){var te=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},H=te.adUnits||A.adUnits;return te.adUnits=(0,r.cy)(H)?H.slice():[H],te.metrics=(0,R.K7)(),te.metrics.checkpoint("requestBids"),te.defer=(0,K.v6)({promiseFactory:function(ye){return new Promise(ye)}}),me.call(this,te),te.defer.promise})));var de=(0,U.A_)("async",function(){var te=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},H=te.bidsBackHandler,ye=te.timeout,ke=te.adUnits,Ce=te.ttlBuffer,Se=te.adUnitCodes,De=te.labels,_e=te.auctionId,Pe=te.ortb2Fragments,Ne=te.metrics,We=te.defer,Ue=(0,X.pX)(C.$W.getConfig("s2sConfig")||[]);function xe(He,et,st){if(typeof H=="function")try{H(He,et,st)}catch(lt){(0,r.vV)("Error executing bidsBackHandler",null,lt)}We.resolve({bids:He,timedOut:et,auctionId:st})}ke.forEach(function(He){return(0,p.V0)(He)});var Me,ke=(0,R.BO)(Ne).measureTime("requestBids.validate",function(){return se(ke)}),Qe={};ke.forEach(function(He){var et=Object.keys(He.mediaTypes||{banner:"banner"}),lt=He.bids.map(function(dt){return dt.bidder}),st=X.Ay.bidderRegistry,lt=lt.filter(function(dt){return!Ue.has(dt)}),it=(He.adUnitId=(0,r.lk)(),(it=(it=He.ortb2Imp)==null?void 0:it.ext)==null?void 0:it.tid);it&&(Qe.hasOwnProperty(He.code)?(0,r.JE)("Multiple distinct ortb2Imp.ext.tid were provided for twin ad units '".concat(He.code,"'")):Qe[He.code]=it),Ce==null||He.hasOwnProperty("ttlBuffer")||(He.ttlBuffer=Ce),lt.forEach(function(dt){var Be=st[dt],Be=Be&&Be.getSpec&&Be.getSpec(),Ge=Be&&Be.supportedMediaTypes||["banner"];et.some(function($e){return(0,L.mK)(Ge,$e)})||((0,r.JE)((0,r.bz)(He,dt)),He.bids=He.bids.filter(function($e){return $e.bidder!==dt}))})}),ke&&ke.length!==0?(ke.forEach(function(He){var et=((et=(et=He.ortb2Imp)==null?void 0:et.ext)==null?void 0:et.tid)||Qe[He.code]||(0,r.lk)();Qe.hasOwnProperty(He.code)||(Qe[He.code]=et),He.transactionId=et,(0,l.J)(He,"ortb2Imp.ext.tid",et)}),Me=h.n.createAuction({adUnits:ke,adUnitCodes:Se,callback:xe,cbTimeout:ye,labels:De,auctionId:_e,ortb2Fragments:Pe,metrics:Ne}),15<(te=ke.length)&&(0,r.fH)("Current auction ".concat(Me.getAuctionId()," contains ").concat(te," adUnits."),ke),Se.forEach(function(He){return D.iS.setLatestAuctionForAdUnit(He,Me.getAuctionId())}),Me.callBids()):((0,r.OG)("No adUnits configured. No bids requested."),xe())},"startAuction"),ce=(A.requestBids.before(function(te,H){function ye(Ce){for(var Se;Se=Ce.shift();)Se()}ye(Y.s0),ye(ce),te.call(this,H)},49),A.addAdUnits=function(te){(0,r.fH)("Invoking pbjs.addAdUnits",arguments),A.adUnits.push.apply(A.adUnits,(0,r.cy)(te)?te:[te]),P.Ic(J)},A.onEvent=function(te,H,ye){(0,r.fH)("Invoking pbjs.onEvent",arguments),(0,r.fp)(H)?!ye||ge[te].call(null,ye)?P.on(te,H,ye):(0,r.vV)('The id provided is not valid for event "'+te+'" and no handler was set.'):(0,r.vV)('The event handler provided is not a function and was not set on event "'+te+'".')},A.offEvent=function(te,H,ye){(0,r.fH)("Invoking pbjs.offEvent",arguments),ye&&!ge[te].call(null,ye)||P.AU(te,H,ye)},A.getEvents=function(){return(0,r.fH)("Invoking pbjs.getEvents"),P.kQ()},A.registerBidAdapter=function(te,H,ye){(0,r.fH)("Invoking pbjs.registerBidAdapter",arguments);try{var Ce=ye?(0,S.xb)(ye):te();X.Ay.registerBidAdapter(Ce,H)}catch(Se){(0,r.vV)("Error registering bidder adapter : "+Se.message)}},A.registerAnalyticsAdapter=function(te){(0,r.fH)("Invoking pbjs.registerAnalyticsAdapter",arguments);try{X.Ay.registerAnalyticsAdapter(te)}catch(H){(0,r.vV)("Error registering analytics adapter : "+H.message)}},A.createBid=function(te){return(0,r.fH)("Invoking pbjs.createBid",arguments),(0,M.O)(te)},[]),ve=(0,U.A_)("async",function(te){te&&!(0,r.Im)(te)?((0,r.fH)("Invoking pbjs.enableAnalytics for: ",te),X.Ay.enableAnalytics(te)):(0,r.vV)("pbjs.enableAnalytics should be called with option {}")},"enableAnalyticsCb");function pe(te){if(typeof te=="function")try{te.call()}catch(H){(0,r.vV)("Error processing command :",H.message,H.stack)}else(0,r.vV)("Commands written into pbjs.cmd.push must be wrapped in a function")}function we(te){te.forEach(function(H){if(H.called===void 0)try{H.call(),H.called=!0}catch(ye){(0,r.vV)("Error processing command :","prebid.js",ye)}})}A.enableAnalytics=function(te){ce.push(ve.bind(this,te))},A.aliasBidder=function(te,H,ye){(0,r.fH)("Invoking pbjs.aliasBidder",arguments),te&&H?X.Ay.aliasBidAdapter(te,H,ye):(0,r.vV)("bidderCode and alias must be passed as arguments","pbjs.aliasBidder")},A.aliasRegistry=X.Ay.aliasRegistry,C.$W.getConfig("aliasRegistry",function(te){te.aliasRegistry==="private"&&delete A.aliasRegistry}),A.getAllWinningBids=function(){return h.n.getAllWinningBids()},A.getAllPrebidWinningBids=function(){return h.n.getBidsReceived().filter(function(te){return te.status===x.tl.BID_TARGETING_SET})},A.getHighestCpmBids=function(te){return D.iS.getWinningBids(te)},A.clearAllAuctions=function(){h.n.clearAllAuctions()},A.markWinningBidAsUsed=function(De){var H,ye=De.adId,Ce=De.adUnitCode,Se=De.analytics,Se=Se!==void 0&&Se,De=De.events,De=De!==void 0&&De;Ce&&ye==null?H=D.iS.getWinningBids(Ce):ye?H=h.n.getBidsReceived().filter(function(_e){return _e.adId===ye}):(0,r.JE)("Improper use of markWinningBidAsUsed. It needs an adUnitCode or an adId to function."),0<H.length&&(Se||De?(0,g.n6)(H[0]):h.n.addWinningBid(H[0]),(0,g.qn)(H[0]))},A.getConfig=C.$W.getAnyConfig,A.readConfig=C.$W.readAnyConfig,A.mergeConfig=C.$W.mergeConfig,A.mergeBidderConfig=C.$W.mergeBidderConfig,A.setConfig=C.$W.setConfig,A.setBidderConfig=C.$W.setBidderConfig,A.que.push(f),A.processQueue=E(function(){return(0,o.m)().delayPrerendering},function(){A.que.push=A.cmd.push=pe,(0,g.XO)(),U.A_.ready(),we(A.que),we(A.cmd)}),A.triggerBilling=function(te){var H=te.adId,ye=te.adUnitCode;h.n.getAllWinningBids().filter(function(Ce){return Ce.adId===H||H==null&&Ce.adUnitCode===ye}).forEach(function(Ce){X.Ay.triggerBilling(Ce),(0,g.vB)(Ce)})}},7873:function(s,$,o){o.d($,{E:function(){return l},m:function(){return e}});var o=window,r=o.pbjs=o.pbjs||{};function e(){return r}function l(I){r.installedModules.push(I)}r.cmd=r.cmd||[],r.que=r.que||[],o===window&&(o._pbjsGlobals=o._pbjsGlobals||[],o._pbjsGlobals.push("pbjs"))},7934:function(s,$,a){a.d($,{EN:function(){return L},gR:function(){return l}});var o=a(3272),r=a(1069);function e(g,ie){if(ie=1<arguments.length&&ie!==void 0?ie:window,!g||/\w+:\/\//.exec(g))return g;var ee=ie.location.protocol;try{ee=ie.top.location.protocol}catch{}return/^\/\//.exec(g)?ee+g:"".concat(ee,"//").concat(g)}function l(g){var ee=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},ie=ee.noLeadingWww,ie=ie!==void 0&&ie,ee=ee.noPort,ee=ee!==void 0&&ee;try{g=new URL(e(g))}catch{return}return g=ee?g.hostname:g.host,g=ie&&g.startsWith("www.")?g.substring(4):g}function I(g){try{var ie=g.querySelector("link[rel='canonical']");if(ie!==null)return ie.href}catch{}return null}var x,L=function(g,ie){var ee,O,f,c=1<arguments.length&&ie!==void 0?ie:window;return c.top!==c?g:function(){var _=I(c.document),C=c.location.href;return ee===_&&C===O||(ee=_,O=C,f=g()),f}}((x=window,function(){var g,ie,ee,O=[],f=(p=>{try{if(p.location.ancestorOrigins)return p.location.ancestorOrigins}catch{}})(x),c=o.$W.getConfig("maxNestedIframes"),_=!1,C=0,h=!1,D=!1,U=!1;do{var k=R,M=D,Y=void 0,X=!1,P=null,D=!1,R=R?R.parent:x;try{Y=R.location.href||null}catch{X=!0}if(X)if(M){X=k.context;try{g=P=X.sourceUrl,h=U=!0,R===x.top&&(_=!0),X.canonicalUrl&&(ie=X.canonicalUrl)}catch{}}else{(0,r.JE)("Trying to access cross domain iframe. Continuing without referrer and location");try{var K=k.document.referrer;K&&(P=K,R===x.top)&&(_=!0)}catch{}!P&&f&&f[C-1]&&(P=f[C-1],R===x.top)&&(U=!0),P&&!h&&(g=P)}else Y&&(g=P=Y,h=!1,R===x.top)&&(_=!0,(M=I(R.document))&&(ie=M)),R.context&&R.context.sourceUrl&&(D=!0)}while(O.push(P),C++,R!==x.top&&C<c);O.reverse();try{ee=x.top.document.referrer}catch{}var Q=_||U?g:null,w=o.$W.getConfig("pageUrl")||ie||null,u=o.$W.getConfig("pageUrl")||Q||e(w,x);return Q&&-1<Q.indexOf("?")&&u.indexOf("?")===-1&&(u="".concat(u).concat(Q.substring(Q.indexOf("?")))),{reachedTop:_,isAmp:h,numIframes:C-1,stack:O,topmostLocation:g||null,location:Q,canonicalUrl:w,page:u,domain:l(u)||null,ref:ee||null,legacy:{reachedTop:_,isAmp:h,numIframes:C-1,stack:O,referer:g||null,canonicalUrl:w}}}))},2938:function(s,$,a){a.d($,{CK:function(){return C},X0:function(){return O},qk:function(){return ee},s0:function(){return f},vM:function(){return _}});var o=a(1069),r=a(2693),e=a(5569),l=a(5139),I=a(2604),x=a(6811),L=a(3272),g=a(1445),ie=a(3441),ee="html5",O="cookie",f=[];function c(M,D){var M=0<arguments.length&&M!==void 0?M:{},U=M.moduleName,k=M.moduleType,M=(1<arguments.length&&D!==void 0?D:{}).isAllowed,Y=M===void 0?l.io:M;function X(K,Q){var w=U,u=L.$W.getCurrentBidder();return u&&k===e.tW&&g.Ay.aliasRegistry[u]===U&&(w=u),K({valid:Y(x.Ue,(0,ie.s)(k,w,((u={})[I.Zw]=Q,u)))})}function P(K,Q,w){if(!w||typeof w!="function")return X(K,Q);f.push(function(){var u=X(K,Q);w(u)})}function R(K){function Q(){return window[K]}function w(T){return P(function(m){if(m&&m.valid)try{return!!Q()}catch{(0,o.vV)("".concat(K," api disabled"))}return!1},ee,T)}var u=K.charAt(0).toUpperCase()+K.substring(1),p={};return p["has".concat(u)]=w,p["".concat(K,"IsEnabled")]=function(T){return P(function(m){if(m&&m.valid)try{return Q().setItem("prebid.cookieTest","1"),Q().getItem("prebid.cookieTest")==="1"}catch{}finally{try{Q().removeItem("prebid.cookieTest")}catch{}}return!1},ee,T)},p["setDataIn".concat(u)]=function(T,m,E){return P(function(S){S&&S.valid&&w()&&Q().setItem(T,m)},ee,E)},p["getDataFrom".concat(u)]=function(T,m){return P(function(E){return E&&E.valid&&w()?Q().getItem(T):null},ee,m)},p["removeDataFrom".concat(u)]=function(T,m){return P(function(E){E&&E.valid&&w()&&Q().removeItem(T)},ee,m)},p}return F(F(F({setCookie:function(K,Q,w,u,p,T){return P(function(m){var E,S;m&&m.valid&&(m=p&&p!==""?" ;domain=".concat(encodeURIComponent(p)):"",E=w&&w!==""?" ;expires=".concat(w):"",S=u!=null&&u.toLowerCase()=="none"?"; Secure":"",document.cookie="".concat(K,"=").concat(encodeURIComponent(Q)).concat(E,"; path=/").concat(m).concat(u?"; SameSite=".concat(u):"").concat(S))},O,T)},getCookie:function(K,Q){return P(function(w){return w&&w.valid&&(w=window.document.cookie.match("(^|;)\\s*"+K+"\\s*=\\s*([^;]*)\\s*(;|$)"))?decodeURIComponent(w[2]):null},O,Q)},cookiesAreEnabled:function(K){return P(function(Q){return!(!Q||!Q.valid)&&(0,o.GE)()},O,K)}},R("localStorage")),R("sessionStorage")),{findSimilarCookies:function(K,Q){return P(function(w){if(w&&w.valid){var u=[];if((0,o.N9)())for(var p=document.cookie.split(";");p.length;){var T=p.pop(),m=(m=T.indexOf("="))<0?T.length:m;0<=decodeURIComponent(T.slice(0,m).replace(/^\s+/,"")).indexOf(K)&&u.push(decodeURIComponent(T.slice(m+1)))}return u}},O,Q)}})}function _(){var U=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},h=U.moduleType,D=U.moduleName,U=U.bidderCode;function k(){throw new Error("Invalid invocation for getStorageManager: must set either bidderCode, or moduleType + moduleName")}return U?((h&&h!==e.tW||D)&&k(),h=e.tW,D=U):D&&h||k(),c({moduleType:h,moduleName:D})}function C(h){return c({moduleName:h,moduleType:e.tp})}(0,l.qB)(x.Ue,"deviceAccess config",function(){if(!(0,o.N9)())return{allow:!1}}),(0,l.qB)(x.Ue,"bidderSettings.*.storageAllowed",function(h){var D,U=1<arguments.length&&arguments[1]!==void 0?arguments[1]:r.u;return h[I.Dk]!==e.tW||(U=(U=U.get(h[I.q7],"storageAllowed"))&&U!==!0?(D=h[I.Zw],Array.isArray(U)?U.some(function(k){return k===D}):U===D):!!U)?void 0:{allow:U}})},7779:function(s,o,a){a.d(o,{Yl:function(){return M},iS:function(){return w},m2:function(){return P},uW:function(){return k}});var o=a(7314),r=a(7863),e=a(2693),l=a(3272),I=a(8969),x=a(5023),L=a(9214),g=a(1371),ie=a(2449),ee=a(5901),O=a(1069),f=a(433),c=a(2713),_=[],C="targetingControls.allowTargetingKeys",h="targetingControls.addTargetingKeys",D='Only one of "'.concat(C,'" or "').concat(h,'" can be set'),U=Object.keys(I.xS).map(function(E){return I.xS[E]}),k={isActualBid:function(E){return E.getStatusCode()===I.XQ.GOOD},isBidNotExpired:function(E){return E.responseTimestamp+1e3*(0,r.cT)(E)>(0,O.vE)()},isUnusedBid:function(E){return E&&(E.status&&!(0,ee.mK)([I.tl.RENDERED],E.status)||!E.status)}};function M(E){return!Object.values(k).some(function(S){return!S(E)})}var Y=(0,L.A_)("sync",function(E,S){var A,B,oe,J=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,z=3<arguments.length&&arguments[3]!==void 0&&arguments[3],re=4<arguments.length&&arguments[4]!==void 0?arguments[4]:O.Q0;return z?E:(A=[],B=l.$W.getConfig("sendBidsControl.dealPrioritization"),oe=(0,O.$z)(E,"adUnitCode"),Object.keys(oe).forEach(function(ge){var W=[],Z=(0,O.$z)(oe[ge],"bidderCode");Object.keys(Z).forEach(function(j){W.push(Z[j].reduce(S))}),J?(W=B?W.sort(X(!0)):W.sort(function(j,N){return N.cpm-j.cpm}),A.push.apply(A,W.slice(0,J))):(W=W.sort(re),A.push.apply(A,W))}),A)});function X(E){var S=0<arguments.length&&E!==void 0&&E;return function(A,B){return A.adserverTargeting.hb_deal!==void 0&&B.adserverTargeting.hb_deal===void 0?-1:A.adserverTargeting.hb_deal===void 0&&B.adserverTargeting.hb_deal!==void 0?1:S?B.cpm-A.cpm:B.adserverTargeting.hb_pb-A.adserverTargeting.hb_pb}}function P(E,S){return(2<arguments.length&&arguments[2]!==void 0?arguments[2]:function(){return window.googletag.pubads().getSlots()})().reduce(function(A,B){var oe=(0,O.fp)(S)&&S(B);return Object.keys(A).filter((0,O.fp)(oe)?oe:(0,O.iC)(B)).forEach(function(J){return A[J].push(B)}),A},Object.fromEntries(E.map(function(A){return[A,[]]})))}R=o.n,Q={},(K={}).setLatestAuctionForAdUnit=function(E,S){Q[E]=S},K.resetPresetTargeting=function(E,S){(0,O.II)()&&(E=p(E),Object.values(P(E,S)).forEach(function(A){A.forEach(function(B){var oe;oe=B,_.forEach(function(J){oe.getTargeting(J)&&oe.clearTargeting(J)})})}))},K.resetPresetTargetingAST=function(E){p(E).forEach(function(S){var A,B,oe=window.apntag.getTag(S);oe&&oe.keywords&&(A=Object.keys(oe.keywords),B={},A.forEach(function(J){(0,ee.mK)(_,J.toLowerCase())||(B[J]=oe.keywords[J])}),window.apntag.modifyTag(S,{keywords:B}))})},K.getAllTargeting=function(Z,S,Oe){var B,oe,J,z,re,ge,W,se=3<arguments.length&&arguments[3]!==void 0?arguments[3]:c.Vk,pe=4<arguments.length&&arguments[4]!==void 0?arguments[4]:O.Q0,Z=(Oe=Oe||T(se,pe),p(Z)),ne=l.$W.getConfig("enableSendAllBids"),j=l.$W.getConfig("sendBidsControl.bidLimit"),ne=ne&&(S||j)||0,j=(B=Z,S=Oe,oe=[],J={},z=l.$W.getConfig("targetingControls.alwaysIncludeDeals"),S.forEach(function(we){var te,H=(0,ee.mK)(B,we.adUnitCode),ye=e.u.get(we.bidderCode,"allowZeroCpmBids")===!0?0<=we.cpm:0<we.cpm,Ce=z&&we.dealId;H&&(Ce||ye)&&(oe.push(we),Object.keys(we.adserverTargeting).filter((te=(te=m()).concat(ie.Nh),function(Se){return te.indexOf(Se)===-1})).forEach(function(Pe){var De=Pe.substring(0,20),_e=J[we.adUnitCode]||{},Pe=[we.adserverTargeting[Pe]];_e[De]?_e[De]=_e[De].concat(Pe).filter(O.hj):_e[De]=Pe,J[we.adUnitCode]=_e}))}),{filteredBids:oe,customKeysByUnit:J}),Oe=j.customKeysByUnit,ve=(S=Y(j.filteredBids,se,ne,void 0,pe),j=Oe,se=Z,ne=l.$W.getConfig("targetingControls.allBidsCustomTargeting")!==!1,pe=K.getWinningBids(pe=se,S),ge=m(),pe=(pe=pe.map(function(we){var te={};return te[we.adUnitCode]=Object.keys(we.adserverTargeting).filter(function(H){return we.sendStandardTargeting===void 0||we.sendStandardTargeting||ge.indexOf(H)===-1}).reduce(function(H,ye){var Ce,Se,De=[we.adserverTargeting[ye]];return(Se={})[ye.substring(0,20)]=De,ye===I.xS.DEAL?((Ce={})["".concat(ye,"_").concat(we.bidderCode).substring(0,20)]=De,ye=Ce,be(be([],H,!0),[Se,ye],!1)):be(be([],H,!0),[Se],!1)},[]),te})).concat((pe=S,Oe=l.$W.getConfig("targetingControls.alwaysIncludeDeals"),u(pe,l.$W.getConfig("enableSendAllBids"),Oe))).concat((re=se,R.getAdUnits().filter(function(we){return re.includes(we.code)&&N(we)}).reduce(function(we,te){ye=N(te);var H,ye,Ce=Object.keys(ye).map(function(Se){var De;return(0,O.O8)(ye[Se])&&(ye[Se]=ye[Se].split(",").map(function(_e){return _e.trim()})),(0,O.cy)(ye[Se])||(ye[Se]=[ye[Se]]),(De={})[Se]=ye[Se],De});return Ce&&we.push(((H={})[te.code]=Ce,H)),we},[]))),ne&&pe.push.apply(pe,(W=j,S.reduce(function(we,ye){var H,ye=Object.assign({},ye),Ce=W[ye.adUnitCode],Se=[];return Ce&&Object.keys(Ce).forEach(function(De){var _e;De&&Ce[De]&&Se.push(((_e={})[De]=Ce[De],_e))}),we.push(((H={})[ye.adUnitCode]=Se,H)),we},[]))),pe.forEach(function(we){var te;te=we,Object.keys(te).forEach(function(H){te[H].forEach(function(ye){ye=Object.keys(ye),_.indexOf(ye[0])===-1&&(_=ye.concat(_))})})}),pe);function N(we){return we==null?void 0:we[I.iD.ADSERVER_TARGETING]}var q,he,ue,me,Oe=Object.keys(Object.assign({},I.Zh,I.x5)),se=l.$W.getConfig(C),ne=l.$W.getConfig(h);if(ne!=null&&se!=null)throw new Error(D);se=ne!=null?Oe.concat(ne):se||Oe,Array.isArray(se)&&0<se.length&&(j=ve,q=se,he=Object.assign({},I.xS,I.x5),ue=Object.keys(he),me={},(0,O.fH)("allowTargetingKeys - allowed keys [ ".concat(q.map(function(we){return he[we]}).join(", ")," ]")),j.map(function(we){var te=Object.keys(we)[0],H=we[te].filter(function(Se){var Ce=Object.keys(Se)[0],Se=ue.filter(function(De){return Ce.indexOf(he[De])===0}).length===0||(0,ee.I6)(q,function(De){return De=he[De],Ce.indexOf(De)===0});return me[Ce]=!Se,Se});we[te]=H}),S=Object.keys(me).filter(function(we){return me[we]}),(0,O.fH)("allowTargetingKeys - removed keys [ ".concat(S.join(", ")," ]")),ve=j.filter(function(we){return 0<we[Object.keys(we)[0]].length}));var de,ce,ve=ve.map(function(we){var te={};return te[Object.keys(we)[0]]=we[Object.keys(we)[0]].map(function(H){var ye={};return ye[Object.keys(H)[0]]=H[Object.keys(H)[0]].join(","),ye}).reduce(function(H,ye){return Object.assign(ye,H)},{}),te}).reduce(function(we,te){var H=Object.keys(te)[0];return we[H]=Object.assign({},we[H],te[H]),we},{}),pe=l.$W.getConfig("targetingControls.auctionKeyMaxChars");return pe&&((0,O.fH)("Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of ".concat(pe," characters.  Running checks on auction keys...")),ne=ve,de=pe,ce=(0,O.Go)(ne),ve=Object.keys(ce).map(function(we){return{adUnitCode:we,adserverTargeting:ce[we]}}).sort(X()).reduce(function(we,Se,H,ye){Ce=Se.adserverTargeting;var Ce,De=Object.keys(Ce).reduce(function(_e,Pe){return _e+"".concat(Pe,"%3d").concat(encodeURIComponent(Ce[Pe]),"%26")},""),Se=(H+1===ye.length&&(De=De.slice(0,-3)),Se.adUnitCode),De=De.length;return De<=de?(de-=De,(0,O.fH)("AdUnit '".concat(Se,"' auction keys comprised of ").concat(De," characters.  Deducted from running threshold; new limit is ").concat(de),ce[Se]),we[Se]=ce[Se]):(0,O.JE)("The following keys for adUnitCode '".concat(Se,"' exceeded the current limit of the 'auctionKeyMaxChars' setting.\nThe key-set size was ").concat(De,", the current allotted amount was ").concat(de,".\n"),ce[Se]),H+1===ye.length&&Object.keys(we).length===0&&(0,O.vV)("No auction targeting keys were permitted due to the setting in setConfig(targetingControls.auctionKeyMaxChars).  Please review setup and consider adjusting."),we},{})),Z.forEach(function(we){ve[we]||(ve[we]={})}),ve},l.$W.getConfig("targetingControls",function(E){(0,f.A)(E,C)!=null&&(0,f.A)(E,h)!=null&&(0,O.vV)(D)}),K.setTargetingForGPT=(0,L.A_)("sync",function(E,S){var A=K.getAllTargeting(E),B=Object.fromEntries(_.map(function(oe){return[oe,null]}));Object.entries(P(Object.keys(A),S)).forEach(function(oe){var J=oe[0];oe[1].forEach(function(z){Object.keys(A[J]).forEach(function(re){var ge=A[J][re];typeof ge=="string"&&ge.indexOf(",")!==-1&&(ge=ge.split(",")),A[J][re]=ge}),(0,O.OG)("Attempting to set targeting-map for slot: ".concat(z.getSlotElementId()," with targeting-map:"),A[J]),z.updateTargetingFromMap(Object.assign({},B,A[J]))})}),Object.keys(A).forEach(function(oe){Object.keys(A[oe]).forEach(function(J){J==="hb_adid"&&R.setStatusForBids(A[oe][J],I.tl.BID_TARGETING_SET)})}),K.targetingDone(A),x.Ic(I.qY.SET_TARGETING,A)},"setTargetingForGPT"),K.targetingDone=(0,L.A_)("sync",function(E){return E},"targetingDone"),K.getWinningBids=function(E,S){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:c.Vk,B=3<arguments.length&&arguments[3]!==void 0?arguments[3]:O.Q0,oe=S||T(A,B),J=p(E);return oe.filter(function(z){return(0,ee.mK)(J,z.adUnitCode)}).filter(function(z){return e.u.get(z.bidderCode,"allowZeroCpmBids")===!0?0<=z.cpm:0<z.cpm}).map(function(z){return z.adUnitCode}).filter(O.hj).map(function(z){return oe.filter(function(re){return re.adUnitCode===z?re:null}).reduce(c.Vk)})},K.setTargetingForAst=function(E){var S=K.getAllTargeting(E);try{K.resetPresetTargetingAST(E)}catch(A){(0,O.vV)("unable to reset targeting for AST"+A)}Object.keys(S).forEach(function(A){return Object.keys(S[A]).forEach(function(B){var oe;(0,O.OG)("Attempting to set targeting for targetId: ".concat(A," key: ").concat(B," value: ").concat(S[A][B])),((0,O.O8)(S[A][B])||(0,O.cy)(S[A][B]))&&(oe={},B.search(/pt[0-9]/)<0?oe[B.toUpperCase()]=S[A][B]:oe[B]=S[A][B],window.apntag.setKeywords(A,oe,{overrideKeyValue:!0}))})})},K.isApntagDefined=function(){if(window.apntag&&(0,O.fp)(window.apntag.setKeywords))return!0};var R,K,Q,w=K;function u(E,z,A){var B=1<arguments.length&&z!==void 0&&z,oe=2<arguments.length&&A!==void 0&&A,J=U.concat(ie.Nh),z=l.$W.getConfig("targetingControls.allowSendAllBidsTargetingKeys"),re=z?z.map(function(ge){return I.xS[ge]}):J;return E.reduce(function(ge,W){var Z,j,N;return(B||oe&&W.dealId)&&(N=W,j=J.filter(function(q){return W.adserverTargeting[q]!==void 0&&(oe||re.indexOf(q)!==-1)}).reduce(function(q,he){var ue;return N.adserverTargeting[he]&&q.push(((ue={})["".concat(he,"_").concat(N.bidderCode).substring(0,20)]=[N.adserverTargeting[he]],ue)),q},[]))&&ge.push(((Z={})[W.adUnitCode]=j,Z)),ge},[])}function p(E){return typeof E=="string"?[E]:(0,O.cy)(E)?E:R.getAdUnitCodes()||[]}function T(A,B){var A=0<arguments.length&&A!==void 0?A:c.Bq,B=1<arguments.length&&B!==void 0?B:void 0,oe=R.getBidsReceived().reduce(function(J,z){var re=l.$W.getConfig("useBidCache"),W=l.$W.getConfig("bidCacheFilterFunction"),ge=Q[z.adUnitCode]===z.auctionId,W=!(re&&!ge&&typeof W=="function"&&!W(z));return(re||ge)&&W&&(0,f.A)(z,"video.context")!==g.LM&&M(z)&&(z.latestTargetedAuctionId=Q[z.adUnitCode],J.push(z)),J},[]);return Y(oe,A,void 0,void 0,void 0,B)}function m(){return R.getStandardBidderAdServerTargeting().map(function(E){return E.key}).concat(U).filter(O.hj)}},8230:function(s,ie,a){a.d(ie,{qh:function(){return D},zt:function(){return k}});var o,r,e,l,I,x,L,g=a(1069),ie=a(3272),ee=a(5901),O=a(2938),f=a(5139),c=a(6811),_=a(2604),C=a(5569),h=a(3441),D={syncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3e3,auctionDelay:500},U=(ie.$W.setDefaults({userSync:(0,g.Go)(D)}),(0,O.CK)("usersync")),k=(o=Object.defineProperties({config:ie.$W.getConfig("userSync"),isAllowed:f.io,regRule:f.qB},{browserSupportsCookies:{get:function(){return!(0,g.Vt)()&&U.cookiesAreEnabled()}}}),r={},e={image:[],iframe:[]},l=new Set,x={image:!0,iframe:!(I={})},L=o.config,ie.$W.getConfig("userSync",function(X){var P;X.userSync&&(P=X.userSync.filterSettings,!(0,g.Qd)(P)||P.image||P.all||(X.userSync.filterSettings.image={bidders:"*",filter:"include"})),L=Object.assign(L,X.userSync)}),o.regRule(c.Ml,"userSync config",function(X){if(!L.syncEnabled)return{allow:!1,reason:"syncs are disabled"};if(X[_.Dk]===C.tW){var P=X[_.bt],X=X[_.iK];if(!r.canBidderRegisterSync(P,X))return{allow:!1,reason:"".concat(P," syncs are not enabled for ").concat(X)}}}),r.registerSync=function(X,P,R){var K;return l.has(P)?(0,g.OG)('already fired syncs for "'.concat(P,'", ignoring registerSync call')):L.syncEnabled&&(0,g.cy)(e[X])?P?L.syncsPerBidder!==0&&Number(I[P])>=L.syncsPerBidder?(0,g.JE)('Number of user syncs exceeded for "'.concat(P,'"')):void(o.isAllowed(c.Ml,(0,h.s)(C.tW,P,((K={})[_.bt]=X,K[_.e3]=R,K)))&&(e[X].push([P,R]),(K=I)[R=P]?K[R]+=1:K[R]=1,I=K)):(0,g.JE)("Bidder is required for registering sync"):(0,g.JE)('User sync type "'.concat(X,'" not supported'))},r.bidderDone=l.add.bind(l),r.syncUsers=function(){var X=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0;if(X)return setTimeout(M,Number(X));M()},r.triggerUserSyncs=function(){L.enableOverride&&r.syncUsers()},r.canBidderRegisterSync=function(X,P){return!(L.filterSettings&&(X=X,P=P,w=L.filterSettings,K=X,((R=w).all&&R[K]?((0,g.JE)('Detected presence of the "filterSettings.all" and "filterSettings.'.concat(K,'" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.')),0):(Q=R.all||R[K],R=R.all?"all":K,Q?(K=Q.filter,Q=Q.bidders,K&&K!=="include"&&K!=="exclude"?((0,g.JE)('UserSync "filterSettings.'.concat(R,".filter\" setting '").concat(K,"' is not a valid option; use either 'include' or 'exclude'.")),0):Q==="*"||Array.isArray(Q)&&0<Q.length&&Q.every(function(u){return(0,g.O8)(u)&&u!=="*"})||((0,g.JE)('Detected an invalid setup in userSync "filterSettings.'.concat(R,".bidders\"; use either '*' (to represent all bidders) or an array of bidders.")),0)):void 0))?(x[X]=!0,Q=(K=w.all||w[X]).bidders==="*"?[P]:K.bidders,{include:function(u,p){return!(0,ee.mK)(u,p)},exclude:function(u,p){return(0,ee.mK)(u,p)}}[K.filter||"include"](Q,P)):!x[X]));var R,K,Q,w},r);function M(){if(L.syncEnabled&&o.browserSupportsCookies){try{x.iframe&&Y(e.iframe,function(K){var P,R=K[0],K=K[1];(0,g.OG)("Invoking iframe user sync for bidder: ".concat(R)),(0,g.SG)(K),P=R,(K=e).image=K.image.filter(function(Q){return Q[0]!==P})}),x.image&&Y(e.image,function(R){var P=R[0],R=R[1];(0,g.OG)("Invoking image pixel user sync for bidder: ".concat(P)),(0,g.z$)(R)})}catch(X){return(0,g.vV)("Error firing user syncs",X)}e={image:[],iframe:[]}}}function Y(X,P){(0,g.k4)(X).forEach(P)}},1069:function(s,L,_){_.d(L,{$D:function(){return p},$l:function(){return At},$z:function(){return rt},Bg:function(){return gt},Bj:function(){return mt},Bk:function(){return xe},Bq:function(){return ke},CA:function(){return Oe},D4:function(){return Qe},D9:function(){return ln},Dl:function(){return un},El:function(){return Rt},Et:function(){return pe},Ez:function(){return se},Fq:function(){return Ot},GE:function(){return Ye},Go:function(){return dt},II:function(){return et},Im:function(){return H},JE:function(){return Z},Lm:function(){return te},N9:function(){return ze},O8:function(){return ce},OG:function(){return ge},PB:function(){return Ct},Q0:function(){return lt},Qd:function(){return we},SB:function(){return at},SG:function(){return We},SH:function(){return tt},Tz:function(){return Ue},U6:function(){return Ze},Up:function(){return kt},Uu:function(){return Ut},V:function(){return qe},Vt:function(){return Ge},ZA:function(){return He},ZU:function(){return Je},_s:function(){return De},al:function(){return Be},bD:function(){return Lt},bL:function(){return u},bM:function(){return E},bu:function(){return Ce},bz:function(){return It},c$:function(){return In},cD:function(){return M},cf:function(){return A},cy:function(){return ve},dp:function(){return he},eP:function(){return Pt},fH:function(){return W},fp:function(){return de},gM:function(){return $e},gR:function(){return Se},h0:function(){return N},hj:function(){return Me},hw:function(){return me},iC:function(){return yt},k4:function(){return it},kK:function(){return m},kL:function(){return ft},l4:function(){return z},l9:function(){return pt},lk:function(){return Q},mM:function(){return P},mb:function(){return J},n7:function(){return S},nX:function(){return B},ro:function(){return Ne},s0:function(){return K},sC:function(){return ht},t1:function(){return st},u5:function(){return w},vE:function(){return Ke},vV:function(){return j},wD:function(){return nt},wV:function(){return wt},xQ:function(){return ye},y$:function(){return T},z$:function(){return Pe}});var o,r=_(3272),e=_(5751),l=_(5901),I=_(8969),x=_(5555),L=_(7873),g="String",ie="Function",ee="Number",O="Object",f="Boolean",c=Object.prototype.toString,_=!!window.console,C=!!(_&&window.console.log),h=!!(_&&window.console.info),D=!!(_&&window.console.warn),U=!!(_&&window.console.error),k=(0,L.m)();function M(Re){o=Re}function Y(){o!=null&&o.apply(void 0,arguments)}var X,P={checkCookieSupport:Ye,createTrackPixelIframeHtml:function(Re){var Le=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1],je=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"";return Re?(Le&&(Re=encodeURI(Re)),je=je&&'sandbox="'.concat(je,'"'),"<iframe ".concat(je,' id="').concat(K(),'"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="').concat(Re,'">\n    </iframe>')):""},getWindowSelf:z,getWindowTop:J,canAccessWindowTop:function(){try{if(P.getWindowTop().location.href)return!0}catch{return!1}},getWindowLocation:re,insertUserSyncIframe:We,insertElement:De,isFn:de,triggerPixel:Pe,logError:j,logWarn:Z,logMessage:ge,logInfo:W,parseQS:Nt,formatQS:Pt,deepEqual:Lt},R=(X=0,function(){return++X});function K(){return R()+Math.random().toString(16).substr(2)}function Q(Re){return Re?(Re^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>Re/4).toString(16):("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,Q)}function w(Re,Le){return(Le==null?void 0:Le[Re])||""}function u(Re){var Le,je="";for(Le in Re)Re.hasOwnProperty(Le)&&(je+=Le+"="+encodeURIComponent(Re[Le])+"&");return je=je.replace(/&$/,"")}function p(Re){return Re&&0<Object.getOwnPropertyNames(Re).length?Object.keys(Re).map(function(Le){return"".concat(Le,"=").concat(encodeURIComponent(Re[Le]))}).join("&"):""}function T(Re){return typeof Re=="string"?Re.split(/\s*,\s*/).map(function(Le){return Le.match(/^(\d+)x(\d+)$/i)}).filter(function(Le){return Le}).map(function(Le){Le[0];var je=Le[2];return[parseInt(Le[1],10),parseInt(je,10)]}):Array.isArray(Re)?oe(Re)?[Re]:Re.filter(oe):[]}function m(Re){return T(Re).map(E)}function E(Re){return Re[0]+"x"+Re[1]}function S(Re){if(oe(Re))return E(Re)}function A(Re){return{w:Re[0],h:Re[1]}}function B(Re){if(oe(Re))return A(Re)}function oe(Re){return ve(Re)&&Re.length===2&&!isNaN(Re[0])&&!isNaN(Re[1])}function J(){return window.top}function z(){return window.self}function re(){return window.location}function ge(){he()&&C&&console.log.apply(console,q(arguments,"MESSAGE:"))}function W(){he()&&h&&console.info.apply(console,q(arguments,"INFO:"))}function Z(){he()&&D&&console.warn.apply(console,q(arguments,"WARNING:")),Y(I.qY.AUCTION_DEBUG,{type:"WARNING",arguments})}function j(){he()&&U&&console.error.apply(console,q(arguments,"ERROR:")),Y(I.qY.AUCTION_DEBUG,{type:"ERROR",arguments})}function N(Re){function Le(je){return function(){for(var Xe=arguments.length,ot=new Array(Xe),ct=0;ct<Xe;ct++)ot[ct]=arguments[ct];je.apply(void 0,be([Re],ot,!1))}}return{logError:Le(j),logWarn:Le(Z),logMessage:Le(ge),logInfo:Le(W)}}function q(Re,Le){Re=[].slice.call(Re);var je=r.$W.getCurrentBidder();return Le&&Re.unshift(Le),je&&Re.unshift(Xe("#aaa")),Re.unshift(Xe("#3b88c3")),Re.unshift("%cPrebid"+(je?"%c".concat(je):"")),Re;function Xe(ot){return"display: inline-block; color: #fff; background: ".concat(ot,"; padding: 1px 4px; border-radius: 3px;")}}function he(){return!!r.$W.getConfig("debug")}ue={border:"0px",hspace:"0",vspace:"0",marginWidth:"0",marginHeight:"0",scrolling:"no",frameBorder:"0",allowtransparency:"true"};var ue,me=function(Xe,Le){var je=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},Xe=Xe.createElement("iframe");return Object.assign(Xe,Object.assign({},ue,Le)),Object.assign(Xe.style,je),Xe};function Oe(){return me(document,{id:K(),width:0,height:0,src:"about:blank"},{display:"none",height:"0px",width:"0px",border:"0px"})}function se(Re){return Nt(re().search)[Re]||""}function ne(Re,Le){return c.call(Re)==="[object "+Le+"]"}function de(Re){return ne(Re,ie)}function ce(Re){return ne(Re,g)}var ve=Array.isArray.bind(Array);function pe(Re){return ne(Re,ee)}function we(Re){return ne(Re,O)}function te(Re){return ne(Re,f)}function H(Re){return!Re||(ve(Re)||ce(Re)?!(0<Re.length):Object.keys(Re).length<=0)}function ye(Re){return ce(Re)&&(!Re||Re.length===0)}function Ce(Re,Le){var je=this;if(de(Re==null?void 0:Re.forEach))return Re.forEach(Le,this);Object.entries(Re||{}).forEach(function(Xe){var ot=Xe[0];return Le.call(je,Xe[1],ot)})}function Se(Re,Le){return de(Re==null?void 0:Re.includes)&&Re.includes(Le)}function De(Re,Le,je,Xe){var ot;Le=Le||document,je=je?Le.getElementsByTagName(je):Le.getElementsByTagName("head");try{if((je=je.length?je:Le.getElementsByTagName("body")).length)return je=je[0],ot=Xe?null:je.firstChild,je.insertBefore(Re,ot)}catch{}}function _e(Re,Le){var je=null;return new x.U9(function(Xe){var ot=function(){Re.removeEventListener("load",ot),Re.removeEventListener("error",ot),je!=null&&window.clearTimeout(je),Xe()};Re.addEventListener("load",ot),Re.addEventListener("error",ot),Le!=null&&(je=window.setTimeout(ot,Le))})}function Pe(Re,Le,je){var Xe=new Image;Le&&P.isFn(Le)&&_e(Xe,je).then(Le),Xe.src=Re}function Ne(Re){var Le;Re&&(Le=Oe(),P.insertElement(Le,document,"body"),(Le=Le.contentWindow.document).open(),Le.write(Re),Le.close())}function We(ot,Le,je){var ot=P.createTrackPixelIframeHtml(ot,!1,"allow-scripts allow-same-origin"),Xe=document.createElement("div"),ot=(Xe.innerHTML=ot,Xe.firstChild);Le&&P.isFn(Le)&&_e(ot,je).then(Le),P.insertElement(ot,document,"html",!0)}function Ue(Re){var Le=1<arguments.length&&arguments[1]!==void 0?arguments[1]:encodeURI;return Re?'<div style="position:absolute;left:0px;top:0px;visibility:hidden;">'+('<img src="'+Le(Re))+'"></div>':""}function xe(Re){return Array.from(Re.matchAll(/\$({[^}]+})/g)).map(function(Le){return Le[1]}).reduce(function(Le,je){return Le.replace("$"+encodeURIComponent(je),"$"+je)},encodeURI(Re))}function Me(Re,Le,je){return je.indexOf(Re)===Le}function ke(Re,Le){return Re.concat(Le)}function Qe(Re,Le){if(Re)return Le.flatMap(function(je){return je.bids}).find(function(je){return["bidId","adId","bid_id"].some(function(Xe){return je[Xe]===Re})})}function He(){return(0<arguments.length&&arguments[0]!==void 0?arguments[0]:k.adUnits).map(function(Re){return Re.bids.map(function(Le){return Le.bidder}).reduce(ke,[])}).reduce(ke,[]).filter(function(Re){return Re!==void 0}).filter(Me)}function et(){if(window.googletag&&de(window.googletag.pubads)&&de(window.googletag.pubads().getSlots))return!0}function st(){if(window.apntag&&de(window.apntag.getTag))return!0}var lt=function(Re,Le){return Le.cpm-Re.cpm};function it(Re){for(var Le=Re.length;0<Le;){var je=Math.floor(Math.random()*Le),Xe=Re[--Le];Re[Le]=Re[je],Re[je]=Xe}return Re}function dt(Re){return(0,e.Q)(Re)||{}}function Be(){try{return P.getWindowSelf()!==P.getWindowTop()}catch{return!0}}function Ge(){return/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)}function $e(Re,Le){if(Re)return Object.entries(Le).reduce(function(je,ct){var ot=ct[0],ct=ct[1];return je.replace(new RegExp("\\$\\{"+ot+"\\}","g"),ct||"")},Re)}function Je(Re,Le){return $e(Re,{AUCTION_PRICE:Le})}function Ke(){return new Date().getTime()}function qe(){return window.performance&&window.performance.now&&window.performance.now()||0}function ze(){return r.$W.getConfig("deviceAccess")!==!1}function Ye(){if(window.navigator.cookieEnabled||document.cookie.length)return!0}function Ze(Re,Le){if(Le<1)throw new Error("numRequiredCalls must be a positive number. Got ".concat(Le));var je=0;return function(){++je===Le&&Re.apply(this,arguments)}}function rt(Re,Le){return Re.reduce(function(je,Xe){return(je[Xe[Le]]=je[Xe[Le]]||[]).push(Xe),je},{})}function tt(Re,Le){return Le.filter(function(je){return Re[je]}).reduce(function(je,Xe){return Object.assign(je,((je={})[Xe]=Re[Xe],je))},{})}function nt(Re){var Le=["banner","native","video"];return!!Object.keys(Re).every(function(je){return(0,l.mK)(Le,je)})&&(!Re.video||!Re.video.context||(0,l.mK)(["instream","outstream","adpod"],Re.video.context))}function at(Re,Le,je){return Re.filter(function(Xe){return Xe.code===Le}).flatMap(function(Xe){return Xe.bids}).filter(function(Xe){return Xe.bidder===je}).map(function(Xe){return Xe.params||{}})}function pt(){return navigator.doNotTrack==="1"||window.doNotTrack==="1"||navigator.msDoNotTrack==="1"||navigator.doNotTrack==="yes"}var ht=function(Re,Le){return Re.getAdUnitPath()===Le||Re.getSlotElementId()===Le};function yt(Re){return function(Le){return ht(Re,Le)}}function It(Re,Le){var je=Object.keys(Re.mediaTypes||{banner:"banner"}).join(", ");return"\n    ".concat(Re.code," is a ").concat(je," ad unit\n    containing bidders that don't support ").concat(je,": ").concat(Le,".\n    This bidder won't fetch demand.\n  ")}var Ot=Number.isInteger.bind(Number);function kt(Re,Le){return typeof Re!="object"?{}:Le.reduce(function(je,Xe,ot){var ct,vt;return typeof Xe!="function"&&((vt=(ct=Xe).match(/^(.+?)\sas\s(.+?)$/i))&&(Xe=vt[1],ct=vt[2]),vt=Re[Xe],(vt=typeof Le[ot+1]=="function"?Le[ot+1](vt,je):vt)!==void 0)&&(je[ct]=vt),je},{})}function Ut(Re,Le){return ve(Re)&&(!Le||Re.length===Le)&&Re.every(function(je){return Ot(je)})}function Nt(Re){return Re?Re.replace(/^\?/,"").split("&").reduce(function(Le,ot){var ot=ot.split("="),Xe=ot[0],ot=ot[1];return/\[\]$/.test(Xe)?(Le[Xe=Xe.replace("[]","")]=Le[Xe]||[],Le[Xe].push(ot)):Le[Xe]=ot||"",Le},{}):{}}function Pt(Re){return Object.keys(Re).map(function(Le){return Array.isArray(Re[Le])?Re[Le].map(function(je){return"".concat(Le,"[]=").concat(je)}).join("&"):"".concat(Le,"=").concat(Re[Le])}).join("&")}function un(Xe,Le){var je=document.createElement("a"),Xe=(Le&&"noDecodeWholeURL"in Le&&Le.noDecodeWholeURL?je.href=Xe:je.href=decodeURIComponent(Xe),Le&&"decodeSearchAsString"in Le&&Le.decodeSearchAsString);return{href:je.href,protocol:(je.protocol||"").replace(/:$/,""),hostname:je.hostname,port:+je.port,pathname:je.pathname.replace(/^(?!\/)/,"/"),search:Xe?je.search:P.parseQS(je.search||""),hash:(je.hash||"").replace(/^#/,""),host:je.host||window.location.host}}function In(Re){return(Re.protocol||"http")+"://"+(Re.host||Re.hostname+(Re.port?":".concat(Re.port):""))+(Re.pathname||"")+(Re.search?"?".concat(P.formatQS(Re.search||"")):"")+(Re.hash?"#".concat(Re.hash):"")}function Lt(Re,Le){var je=(2<arguments.length&&arguments[2]!==void 0?arguments[2]:{}).checkTypes,Xe=je!==void 0&&je;if(Re!==Le){if(typeof Re!="object"||Re===null||typeof Le!="object"||Le===null)return!1;var je=Array.isArray(Re),ot=Array.isArray(Le);if(je&&ot){if(Re.length!==Le.length)return!1;for(var ct=0;ct<Re.length;ct++)if(!Lt(Re[ct],Le[ct],{checkTypes:Xe}))return!1}else{if(je||ot||Xe&&Re.constructor!==Le.constructor||(je=Object.keys(Re),ot=Object.keys(Le),je.length!==ot.length))return!1;for(var vt=0,Et=je;vt<Et.length;vt++){var St=Et[vt];if(!Object.prototype.hasOwnProperty.call(Le,St)||!Lt(Re[St],Le[St],{checkTypes:Xe}))return!1}}}return!0}function ln(Re){for(var Le=0;Le<(arguments.length<=1?0:arguments.length-1);Le++){var je=Le+1<1||arguments.length<=Le+1?void 0:arguments[Le+1];we(je)&&function Xe(ot,ct){if(!(!we(ot)||!we(ct)))for(var vt=Object.keys(ct),Et=function(_t){var Tt=vt[_t];if(Tt==="__proto__"||Tt==="constructor")return"continue";_t=ct[Tt],we(_t)?(ot[Tt]||(ot[Tt]={}),Xe(ot[Tt],_t)):Array.isArray(_t)?Array.isArray(ot[Tt])?_t.forEach(function(dr){ot[Tt].some(function(hd){return Lt(hd,dr)})||ot[Tt].push(dr)}):ot[Tt]=be([],_t,!0):ot[Tt]=_t},St=0;St<vt.length;St++)Et(St)}(Re,je)}return Re}function Ct(Re){for(var Le,je=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,Xe=function(Et,St){var _t;return de(Math.imul)?Math.imul(Et,St):(_t=(4194303&Et)*(St|=0),4290772992&Et&&(_t+=(4290772992&Et)*St|0),0|_t)},ot=3735928559^je,ct=1103547991^je,vt=0;vt<Re.length;vt++)ot=Xe(ot^(Le=Re.charCodeAt(vt)),2654435761),ct=Xe(ct^Le,1597334677);return ot=Xe(ot^ot>>>16,2246822507)^Xe(ct^ct>>>13,3266489909),(4294967296*(2097151&(ct=Xe(ct^ct>>>16,2246822507)^Xe(ot^ot>>>13,3266489909)))+(ot>>>0)).toString()}function At(Re){try{return JSON.parse(Re)}catch{}}function wt(Re){try{return JSON.stringify(Re)}catch{return""}}function mt(Re){function Le(){var ot=je.apply(this,arguments);return Xe.has(ot)||Xe.set(ot,Re.apply(this,arguments)),Xe.get(ot)}var je=1<arguments.length&&arguments[1]!==void 0?arguments[1]:function(ot){return ot},Xe=new Map;return Le.clear=Xe.clear.bind(Xe),Le}function gt(Re,Le){Object.entries(Le).forEach(function(je){var Xe=je[0];return Re.setAttribute(Xe,je[1])})}function Rt(Re,Le){for(var je=2<arguments.length&&arguments[2]!==void 0?arguments[2]:function(Et){return Et},Xe=0,ot=Re.length&&Re.length-1,ct=je(Le);1<ot-Xe;){var vt=Xe+Math.round((ot-Xe)/2);ct>je(Re[vt])?Xe=vt:ot=vt}for(;Re.length>Xe&&ct>je(Re[Xe]);)Xe++;return Xe}function ft(Re){var Le,je=1<arguments.length&&arguments[1]!==void 0?arguments[1]:new Set;for(Le in Re){var Xe=Re[Le],ot=typeof Xe;if(Xe===void 0||ot=="function"||ot=="symbol"||Xe instanceof RegExp||Xe instanceof Map||Xe instanceof Set||Xe instanceof Date||Xe!==null&&ot=="object"&&Xe.hasOwnProperty("toJSON")||Xe!==null&&ot=="object"&&Xe.constructor===Object&&(je.has(Xe)||(je.add(Xe),ft(Xe,je))))return!0}return!1}},7176:function(s,$,a){a.d($,{y:function(){return l}});var o=a(7314),r=a(2693),e=a(1069);function l(I,x,L){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},g=O.index,g=g===void 0?o.n.index:g,O=O.bs,O=O===void 0?r.u:O,g=(L=L||g.getBidRequest(x),x==null?void 0:x.adapterCode),ie=(x==null?void 0:x.bidderCode)||(L==null?void 0:L.bidder),ee=O.get(x==null?void 0:x.adapterCode,"adjustAlternateBids"),O=O.getOwn(ie,"bidCpmAdjustment")||O.get(ee?g:ie,"bidCpmAdjustment");if(O&&typeof O=="function")try{return O(I,Object.assign({},x),L)}catch(f){(0,e.vV)("Error during bid adjustment",f)}return I}},2621:function(s,$,a){function o(r){return!(r!=null&&r.gdprApplies)||((r=(r=(r=r==null?void 0:r.vendorData)==null?void 0:r.purpose)==null?void 0:r.consents)==null?void 0:r[1])===!0}a.d($,{C:function(){return o}})},6894:function(s,o,a){a.d(o,{Ak:function(){return M},BO:function(){return h},K7:function(){return U},NL:function(){return Y}});var o=a(3272),r="performanceMetrics",e=window.performance&&window.performance.now?function(){return window.performance.now()}:function(){return Date.now()},l=new WeakMap;function I(P){var P=0<arguments.length&&P!==void 0?P:{},u=P.now,R=u===void 0?e:u,u=P.mkNode,K=u===void 0?g:u,u=P.mkTimer,Q=u===void 0?L:u,u=P.mkRenamer,w=u===void 0?function(T){return T}:u,u=P.nodes,p=u===void 0?l:u;return function(){return function T(m){function E(z){return m.dfWalk({visit:function(re,ge){if(ge=ge.timestamps,ge.hasOwnProperty(z))return ge[z]}})}var S=w(S=1<arguments.length&&arguments[1]!==void 0?arguments[1]:function(z){return{forEach:function(re){re(z)}}});function A(z,re){var ge=S(z);m.dfWalk({follow:function(W,Z){return Z.propagate&&(!W||!W.stopPropagation)},visit:function(W,Z){ge.forEach(function(j){W==null?Z.metrics[j]=re:(Z.groups.hasOwnProperty(j)||(Z.groups[j]=[]),Z.groups[j].push(re))})}})}function B(z){return Q(R,function(re){return A(z,re)})}function oe(){var z={};return m.dfWalk({visit:function(re,ge){z=Object.assign({},!re||re.includeGroups?ge.groups:null,ge.metrics,z)}}),z}var J={startTiming:B,measureTime:function(z,re){return B(z).stopAfter(re)()},measureHookTime:function(z,re,ge){return z=B(z),ge((ge=re,(re=z.stopBefore(ge)).bail=ge.bail&&z.stopBefore(ge.bail),re.stopTiming=z,re.untimed=ge,re))},checkpoint:function(z){m.timestamps[z]=R()},timeSince:function(z,re){return z=E(z),z=z!=null?R()-z:null,re!=null&&A(re,z),z},timeBetween:function(z,re,ge){return z=E(z),re=E(re),re=z!=null&&re!=null?re-z:null,ge!=null&&A(ge,re),re},setMetric:A,getMetrics:oe,fork:function(){var ge=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},z=ge.propagate,re=ge.stopPropagation,ge=ge.includeGroups;return T(K([[m,{propagate:z===void 0||z,stopPropagation:re!==void 0&&re,includeGroups:ge!==void 0&&ge}]]),S)},join:function(Z){var W=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},re=W.propagate,re=re===void 0||re,ge=W.stopPropagation,ge=ge!==void 0&&ge,W=W.includeGroups,W=W!==void 0&&W,Z=p.get(Z);Z!=null&&Z.addParent(m,{propagate:re,stopPropagation:ge,includeGroups:W})},newMetrics:function(){return T(m.newSibling(),S)},renameWith:function(z){return T(m,z)},toJSON:oe};return p.set(J,m),J}(K([]))}}function x(X,P,R){return function(){P&&P();try{return X.apply(this,arguments)}finally{R&&R()}}}function L(X,P){var R=X(),K=!1;function Q(){K||(P(X()-R),K=!0)}return Q.stopBefore=function(w){return x(w,Q)},Q.stopAfter=function(w){return x(w,null,Q)},Q}function g(X){return{metrics:{},timestamps:{},groups:{},addParent:function(P,R){X.push([P,R])},newSibling:function(){return g(X.slice())},dfWalk:function(){var P,R=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},K=R.visit,w=R.follow,Q=w===void 0?function(){return!0}:w,w=R.visited,u=w===void 0?new Set:w,p=R.inEdge;if(!u.has(this)){if(u.add(this),(P=K(p,this))!=null)return P;for(var T=0,m=X;T<m.length;T++){var S=m[T],E=S[0],S=S[1];if(Q(p,S)&&(P=E.dfWalk({visit:K,follow:Q,visited:u,inEdge:S}))!=null)return P}}}}}ie={forEach:f},_.stopBefore=function(X){return X},_.stopAfter=function(X){return X},ee=Object.defineProperties({dfWalk:f,newSibling:function(){return ee},addParent:f},Object.fromEntries(["metrics","timestamps","groups"].map(function(X){return[X,{get:c}]})));var ie,ee,O=I({now:function(){return 0},mkNode:function(){return ee},mkRenamer:function(){return function(){return ie}},mkTimer:function(){return _},nodes:{get:f,set:f}})();function f(){}function c(){return{}}function _(){return null}var C=!0;function h(X){return C&&X||O}o.$W.getConfig(r,function(X){C=!!X[r]}),D=I();var D,U=function(){return C?D():O};function k(X,P){return function(R,K){return function(Q){for(var w=arguments.length,u=new Array(1<w?w-1:0),p=1;p<w;p++)u[p-1]=arguments[p];var T=this;return h(P.apply(T,u)).measureHookTime(X+R,Q,function(m){return K.call.apply(K,be([T,m],u,!1))})}}}var M=k("requestBids.",function(X){return X.metrics}),Y=k("addBidResponse.",function(X,P){return P.metrics})},5555:function(s,r,e){e.d(r,{U9:function(){return I},cb:function(){return x},v6:function(){return L}});var o,r=e(43),e=e(7873),l=(o=(0,e.m)().setTimeout)!=null?o:r.w,I=(o=(0,e.m)().Promise)!=null?o:r.k;function x(){var g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0;return new I(function(ie){l(ie,g)})}function L(){var g,ie,ee=(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{}).promiseFactory;function O(f){return function(c){return f(c)}}return{promise:(ee===void 0?function(f){return new I(f)}:ee)(function(f,c){g=f,ie=c}),resolve:O(g),reject:O(ie)}}},2713:function(s,g,L){function o(O,f){return O===f?0:O<f?-1:1}function r(){var O=0<arguments.length&&arguments[0]!==void 0?arguments[0]:function(f){return f};return function(f,c){return o(O(f),O(c))}}function e(O){var f=0<arguments.length&&O!==void 0?O:o;return function(c,_){return-f(c,_)||0}}function l(){for(var O=arguments.length,f=new Array(O),c=0;c<O;c++)f[c]=arguments[c];return function(_,C){for(var h=0,D=f;h<D.length;h++){var U=(0,D[h])(_,C);if(U!==0)return U}return 0}}function I(){var O=0<arguments.length&&arguments[0]!==void 0?arguments[0]:o;return function(f,c){return O(c,f)<0?c:f}}function x(){return I(e(0<arguments.length&&arguments[0]!==void 0?arguments[0]:o))}L.d(g,{Bp:function(){return I},Bq:function(){return ee},NV:function(){return r},Ph:function(){return x},Vk:function(){return ie}});var L=r(function(O){return O.cpm}),g=r(function(O){return O.responseTimestamp}),ie=x(l(L,e(r(function(O){return O.timeToRespond})))),ee=x(l(L,e(g)));x(l(L,g))},6853:function(s,$,a){a.d($,{H:function(){return L}});var o=a(5555),r=a(1069),e=null,l=0,I=[];function x(g,ie){var ee=l,O=setTimeout(function(){l===ee&&e==null?g():e!=null?I.push({callback:g,startTime:ee,setTimerId:function(f){O=f}}):O=x(g,l-ee)()},ie);return function(){return O}}function L(){var g,ie,c=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},f=c.startTime,ee=f===void 0?r.vE:f,f=c.ttl,O=f===void 0?function(){return null}:f,f=c.monotonic,f=f!==void 0&&f,c=c.slack,_=c===void 0?5e3:c,C=new Map,h=[],D=[],U=f?function(Y){return D.push(Y)}:function(Y){return D.splice((0,r.El)(D,Y,function(X){return X.expiry}),0,Y)};function k(){var Y;ie&&clearTimeout(ie),ie=0<D.length?(Y=(0,r.vE)(),x(function(){for(var X=(0,r.vE)(),P=0,R=0,K=D;R<K.length&&(Q=>{if(Q.expiry>X)return"break";h.forEach(function(w){try{w(Q.item)}catch(u){(0,r.vV)(u)}}),C.delete(Q.item),P++})(K[R])!=="break";R++);D.splice(0,P),ie=null,k()},(g=Math.max(Y,D[0].expiry+_))-Y)):null}var M={};return(c={})[Symbol.iterator]=function(){return C.keys()},c.add=function(Y){var X,P,R,K,Q,w;C.has(Y)||C.set(Y,(X=Y,R={},K=M,Y=Object.entries({start:ee,delta:O}).map(function(u){var p,T=u[0],m=u[1];return function(){var E=p={};o.U9.resolve(m(X)).then(function(S){E===p&&(R[T]=S,K===M)&&R.start!=null&&R.delta!=null&&(P=R.start+R.delta,U(w),ie==null||P+_<g)&&k()})}}),Q=Y[0],w={item:X,refresh:Y=Y[1],get expiry(){return P}},Q(),Y(),w))},c.clear=function(){D.length=0,k(),C.clear(),M={}},c.toArray=function(){return Array.from(C.keys())},c.refresh=function(){D.length=0,k();for(var Y=0,X=C.values();Y<X.length;Y++)X[Y].refresh()},c.onExpiry=function(Y){return h.push(Y),function(){var X=h.indexOf(Y);0<=X&&h.splice(X,1)}},c}document.addEventListener("visibilitychange",function(){document.hidden?e=Date.now():(l+=Date.now()-(e!=null?e:0),e=null,I.forEach(function(g){var ie=g.callback;return(0,g.setTimerId)(x(ie,l-g.startTime)())}),I=[])})},3895:function(s,e,a){a.d(e,{E2:function(){return O},H6:function(){return I},V0:function(){return g},Zy:function(){return L},aP:function(){return ie},mn:function(){return x},vk:function(){return ee}});var o=a(1069),r=a(3272),e=a(9214),l=a(7314),I="outstream",x="instream",L=new Map([["mimes",function(f){return Array.isArray(f)&&0<f.length&&f.every(function(c){return typeof c=="string"})}],["minduration",o.Fq],["maxduration",o.Fq],["startdelay",o.Fq],["maxseq",o.Fq],["poddur",o.Fq],["protocols",o.Uu],["w",o.Fq],["h",o.Fq],["podid",o.O8],["podseq",o.Fq],["rqddurs",o.Uu],["placement",o.Fq],["plcmt",o.Fq],["linearity",o.Fq],["skip",function(f){return[1,0].includes(f)}],["skipmin",o.Fq],["skipafter",o.Fq],["sequence",o.Fq],["slotinpod",o.Fq],["mincpmpersec",o.Et],["battr",o.Uu],["maxextended",o.Fq],["minbitrate",o.Fq],["maxbitrate",o.Fq],["boxingallowed",o.Fq],["playbackmethod",o.Uu],["playbackend",o.Fq],["delivery",o.Uu],["pos",o.Fq],["api",o.Uu],["companiontype",o.Uu],["poddedupe",o.Uu]]);function g(f){f=(f=f==null?void 0:f.mediaTypes)==null?void 0:f.video,f!=null&&f.plcmt==null&&(f.context===I||[2,3,4].includes(f.placement)?f.plcmt=4:f.context!==I&&[2,6].includes(f.playbackmethod)&&(f.plcmt=2))}function ie(f,c){var _,C=(_=f==null?void 0:f.mediaTypes)==null?void 0:_.video;(0,o.Qd)(C)?C!=null&&Object.entries(C).forEach(function(U){var D=U[0],U=U[1];L.has(D)&&!L.get(D)(U)&&(typeof c=="function"?c(D,U,f):(delete C[D],(0,o.JE)('Invalid prop in adUnit "'.concat(f.code,'": Invalid value for mediaTypes.video.').concat(D," ORTB property. The property has been removed."))))}):(0,o.JE)("validateOrtbVideoFields: videoParams must be an object.")}function ee(f){var h=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).index,h=h===void 0?l.n.index:h,c=(c=h.getMediaTypes(f))==null?void 0:c.video,_=c&&(c==null?void 0:c.context),C=c&&(c==null?void 0:c.useCacheKey),h=h.getAdUnit(f);return O(f,h,c,_,C)}var O=(0,e.A_)("sync",function(f,c,_,C,h){var D;return _&&(h||C!==I)?(D=r.$W.getConfig("cache")||{}).url||D.useLocal||!f.vastXml||f.vastUrl?!(!f.vastUrl&&!f.vastXml):((0,o.vV)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling either prebid cache with pbjs.setConfig({ cache: {url: "..."} });\n        or local cache with pbjs.setConfig({ cache: { useLocal: true }});\n      '),!1):!(C===I&&!h&&!(f.renderer||c&&c.renderer||_.renderer))},"checkVideoBidSetup")},8693:function(s,$,a){a.d($,{M_:function(){return ee},Sb:function(){return _},X5:function(){return U}});var o=a(8044),r=a(3272),e=a(7314),l=a(1069),I=a(1657),x=15,L=new Map;function g(k){var M=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).index,M=M===void 0?e.n.index:M,Y=ie(k),M=M.getAuction(k),Y={type:"xml",value:Y,ttlseconds:Number(k.ttl)+x};return r.$W.getConfig("cache.vasttrack")&&(Y.bidder=k.bidder,Y.bidid=k.requestId,Y.aid=k.auctionId),M!=null&&(Y.timestamp=M.getAuctionStart()),typeof k.customCacheKey=="string"&&k.customCacheKey!==""&&(Y.key=k.customCacheKey),Y}function ie(k){return k.vastXml||(M=k.vastUrl,k=k.vastImpUrl,'<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA['.concat(M,"]]></VASTAdTagURI>\n        ").concat((k=k&&(Array.isArray(k)?k:[k]))?k.map(function(Y){return"<Impression><![CDATA[".concat(Y,"]]></Impression>")}).join(""):"","\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>"));var M}function ee(P,M){var Y,X=2<arguments.length&&arguments[2]!==void 0?arguments[2]:o.g4,P={puts:P.map(g)};X(r.$W.getConfig("cache.timeout"))(r.$W.getConfig("cache.url"),(Y=M,{success:function(R){var K;try{K=JSON.parse(R).responses}catch(Q){return void Y(Q,[])}K?Y(null,K):Y(new Error("The cache server didn't respond with a responses property."),[])},error:function(R,K){Y(new Error("Error storing video ad in the cache: ".concat(R,": ").concat(JSON.stringify(K))),[])}}),JSON.stringify(P),{contentType:"text/plain",withCredentials:!0})}var O,f,c,_=function(k){var M=ie(k),M=URL.createObjectURL(new Blob([M],{type:"text/xml"}));C(k,M),L.set(k.videoCacheKey,M)},C=function(k,M,Y){k.videoCacheKey=Y||(0,l.lk)(),k.vastUrl||(k.vastUrl=M)},h={store:ee};function D(k){var M=k.map(function(Y){return Y.bidResponse});h.store(M,function(Y,X){Y?(0,l.vV)("Failed to save to the video cache: ".concat(Y,". Video bids will be discarded:"),M):k.length!==X.length?(0,l.vV)("expected ".concat(k.length," cache IDs, got ").concat(X.length," instead")):X.forEach(function(P,u){var K,u=k[u],Q=u.auctionInstance,w=u.bidResponse,u=u.afterBidAdded;P.uuid===""?(0,l.JE)("Supplied video cache key was already in use by Prebid Cache; caching attempt was rejected. Video bid must be discarded."):(C(w,(K=w.videoCacheKey,"".concat(r.$W.getConfig("cache.url"),"?uuid=").concat(K)),P.uuid),(0,I.v8)(Q,w),u())})})}r.$W.getConfig("cache",function(k){k=k.cache,O=typeof k.batchSize=="number"&&0<k.batchSize?k.batchSize:1,f=typeof k.batchTimeout=="number"&&0<k.batchTimeout?k.batchTimeout:0,k.useLocal&&!c&&(c=e.n.onExpiry(function(M){M.getBidsReceived().forEach(function(Y){var X=L.get(Y.videoCacheKey);X&&X.startsWith("blob")&&URL.revokeObjectURL(X),L.delete(Y.videoCacheKey)})}))});var U=function(k,M){function Y(Q){return Q()}var X=0<arguments.length&&k!==void 0?k:setTimeout,P=1<arguments.length&&M!==void 0?M:D,R=[[]],K=!1;return function(Q,w,u){var p=0<f?X:Y;R[R.length-1].length>=O&&R.push([]),R[R.length-1].push({auctionInstance:Q,bidResponse:w,afterBidAdded:u}),K||(K=!0,p(function(){R.forEach(P),K=!(R=[[]])},f))}}()}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[2139],{43:function(s,$,a){a.d($,{k:function(){return I},w:function(){return L}}),x.prototype.then=function(g,ie){var ee=this,O=Te(this,r,"f");return new this.constructor(function(f,c){function _(){var C=O[1],h=(D=O[0]===0?[g,f]:[ie,c])[0],D=D[1];if(typeof h=="function"){try{C=h(C)}catch(U){return void c(U)}D=f}D(C)}O.length?_():Te(ee,e,"f").push(_)})},x.prototype.catch=function(g){return this.then(null,g)},x.prototype.finally=function(g){var ie,ee=this;return this.then(function(O){return ie=O,g()},function(O){return ie=ee.constructor.reject(O),g()}).then(function(){return ie})},x.race=function(g){var ie=this;return new this(function(ee,O){Te(ie,o,"m",l).call(ie,g,function(f,c){return(f?ee:O)(c)})})},x.all=function(g){var ie=this;return new this(function(ee,O){var f=[];Te(ie,o,"m",l).call(ie,g,function(c,_,C){return c?f[C]=_:O(_)},function(){return ee(f)})})},x.allSettled=function(g){var ie=this;return new this(function(ee){var O=[];Te(ie,o,"m",l).call(ie,g,function(f,c,_){return O[_]=f?{status:"fulfilled",value:c}:{status:"rejected",reason:c}},function(){return ee(O)})})},x.resolve=function(g){return new this(function(ie){return ie(g)})},x.reject=function(g){return new this(function(ie,ee){return ee(g)})};var o,r,e,l,I=x;function x(g){if(r.set(this,void 0),e.set(this,void 0),typeof g!="function")throw new Error("resolver not a function");var ie=[],ee=[],O=[0,1].map(function(_){return function(C){if(_===0&&typeof(C==null?void 0:C.then)=="function")C.then(f,c);else if(!ie.length)for(ie.push(_,C);ee.length;)ee.shift()()}}),f=O[0],c=O[1];try{g(f,c)}catch(_){c(_)}fe(this,r,ie,"f"),fe(this,e,ee,"f")}function L(g){var ie=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0;if(0<ie)return setTimeout(g,ie);g()}o=I,r=new WeakMap,e=new WeakMap,l=function(g,ie,ee){var O=this,f=g.length;function c(){ie.apply(this,arguments),--f<=0&&ee&&ee()}g.length===0&&ee?ee():g.forEach(function(_,C){return O.resolve(_).then(function(h){return c(!0,h,C)},function(h){return c(!1,h,C)})})}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[1085],{4595:function(s,$,a){a.d($,{G:function(){return o}});var o='(()=>{"use strict";window.render=function({ad:e,adUrl:t,width:n,height:d},{mkFrame:i},o){if(!e&&!t)throw{reason:"noAd",message:"Missing ad markup or URL"};{if(null==d){const e=o.document?.body;[e,e?.parentElement].filter((e=>null!=e?.style)).forEach((e=>e.style.height="100%"))}const r=o.document,s={width:n??"100%",height:d??"100%"};t&&!e?s.src=t:s.srcdoc=e,r.body.appendChild(i(r,s))}}})();'}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[7247],{8656:function(s,o,a){a.d(o,{D:function(){return l}});var o=a(3858),r=a(433),e=["user.keywords"].concat(o.Dy.flatMap(function(I){return["keywords","content.keywords"].map(function(x){return"".concat(I,".").concat(x)})}));function l(I){for(var x=arguments.length,L=new Array(1<x?x-1:0),g=1;g<x;g++)L[g-1]=arguments[g];return(function(){for(var ie=new Set,ee=arguments.length,O=new Array(ee),f=0;f<ee;f++)O[f]=arguments[f];return O.filter(function(c){return c}).flatMap(function(c){return Array.isArray(c)?c:c.split(",")}).map(function(c){return c.replace(/^\s*/,"").replace(/\s*$/,"")}).filter(function(c){return c}).forEach(function(c){return ie.add(c)}),Array.from(ie.keys())}).apply(void 0,be(be([],e.map(function(ie){return(0,r.A)(I,ie)}),!1),L,!1))}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[5444],{554:function(s,l,a){a.d(l,{QF:function(){return O},T_:function(){return ee},gg:function(){return g}});var o=a(1069),r=a(433),e=a(8656),l=a(3858),I={526:"1plusX",527:"1plusX",541:"captify_segments",540:"perid"},x=["user.data"].concat(l.Dy.map(function(f){return"".concat(f,".content.data")}));function L(f,c,_){return c==null?_:(0,o.O8)(c)?c:(0,o.Et)(c)?c.toString():void(0,o.JE)("Unsuported type for param: "+f+" required type: String")}function g(f){return(0,o.O8)(f)&&f!==""?ie(f.split(/\s*(?:,)\s*/)):{}}function ie(f){var c={};return f.forEach(function(_){var C,h;_.indexOf("=")!==-1?(C=(h=_.split("="))[0],h=h[1],c.hasOwnProperty(C)?c[C].push(h):c[C]=[h]):c.hasOwnProperty(_)||(c[_]=[])}),c}function ee(){for(var f=arguments.length,c=new Array(f),_=0;_<f;_++)c[_]=arguments[_];return function(C,h){var D=1<arguments.length&&h!==void 0?h:"keywords",U=[];return(0,o.bu)(C,function(k,M){if((0,o.cy)(k)){var Y=[];(0,o.bu)(k,function(P){!(P=L(D+"."+M,P))&&P!==""||Y.push(P)}),k=Y}else{if(k=L(D+"."+M,k),!(0,o.O8)(k))return;k=[k]}k=k.filter(function(P){return P!==""});var X={key:M};0<k.length&&(X.value=k),U.push(X)}),U}(o.D9.apply(void 0,c.map(function(C){return Object.fromEntries(Object.entries(C||{}).map(function(U){var D=U[0],U=U[1];return[D,(0,o.Et)(U)||(0,o.O8)(U)?[U]:U]}))})))}function O(f){for(var c,_,C=arguments.length,h=new Array(1<C?C-1:0),D=1;D<C;D++)h[D-1]=arguments[D];return ee.apply(void 0,be([ie((0,e.D)(f)),(c=f,_={},x.forEach(function(U){((0,r.A)(c,U)||[]).forEach(function(k){var M,Y=I[(M=k==null?void 0:k.ext)==null?void 0:M.segtax];Y&&k.segment.forEach(function(X){_[Y]?_[Y].push(X.id):_[Y]=[X.id]})})}),_)],h,!1))}},2349:function(s,$,a){a.d($,{DX:function(){return e},GS:function(){return l},vk:function(){return r}});var o=a(1069);function r(I){return I.replace(/(?:^|\.?)([A-Z])/g,function(x,L){return"_"+L.toLowerCase()}).replace(/^_/,"")}var e=[{code:"appnexusAst",gvlid:32},{code:"emxdigital",gvlid:183},{code:"emetriq",gvlid:213},{code:"pagescience",gvlid:32},{code:"gourmetads",gvlid:32},{code:"matomy",gvlid:32},{code:"featureforward",gvlid:32},{code:"oftmedia",gvlid:32},{code:"adasta",gvlid:32},{code:"beintoo",gvlid:618},{code:"projectagora",gvlid:1032},{code:"stailamedia",gvlid:32},{code:"uol",gvlid:32},{code:"adzymic",gvlid:723}];function l(I,x){for(var L=[],g=0;g<x;g++){var ie=(0,o.Qd)(I)?(0,o.Go)(I):I;L.push(ie)}return L}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[2126],{5761:function(s,$,a){a.d($,{$:function(){return r}});var o=a(1069);function r(e,l){return Object.keys(e).forEach(function(I){var x,L;l[I]&&((0,o.fp)(e[I])?l[I]=e[I](l[I]):l[I]=(x=e[I],L=l[I],x==="string"?L&&L.toString():x==="number"?Number(L):L),isNaN(l[I]))&&delete l.key}),l}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[4982],{9906:function(s,$,a){function o(r,e){for(var l=[],I=0;I<Math.ceil(r.length/e);I++){var x=I*e;l.push(r.slice(x,x+e))}return l}a.d($,{i:function(){return o}})}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[2698],{4673:function(s,$,a){a.d($,{n:function(){return o}});var o={1:"IAB20-3",2:"IAB18-5",3:"IAB10-1",4:"IAB2-3",5:"IAB19-8",6:"IAB22-1",7:"IAB18-1",8:"IAB12-3",9:"IAB5-1",10:"IAB4-5",11:"IAB13-4",12:"IAB8-7",13:"IAB9-7",14:"IAB7-1",15:"IAB20-18",16:"IAB10-7",17:"IAB19-18",18:"IAB13-6",19:"IAB18-4",20:"IAB1-5",21:"IAB1-6",22:"IAB3-4",23:"IAB19-13",24:"IAB22-2",25:"IAB3-9",26:"IAB17-18",27:"IAB19-6",28:"IAB1-7",29:"IAB9-30",30:"IAB20-7",31:"IAB20-17",32:"IAB7-32",33:"IAB16-5",34:"IAB19-34",35:"IAB11-5",36:"IAB12-3",37:"IAB11-4",38:"IAB12-3",39:"IAB9-30",41:"IAB7-44",42:"IAB7-1",43:"IAB7-30",50:"IAB19-30",51:"IAB17-12",52:"IAB19-30",53:"IAB3-1",55:"IAB13-2",56:"IAB19-30",57:"IAB19-30",58:"IAB7-39",59:"IAB22-1",60:"IAB7-39",61:"IAB21-3",62:"IAB5-1",63:"IAB12-3",64:"IAB20-18",65:"IAB11-2",66:"IAB17-18",67:"IAB9-9",68:"IAB9-5",69:"IAB7-44",71:"IAB22-3",73:"IAB19-30",74:"IAB8-5",78:"IAB22-1",85:"IAB12-2",86:"IAB22-3",87:"IAB11-3",112:"IAB7-32",113:"IAB7-32",114:"IAB7-32",115:"IAB7-32",118:"IAB9-5",119:"IAB9-5",120:"IAB9-5",121:"IAB9-5",122:"IAB9-5",123:"IAB9-5",124:"IAB9-5",125:"IAB9-5",126:"IAB9-5",127:"IAB22-1",132:"IAB1-2",133:"IAB19-30",137:"IAB3-9",138:"IAB19-3",140:"IAB2-3",141:"IAB2-1",142:"IAB2-3",143:"IAB17-13",166:"IAB11-4",175:"IAB3-1",176:"IAB13-4",182:"IAB8-9",183:"IAB3-5"}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[2630],{8910:function(s,r,I){I.d(r,{Ay:function(){return c}});var o=I(8969),r=I(8044),e=I(1069),l=I(5023),I=I(3272),x={ajax:r.RD},L="endpoint",g="bundle",ie="analyticsLabels",ee={},O=(I.$W.getConfig(ie,function(_){ee=_[ie]}),Object.values(o.qY).filter(function(_){return _!==o.qY.AUCTION_DEBUG})),f=100;function c(_){var C,h,D,U,k=_.url,M=_.analyticsType,Y=_.global,X=_.handler,P=[],R=!1,K=(U=!1,function(){D!=null&&(clearTimeout(D),D=null),f===0?Q():D=setTimeout(Q,f)});function Q(){if(!U){U=!0;try{for(var p=0,T=0;0<P.length;){p++;var m=P.length;if(P.shift()(),P.length>=m?T++:T=0,10<=T)return(0,e.vV)("Detected probable infinite loop, discarding events",P),void(P.length=0)}(0,e.OG)("".concat(h," analytics: processed ").concat(p," events"))}finally{U=!1}}}return Object.defineProperties({track:function(m){var T=m.eventType,m=m.args;this.getAdapterType()===g&&window[Y](X,T,m),this.getAdapterType()===L&&(function(E){var S=E.eventType;x.ajax(k,E.callback,JSON.stringify({eventType:S,args:E.args,labels:ee}))}).apply(void 0,arguments)},enqueue:w,enableAnalytics:u,disableAnalytics:function(){Object.entries(C||{}).forEach(function(p){var T=p[0];l.AU(T,p[1])}),this.enableAnalytics=this._oldEnable||u,R=!1},getAdapterType:function(){return M},getGlobal:function(){return Y},getHandler:function(){return X},getUrl:function(){return k}},{enabled:{get:function(){return R}}});function w(p){var T=this,m=p.eventType,E=p.args;P.push(function(){var S;0<Object.keys(ee||[]).length&&(E=F(((S={})[ie]=ee,S),E)),T.track({eventType:m,labels:ee,args:E})}),K()}function u(p){var T,m,E,S,A=this,B=(h=p==null?void 0:p.provider,this);typeof p!="object"||typeof p.options!="object"||p.options.sampling===void 0||Math.random()<parseFloat(p.options.sampling)?(m=(p=p||{}).includeEvents,E=m===void 0?O:m,S=(m=p.excludeEvents)===void 0?[]:m,T=new Set(Object.values(o.qY).filter(function(oe){return E.includes(oe)}).filter(function(oe){return!S.includes(oe)})),l.kQ().forEach(function(oe){var J;oe&&T.has(oe.eventType)&&(J=oe.eventType,w.call(B,{eventType:J,args:oe.args}))}),C=Object.fromEntries(Array.from(T).map(function(oe){function J(z){return A.enqueue({eventType:oe,args:z})}return l.on(oe,J),[oe,J]}))):(0,e.OG)('Analytics adapter for "'.concat(Y,'" disabled by sampling')),this._oldEnable=this.enableAnalytics,this.enableAnalytics=function(){return(0,e.OG)('Analytics adapter for "'.concat(Y,'" already enabled, unnecessary call to `enableAnalytics`.'))},R=!0}}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[2316],{4278:function(s,o,a){a.d(o,{G:function(){return e}});var o=a(7332),r=new Map;function e(l){var I;return r.has(l)?I=r.get(l):(I=l.getBoundingClientRect(),r.set(l,I)),I}o.gH.before(function(l,I){r.clear(),l(I)})}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[7109],{965:function(s,$,a){a.d($,{c5:function(){return I},q4:function(){return l}});var o=a(5555),r=0,e=1,l=2;function I(U){var L=U.apiName,g=U.apiVersion,O=U.apiArgs,ie=O===void 0?["command","callback","parameter","version"]:O,O=U.callbackArgs,ee=O===void 0?["returnValue","success"]:O,O=U.mode,f=O===void 0?r:O,c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:window,_={},C="".concat(L,"Call"),h="".concat(L,"Return");function D(Q){var R,K,Q=typeof Q.data=="string"&&Q.data.includes(h)?JSON.parse(Q.data):Q.data;(R=Q==null?void 0:Q[h])!=null&&R.callId&&(K=Q[h],_.hasOwnProperty(K.callId))&&_[K.callId].apply(_,ee.map(function(w){return K[w]}))}var U=(()=>{for(var P,R=c,K=!1;R!=null;){try{if(typeof R[L]=="function"){P=R,K=!0;break}}catch{}try{if(R.frames["".concat(L,"Locator")]){P=R;break}}catch{}if(R===c.top)break;R=R.parent}return[P,K]})(),k=U[0],M=U[1];if(k)return O=M?function(){var P=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return new o.U9(function(R,K){K=k[L].apply(k,Y(F(F({},P),{callback:P.callback||f===l?X(P.callback,R,K):void 0})).map(function(Q){return Q[0],Q[1]})),(f===e||P.callback==null&&f===r)&&R(K)})}:(c.addEventListener("message",D,!1),function(P){var R=1<arguments.length&&arguments[1]!==void 0&&arguments[1];return new o.U9(function(K,Q){var w,u=Math.random().toString();(w={})[C]=F(F({},Object.fromEntries(Y(P).filter(function(p){return p[0]!=="callback"}))),{callId:u}),_[u]=X(P==null?void 0:P.callback,K,Q,(R||(P==null?void 0:P.callback)==null)&&function(){delete _[u]}),k.postMessage(w,"*"),f===e&&K()})}),Object.assign(O,{isDirect:M,close:function(){M||c.removeEventListener("message",D)}});function Y(P){return P=Object.assign({version:g},P),ie.map(function(R){return[R,P[R]]})}function X(P,R,K,Q){var w=typeof P=="function";return function(u,p){Q&&Q(),f!==e&&(p==null||p?R:K)(w?void 0:u),w&&P.apply(this,arguments)}}}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[10],{3806:function(s,$,a){a.d($,{yq:function(){return x}});var o=a(6894),r=a(1069),e=a(7873),l=a(5555),I=a(2604);function x(){var L,g,ie,ee=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},O=ee.namespace,f=ee.displayName,c=ee.consentDataHandler,_=ee.parseConsentData,C=ee.getNullConsent,h=ee.cmpHandlers,U=ee.DEFAULT_CMP,D=U===void 0?"iab":U,U=ee.DEFAULT_CONSENT_TIMEOUT,k=U===void 0?1e4:U;function M(R){return"consentManagement.".concat(O," ").concat(R)}function Y(R,K){return R(Object.assign(((R={})["".concat(O,"Consent")]=c.getConsentData(),R),K))}function X(){return g().then(function(R){return{error:R.error,consentData:c.getConsentData()}})}function P(){var R,K;L==null&&(R=O,K=new WeakSet,L=(0,o.Ak)(R,function(Q,w){var u=this;return g().then(function(m){var T=m.consentData,m=m.error;!m||T&&K.has(m)||(K.add(m),r.JE.apply(void 0,be([m.message],m.args||[],!1))),Q.call(u,w)}).catch(function(p){r.vV.apply(void 0,be(["".concat(p==null?void 0:p.message," Canceling auction as per consentManagement config.")],(p==null?void 0:p.args)||[],!1)),Q.stopTiming(),typeof w.bidsBackHandler=="function"?w.bidsBackHandler():(0,r.vV)("Error executing bidsBackHandler")})}),(0,e.m)().requestBids.before(L,50),I.U3.before(Y),(0,r.fH)("".concat(f," consentManagement module has been activated...")))}return function(R){var K,Q,w,u,p;return(R=R==null?void 0:R[O])&&typeof R=="object"?((0,r.O8)(R.cmpApi)?K=R.cmpApi:(0,r.fH)(M("config did not specify cmp.  Using system default setting (".concat(K=D,")."))),(0,r.Et)(R.timeout)?Q=R.timeout:(Q=k,(0,r.fH)(M("config did not specify timeout.  Using system default setting (".concat(k,").")))),w=(0,r.Et)(R.actionTimeout)?R.actionTimeout:null,K==="static"?(0,r.Qd)(R.consentData)?(ie=R.consentData,Q=null,u=function(){return new l.U9(function(T){return T(c.setConsentData(_(ie)))})}):(0,r.vV)(M("config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")):u=h.hasOwnProperty(K)?h[K]:(c.setConsentData(null),(0,r.JE)("".concat(f," CMP framework (").concat(K,") is not a supported framework.  Aborting consentManagement module and resuming auction.")),function(){return l.U9.resolve()}),g=function(){return p==null&&(E=(T={name:f,consentDataHandler:c,setupCmp:u,cmpTimeout:Q,actionTimeout:w,getNullConsent:C}).name,S=T.consentDataHandler,A=T.setupCmp,B=T.cmpTimeout,oe=T.actionTimeout,J=T.getNullConsent,S.enable(),p=new Promise(function(z,re){var ge,W=!1;function Z(j){m!=null&&clearTimeout(m),m=j!=null?setTimeout(function(){var N=(N=S.getConsentData())!=null?N:W?ge:J(),q="timeout waiting for "+(W?"user action on CMP":"CMP to load");S.setConsentData(N),z({consentData:N,error:new Error("".concat(E," ").concat(q))})},j):null}A(function(j){ge=j,W||(W=!0,oe!=null&&Z(oe))}).then(function(){return z({consentData:S.getConsentData()})},re),B!=null&&Z(B)}).finally(function(){m&&clearTimeout(m)}).catch(function(z){throw S.setConsentData(null),z}).catch(function(z){throw p=null,z})),p;var T,m,E,S,A,B,oe,J},P(),{cmpHandler:K,cmpTimeout:Q,actionTimeout:w,staticConsentData:ie,loadConsentData:X,requestBidsHook:L}):((0,r.JE)(M("config not defined, exiting consent manager module")),L!=null&&((0,e.m)().requestBids.getHooks({hook:L}).remove(),I.U3.getHooks({hook:Y}).remove(),L=null),{})}}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[8498],{9766:function(s,x,a){a.d(x,{T:function(){return f},A:function(){return O}});var o,r=new WeakMap,e=a(1069),l=a(1371),I=a(3895),x=a(5561),L=a(1e3),g=a(3858),ie=((o={})[L.S3]={fpd:{priority:99,fn:function(c,_){(0,e.D9)(c,_.ortb2)}},onlyOneClient:{priority:-99,fn:(0,g.i8)("ORTB request")},props:{fn:function(c,_){Object.assign(c,{id:c.id||(0,e.lk)(),test:c.test||0}),_=parseInt(_.timeout,10),isNaN(_)||(c.tmax=_)}}},o[L.Tb]={fpd:{priority:99,fn:function(c,_){(0,e.D9)(c,_.ortb2Imp)}},id:{fn:function(c,_){c.id=_.bidId}},banner:{fn:function(c,_,C){var h;C.mediaType&&C.mediaType!==l.D4||(C=(C=_==null?void 0:_.mediaTypes)==null?void 0:C.banner)&&(h={topframe:(0,e.al)()===!0?0:1},C.sizes&&((_=(_=_.ortb2Imp)==null?void 0:_.banner)==null?void 0:_.format)==null&&(h.format=(0,e.y$)(C.sizes).map(e.cf)),C.hasOwnProperty("pos")&&(h.pos=C.pos),c.banner=(0,e.D9)(h,c.banner))}},pbadslot:{fn:function(c){var _=(_=(_=c.ext)==null?void 0:_.data)==null?void 0:_.pbadslot;_&&typeof _=="string"||(c=(_=c.ext)==null?void 0:_.data)==null||delete c.pbadslot}},secure:{fn:function(c,_){c.secure=(c=c.secure)!=null?c:1}}},o[L.WR]={mediaType:{priority:99,fn:x.K},banner:{fn:function(_){var _=(0<arguments.length&&_!==void 0?_:{}).createPixel,C=_===void 0?function(h){return(0,e.Tz)(decodeURIComponent(h),e.Bk)}:_;return function(h,D){h.mediaType===l.D4&&(D.adm&&D.nurl?(h.ad=D.adm,h.ad+=C(D.nurl)):D.adm?h.ad=D.adm:D.nurl&&(h.adUrl=D.nurl))}}()},props:{fn:function(c,_,C){var h;Object.entries({requestId:(h=C.bidRequest)==null?void 0:h.bidId,seatBidId:_.id,cpm:_.price,currency:C.ortbResponse.cur||C.currency,width:_.w,height:_.h,wratio:_.wratio,hratio:_.hratio,dealId:_.dealid,creative_id:_.crid,creativeId:_.crid,burl:_.burl,ttl:_.exp||C.ttl,netRevenue:C.netRevenue}).filter(function(D){return D[0],D[1]!==void 0}).forEach(function(D){var U=D[0];return c[U]=D[1]}),c.meta||(c.meta={}),_.adomain&&(c.meta.advertiserDomains=_.adomain),(h=_.ext)!=null&&h.dsa&&(c.meta.dsa=_.ext.dsa),_.cat&&(c.meta.primaryCatId=_.cat[0],c.meta.secondaryCatIds=_.cat.slice(1)),_.attr&&(c.meta.attr=_.attr),(C=_.ext)!=null&&C.eventtrackers&&(c.eventtrackers=((h=c.eventtrackers)!=null?h:[]).concat(_.ext.eventtrackers))}}},o),ee=(ie[L.Tb].native={fn:function(c,_,C){var h;C.mediaType&&C.mediaType!==l.s6||(h=_.nativeOrtbRequest)&&((C=(h=Object.assign({},C.nativeRequest,h)).assets)!=null&&C.length?c.native=(0,e.D9)({},{request:JSON.stringify(h),ver:h.ver},c.native):(0,e.JE)("mediaTypes.native is set, but no assets were specified. Native request skipped.",_))}},ie[L.WR].native={fn:function(c,_){if(c.mediaType===l.s6){if(_=typeof _.adm=="string"?JSON.parse(_.adm):_.adm,!(0,e.Qd)(_)||!Array.isArray(_.assets))throw new Error("ORTB native response contained no assets");c.native={ortb:_}}}},ie[L.Tb].video={fn:function(c,_,C){C.mediaType&&C.mediaType!==l.G_||(_=(C=_==null?void 0:_.mediaTypes)==null?void 0:C.video,(0,e.Im)(_))||(C=Object.fromEntries(Object.entries(_).filter(function(h){return h=h[0],I.Zy.has(h)})),_.playerSize&&(1<(_=(0,e.y$)(_.playerSize).map(e.cf)).length&&(0,e.JE)("video request specifies more than one playerSize; all but the first will be ignored"),Object.assign(C,_[0])),c.video=(0,e.D9)(C,c.video))}},ie[L.WR].video={fn:function(c,_,C){var h;c.mediaType===l.G_&&((h=(h=C==null?void 0:C.imp)==null?void 0:h.video)!=null&&h.w&&(h=(h=C==null?void 0:C.imp)==null?void 0:h.video)!=null&&h.h&&(h=[C.imp.video.w,C.imp.video.h],c.playerWidth=h[0],c.playerHeight=h[1]),_.adm&&(c.vastXml=_.adm),_.nurl)&&(c.vastUrl=_.nurl)}},a(9466));function O(){var k=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},h=k.context,c=h===void 0?{}:h,h=k.processors,_=h===void 0?f:h,h=k.overrides,C=h===void 0?{}:h,h=k.imp,D=k.request,U=k.bidResponse,k=k.response,M=new WeakMap;function Y(Q,w,u,p){var T;return function(){return(T=T==null?function(){var m=u.bind(this,function(E,S){var A=1<arguments.length&&S!==void 0?S:{},B=(r.has(E)||((S=Object.entries(E)).sort(function(oe,J){return(oe=oe[1].priority||0)===(J=J[1].priority||0)?0:J<oe?-1:1}),r.set(E,S.map(function(oe){return[oe[0],oe[1].fn]}))),r.get(E).filter(function(oe){return oe=oe[0],!A.hasOwnProperty(oe)||A[oe]}).map(function(z){var J=z[0],z=z[1];return A.hasOwnProperty(J)?A[J].bind(this,z):z}));return function(){var oe=this,J=Array.from(arguments);B.forEach(function(z){z.apply(oe,J)})}}(_()[Q]||{},C[Q]||{}));return w&&(m=w.bind(this,m)),function(){try{return m.apply(this,arguments)}catch(E){p.call.apply(p,be([this,E],arguments,!1))}}}():T).apply(this,arguments)}}var X=Y(L.Tb,h,function(Q,w,u){var p={};return Q(p,w,u),p},function(Q,w,u){(0,e.vV)("Error while converting bidRequest to ORTB imp; request skipped.",{error:Q,bidRequest:w,context:u})}),P=Y(L.S3,D,function(Q,w,u,p){return w={imp:w},Q(w,u,p),w},function(Q,w,u,p){throw(0,e.vV)("Error while converting to ORTB request",{error:Q,imps:w,bidderRequest:u,context:p}),Q}),R=Y(L.WR,U,function(Q,w,u){var p={};return Q(p,w,u),p},function(Q,w,u){(0,e.vV)("Error while converting ORTB seatbid.bid to bidResponse; bid skipped.",{error:Q,bid:w,context:u})}),K=Y(L.Cf,k,function(Q,w,u,p){return w={bids:w},Q(w,u,p),w},function(Q,w,u,p){throw(0,e.vV)("Error while converting from ORTB response",{error:Q,bidResponses:w,ortbResponse:u,context:p}),Q});return{toORTB:function(T){var w=T.bidderRequest,m=T.bidRequests,T=T.context,u=T===void 0?{}:T,m=m||w.bids,p={req:Object.assign({bidRequests:m},c,u),imp:{}},T=(p.req.impContext=p.imp,m.map(function(E){var S=Object.assign({bidderRequest:w,reqContext:p.req},c,u),A=X(E,S);if(A!=null){if(A.hasOwnProperty("id"))return Object.assign(S,{bidRequest:E,imp:A}),p.imp[A.id]=S,A;(0,e.vV)("Converted ORTB imp does not specify an id, ignoring bid request",E,A)}}).filter(Boolean)),m=P(T,w,p.req);return p.req.bidderRequest=w,m!=null&&M.set(m,p),m},fromORTB:function(E){var w=E.request,u=E.response,p=M.get(w);if(p==null)throw new Error("ortbRequest passed to `fromORTB` must be the same object returned by `toORTB`");function T(S,A){return Object.assign(S,{ortbRequest:w},1<arguments.length&&A!==void 0?A:{})}var m=Object.fromEntries((w.imp||[]).map(function(S){return[S.id,S]})),E=(u.seatbid||[]).flatMap(function(S){return(S.bid||[]).map(function(A){if(m.hasOwnProperty(A.impid)&&p.imp.hasOwnProperty(A.impid))return R(A,T(p.imp[A.impid],{imp:m[A.impid],seatbid:S,ortbResponse:u}));(0,e.vV)("ORTB response seatbid[].bid[].impid does not match any imp in request; ignoring bid",A)})}).filter(Boolean);return K(E,u,T(p.req))}}}var f=(0,e.Bj)(function(){return(0,ee.U)(ie,(0,L.yB)(L.qN))})},9466:function(s,$,a){a.d($,{U:function(){return r}});var o=a(1e3);function r(){for(var e=arguments.length,l=new Array(e),I=0;I<e;I++)l[I]=arguments[I];var x=l.shift(),L=1<l.length?r.apply(void 0,l):l[0];return Object.fromEntries(o.zt.map(function(g){return[g,Object.assign({},x[g],L[g])]}))}},5561:function(s,o,a){a.d(o,{K:function(){return e},X:function(){return r}});var o=a(1371),r={1:o.D4,2:o.G_,4:o.s6};function e(l,I,x){if(!l.mediaType){if(x=x.mediaType,!x&&!r.hasOwnProperty(I.mtype))throw new Error("Cannot determine mediaType for response");l.mediaType=x||r[I.mtype]}}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[5889],{4406:function(s,$,a){a.d($,{FE:function(){return I}});var o=a(433),r=a(3172),e=a(1069),l=Object.freeze(be(be([],["device.sua","source.schain","regs.gdpr","regs.us_privacy","regs.gpp","regs.gpp_sid","user.consent","user.eids"].map(function(x){return function(ie,g){var f=1<arguments.length&&g!==void 0?g:function(c,_){return"".concat(c,".ext.").concat(_)},ie=[(g=ie.split(".")).slice(0,g.length-1).join("."),g[g.length-1]],ee=ie[0],O=ie[1],f=f(ee,O);return function(c){var _=(0,o.A)(c,ee);if((_==null?void 0:_[O])!=null)return(0,r.J)(c,f,_[O]),function(){return delete _[O]}}}(x)}),!0),["app","content","site","user"].map(function(x){return function(L){var g,ie=(ie=L[x])==null?void 0:ie.kwarray;if(ie!=null)return g=(L[x].keywords||"").split(","),Array.isArray(ie)&&g.push.apply(g,ie),L[x].keywords=g.join(","),function(){return delete L[x].kwarray}}}),!0));function I(){var x=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],L=1<arguments.length&&arguments[1]!==void 0?arguments[1]:l;return function(g){return L.forEach(function(ie){try{var ee=ie(g);typeof ee=="function"&&x&&ee()}catch(O){(0,e.vV)("Error translating request to ORTB 2.5",O)}}),g}}I()}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[3005],{1252:function(s,$,a){a.d($,{Cn:function(){return x},eu:function(){return L},p:function(){return I}});var o=a(3858),r=a(5901),e=a(1069),l=a(433);function I(f){f=f;var ee,O,f=ee=(0,e.II)()?(0,r.I6)(window.googletag.pubads().getSlots(),(O=f,function(c){return(0,e.sC)(c,O)})):ee;return f?{gptSlot:f.getAdUnitPath(),divId:f.getSlotElementId()}:{}}var x=["IAB_AUDIENCE_1_1","IAB_CONTENT_2_2"];function L(ie){var ee;return Object.entries(((ee={})[x[0]]=g(ie,["user.data"],4),ee[x[1]]=g(ie,o.Dy.map(function(O){return"".concat(O,".content.data")}),6),ee)).map(function(c){var f=c[0],c=c[1];return c.length?{taxonomy:f,values:c}:null}).filter(function(O){return O})}function g(ie,ee,O){return ee.flatMap(function(f){return(0,l.A)(ie,f)||[]}).filter(function(f){return((f=f.ext)==null?void 0:f.segtax)===O}).flatMap(function(f){return(f=f.segment)==null?void 0:f.map(function(c){return c.id})}).filter(function(f){return f}).filter(e.hj)}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[2007],{392:function(s,$,a){a.d($,{T:function(){return r}});var o=a(1069);function r(e,l){return e?e.bid?e.bid[0]||(0,o.vV)(l.noBid):(0,o.vV)(l.hasNoArrayOfBids+JSON.stringify(e)):(0,o.vV)(l.emptySeatbid),e&&e.bid&&e.bid[0]}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[7769],{8944:function(s,$,a){a.d($,{g:function(){return r}});var o=a(1069);function r(){try{var e=(0,o.mb)(),l=e.scrollY,I=e.scrollX,x=e.innerWidth,L=e.innerHeight||e.document.documentElement.clientWidth||e.document.body.clientWidth;return{top:l,right:I+(x||e.document.documentElement.clientHeight||e.document.body.clientHeight),bottom:l+L,left:I}}catch{return{}}}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[2183],{6901:function(s,$,a){a.d($,{B2:function(){return x}});var o=a(433),r=a(1069),e=a(1371),l=a(3272),I=[e.D4,e.G_,e.s6],x=function(ee,O){return{version:"7.0.0",supportedMediaTypes:I,buildRequests:function(f,c){var _,C,h,D,U,k,M,Y,X,P,R={},K=f[0],Q=K.params.testMode,w=K.params.rtbDomain||ee;return R.params=(K=K,c=c,U=window.location.hostname,k=l.$W.getConfig("userSync")||{},M=k.syncEnabled,k=k.filterSettings,Y=c.bidderCode,P=c.timeout,U={wrapper_type:"prebidjs",wrapper_vendor:"pbjs",wrapper_version:"9.37.0",adapter_version:"6.0.0",auction_start:c.auctionStart,publisher_id:(X=K.params).org,publisher_name:U,site_domain:U,dnt:navigator.doNotTrack==="yes"||navigator.doNotTrack==="1"||navigator.msDoNotTrack==="1"?1:0,device_type:/ipad|android 3.0|xoom|sch-i800|playbook|tablet|kindle/i.test((U=navigator.userAgent).toLowerCase())?"5":/iphone|ipod|android|blackberry|opera|mini|windows\\sce|palm|smartphone|iemobile/i.test(U.toLowerCase())?"4":/smart[-_\\s]?tv|hbbtv|appletv|googletv|hdmi|netcast|viera|nettv|roku|\\bdtv\\b|sonydtv|inettvbrowser|\\btv\\b/i.test(U.toLowerCase())?"3":"1",ua:navigator.userAgent,is_wrapper:!!X.isWrapper,session_id:X.sessionId||(0,r.u5)("bidderRequestId",K),tmax:P},(P=(0,r.u5)("userId",K))&&(U.userIds=JSON.stringify(P)),(P=c.ortb2||{}).site&&(U.site_metadata=JSON.stringify(P.site)),P.user&&(U.user_metadata=JSON.stringify(P.user)),P.device&&(U.device=P.device),M&&(h=Y,P=(C=k)&&["all","iframe"].some(function(u){return ie(C[u],h)})?"iframe":C&&C.image&&!ie(C.image,h)?void 0:"pixel")&&(U.cs_method=P),c.uspConsent&&(U.us_privacy=c.uspConsent),c&&c.gdprConsent&&c.gdprConsent.gdprApplies&&(U.gdpr=c.gdprConsent.gdprApplies,U.gdpr_consent=c.gdprConsent.consentString),c.gppConsent?(U.gpp=c.gppConsent.gppString,U.gpp_sid=c.gppConsent.applicableSections):(Y=(M=c.ortb2)==null?void 0:M.regs)!=null&&Y.gpp&&(U.gpp=c.ortb2.regs.gpp,U.gpp_sid=c.ortb2.regs.gpp_sid),X.ifa&&(U.ifa=X.ifa),K.schain&&(U.schain=(k=K.schain,(0,r.Im)(k)?"":(D="".concat(k.ver,",").concat(k.complete),k.nodes.forEach(function(u){D=(D=(D=(D=(D=(D=(D+="!")+"".concat(g(u.asi),","))+"".concat(g(u.sid),","))+"".concat(g(u.hp),","))+"".concat(g(u.rid),","))+"".concat(g(u.name),","))+"".concat(g(u.domain))}),D))),c&&c.refererInfo&&(U.referrer=(0,o.A)(c,"refererInfo.ref"),U.page_url=(0,o.A)(c,"refererInfo.page")||(0,o.A)(window,"location.href"),U.site_domain=(0,o.A)(c,"refererInfo.domain")||(0,o.A)(window,"location.hostname")),U),R.bids=(_=[],(P=f).length&&P.forEach(function(u){var p,T,m,E,S,A,B;_.push((T=(u=u).params,m=L(u),isNaN(T.floorPrice)&&(T.floorPrice=0),E={mediaType:m.join(","),adUnitCode:(0,r.u5)("adUnitCode",u),sizes:(A=[],S=L(E=u),B=S[0],S.length===1&&(0,o.A)(E,"mediaTypes.".concat(B,".sizes"))?A=E.mediaTypes[B].sizes:(0,r.cy)(E.sizes)&&0<E.sizes.length&&(A=E.sizes),A),floorPrice:Math.max((S=u,(0,r.fp)(S.getFloor)&&(B=L(S),E=B[0],S=S.getFloor({currency:"USD",mediaType:B.length===1?E:"*",size:"*"}),(0,r.Qd)(S))&&S.currency==="USD"&&S.floor?S.floor:0),T.floorPrice),bidId:(0,r.u5)("bidId",u),loop:u.bidderRequestsCount||0,bidderRequestId:(0,r.u5)("bidderRequestId",u),transactionId:((B=(A=u.ortb2Imp)==null?void 0:A.ext)==null?void 0:B.tid)||"",coppa:0},S=(oe=>{var J=L(oe),z=J[0];if(J.length===1)return(0,o.A)(oe,"mediaTypes.".concat(z,".pos"))})(u),(0,r.Fq)(S)&&(E.pos=S),(A=(0,o.A)(u,"ortb2Imp.ext.gpid"))&&(E.gpid=A),(B=T.placementId||(oe=>{var J=L(oe),z=J[0];if(J.length===1)return(0,o.A)(oe,"mediaTypes.".concat(z,".name"))})(u))&&(E.placementId=B),(S=(0,o.A)(u,"ortb2.device.sua"))&&(E.sua=S),(0,o.A)(u,"ortb2.regs.coppa")&&(E.coppa=1),m.includes(e.G_)&&(A=(0,o.A)(u,"mediaTypes.video.playbackmethod"),(0,r.cy)(A)&&(0,r.Fq)(A[0])?p=A[0]:(0,r.Fq)(A)&&(p=A),p&&(E.playbackMethod=p),(T=(0,o.A)(u,"mediaTypes.video.placement"))&&(E.placement=T),(B=(0,o.A)(u,"mediaTypes.video.minduration"))&&(E.minDuration=B),(S=(0,o.A)(u,"mediaTypes.video.maxduration"))&&(E.maxDuration=S),(A=(0,o.A)(u,"mediaTypes.video.skip"))&&(E.skip=A),(p=(0,o.A)(u,"mediaTypes.video.linearity"))&&(E.linearity=p),(T=(0,o.A)(u,"mediaTypes.video.protocols"))&&(E.protocols=T),(B=(0,o.A)(u,"mediaTypes.video.plcmt"))&&(E.plcmt=B),(S=(0,o.A)(u,"mediaTypes.video.mimes"))&&(E.mimes=S),A=(0,o.A)(u,"mediaTypes.video.api"))&&(E.api=A),m.includes(e.s6)&&(p=(0,o.A)(u,"nativeOrtbRequest"))&&(E.nativeOrtbRequest=p),E))}),_),{method:"POST",url:(M=Q,Y=O,K=(X=w).startsWith("http")?"":"https://",X=X.endsWith("/")?X:"".concat(X,"/"),M?"".concat(K).concat(X).concat(Y.TEST):"".concat(K).concat(X).concat(Y.PRODUCTION)),data:R}},interpretResponse:function(c){var c=c.body,_=[];return c.bids&&c.bids.forEach(function(C){var h;h={requestId:(C=C).requestId,cpm:C.cpm,currency:C.currency||"USD",width:C.width,height:C.height,ttl:C.ttl||360,creativeId:C.creativeId,netRevenue:C.netRevenue||!0,nurl:C.nurl,mediaType:C.mediaType,meta:{mediaType:C.mediaType}},C.mediaType===e.G_?h.vastXml=C.vastXml:C.mediaType===e.D4?h.ad=C.ad:C.mediaType===e.s6&&(h.native={ortb:C.native}),C.adomain&&C.adomain.length&&(h.meta.advertiserDomains=C.adomain),_.push(h)}),_},getUserSyncs:function(f,c){for(var _=[],C=0,h=c;C<h.length;C++){var D=h[C];f.iframeEnabled&&(0,o.A)(D,"body.params.userSyncURL")&&_.push({type:"iframe",url:(0,o.A)(D,"body.params.userSyncURL")}),f.pixelEnabled&&(0,r.cy)((0,o.A)(D,"body.params.userSyncPixels"))&&(D=D.body.params.userSyncPixels.map(function(U){return{type:"image",url:U}}),_.push.apply(_,D))}return _},onBidWon:function(f){f!=null&&((0,r.fH)("onBidWon:",f),f.hasOwnProperty("nurl"))&&0<f.nurl.length&&(0,r.z$)(f.nurl)}}};function L(ee){return ee=(0,o.A)(ee,"mediaTypes"),(0,r.Qd)(ee)?Object.keys(ee):[]}function g(ee){return ee!==""&&ee!==void 0?encodeURIComponent(ee):""}function ie(ee,O){var f;return!!ee&&(f=ee.filter==="include",ee=(0,r.cy)(ee.bidders)?ee.bidders:[O],f)&&(0,r.gR)(ee,O)}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[1225],{6743:function(s,$,a){a.d($,{hZ:function(){return e},x4:function(){return l}});var o=a(7873),r=a(2713);function e(I,x,L){var g=!(3<arguments.length&&arguments[3]!==void 0)||arguments[3];if(x===L)return I;var ie=I;try{ie=(0,o.m)().convertCurrency(I,x,L)}catch(ee){if(!g)throw ee}return ie}function l(){var I=0<arguments.length&&arguments[0]!==void 0?arguments[0]:function(L){return[L.cpm,L.currency]},x=1<arguments.length&&arguments[1]!==void 0?arguments[1]:function(L,g,ie){var ee=0<arguments.length&&L!==void 0?L:null,O=!(1<arguments.length&&g!==void 0)||g,f=2<arguments.length&&ie!==void 0?ie:e;return function(c,_){return f(c,_,ee=ee==null?_:ee,O)}}();return(0,r.NV)(function(L){return x.apply(null,I(L))})}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[7606],{7194:function(s,$,a){a.d($,{$:function(){return r}});var o=a(7314),r=function(){return e=new WeakMap,function(x){var I=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},x=(x=x,o.n.index.getAuction({auctionId:x}));if(x!=null)return e.has(x)||e.set(x,I),e.get(x)};var e}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[7618],{981:function(s,x,a){a.d(x,{m:function(){return h}});var o,r=a(9466),e=a(1e3),l=a(433),I=a(1069),x=a(5825),L=a(1445),g=a(3272),ie=a(3172),ee=a(3323),O=a(7873),f=a(1371),c=a(3005),_=((o={})[e.S3]={extPrebid:{fn:function(D,U){(0,ie.J)(D,"ext.prebid",(0,I.D9)({auctiontimestamp:U.auctionStart,targeting:{includewinners:!0,includebidderkeys:!1}},(U=D.ext)==null?void 0:U.prebid)),g.$W.getConfig("debug")&&(D.ext.prebid.debug=!0)}},extPrebidChannel:{fn:function(D){(0,ie.J)(D,"ext.prebid.channel",Object.assign({name:"pbjs",version:(0,O.m)().version},(D=(D=D.ext)==null?void 0:D.prebid)==null?void 0:D.channel))}},extPrebidAliases:{fn:function(D,U,k){var M,Y=(3<arguments.length&&arguments[3]!==void 0?arguments[3]:{}).am,Y=Y===void 0?L.Ay:Y;!Y.aliasRegistry[U.bidderCode]||(M=Y.bidderRegistry[U.bidderCode])&&M.getSpec().skipPbsAliasing||((0,ie.J)(D,"ext.prebid.aliases.".concat(U.bidderCode),Y.aliasRegistry[U.bidderCode]),(Y=g.$W.getConfig("gvlMapping.".concat(U.bidderCode))||((Y=M==null?void 0:M.getSpec)==null?void 0:Y.call(M).gvlid))&&(0,ie.J)(D,"ext.prebid.aliasgvlids.".concat(U.bidderCode),Y))}}},o[e.Tb]={params:{fn:ee.W},adUnitCode:{fn:function(D,U){U=U.adUnitCode,U&&(0,ie.J)(D,"ext.prebid.adunitcode",U)}}},o[e.WR]={mediaType:{fn:x.o,priority:99},videoCache:{fn:function(D,U){var k,M,Y,X;D.mediaType===f.G_&&(k=(M=(0,l.A)(U,"ext.prebid.cache.vastXml")||{}).cacheId,M=M.url,k&&M||(Y=(U=(0,l.A)(U,"ext.prebid.targeting")||{}).hb_uuid,X=U.hb_cache_host,U=U.hb_cache_path,Y&&X&&U&&(k=Y,M="https://".concat(X).concat(U,"?uuid=").concat(Y))),k)&&M&&Object.assign(D,{videoCacheKey:k,vastUrl:M})},priority:-10},bidderCode:{fn:function(D,U,k){D.bidderCode=k.seatbid.seat,D.adapterCode=(0,l.A)(U,"ext.prebid.meta.adaptercode")||((U=k.bidRequest)==null?void 0:U.bidder)||D.bidderCode}},pbsBidId:{fn:function(D,U){U=(0,l.A)(U,"ext.prebid.bidid"),(0,I.O8)(U)&&(D.pbsBidId=U)}},adserverTargeting:{fn:function(D,U){U=(0,l.A)(U,"ext.prebid.targeting"),(0,I.Qd)(U)&&(D.adserverTargeting=U)}},extPrebidMeta:{fn:function(D,U){D.meta=(0,I.D9)({},(0,l.A)(U,"ext.prebid.meta"),D.meta)}},pbsWinTrackers:{fn:function(D,U){D.eventtrackers=D.eventtrackers||[],[[U.burl,c.OA],[(U=(U=(U=U==null?void 0:U.ext)==null?void 0:U.prebid)==null?void 0:U.events)==null?void 0:U.win,c.RO]].filter(function(k){var M=k[0],Y=k[1];return M&&D.eventtrackers.find(function(X){var P=X.method;return X.event===Y&&P===c.Ni&&X.url===M})==null}).forEach(function(k){var M=k[0];D.eventtrackers.push({method:c.Ni,event:k[1],url:M})})}}},o[e.Cf]={serverSideStats:{fn:function(D,U,k){Object.entries({errors:"serverErrors",responsetimemillis:"serverResponseTimeMs"}).forEach(function(M){var Y=M[0],X=M[1],P=(0,l.A)(U,"ext.".concat(Y,".").concat(k.bidderRequest.bidderCode));P&&(k.bidderRequest[X]=P,k.bidRequests.forEach(function(R){return R[X]=P}))})}}},o),C=a(9766),h=(0,I.Bj)(function(){return(0,r.U)((0,C.T)(),_,(0,e.yB)(e.e4))})},5825:function(s,$,a){a.d($,{o:function(){return l},s:function(){return e}});var o=a(1371),r=a(5561),e=(($={})[o.D4]="banner",$[o.s6]="native",$[o.G_]="video",$);function l(I,x,L){L=L.mediaType,L||(L=r.X.hasOwnProperty(x.mtype)?r.X[x.mtype]:(x=(x=x.ext)==null?void 0:x.prebid)==null?void 0:x.type,e.hasOwnProperty(L))||(L=o.D4),I.mediaType=L}},3323:function(s,$,a){a.d($,{W:function(){return r}});var o=a(3172);function r(e,l){var I=l.params;I&&(0,o.J)(e,"ext.prebid.bidder.".concat(l.bidder),I)}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[5957],{6400:function(s,$,a){function o(){var r=[];return{submit:function(e,l,I){var x=[l,setTimeout(function(){r.splice(r.indexOf(x),1),I()},e)];r.push(x)},resume:function(){for(;r.length;){var e=r.shift(),l=e[0];clearTimeout(e[1]),l()}}}}a.d($,{L:function(){return o}})}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[6550],{8702:function(s,$,a){function o(r,e,l){var I={};return r&&(typeof r.gdprApplies=="boolean"&&(I.gdpr=Number(r.gdprApplies)),typeof r.consentString=="string")&&(I.gdpr_consent=r.consentString),e&&(I.us_privacy=encodeURIComponent(e)),l!=null&&l.gppString&&(I.gpp=l.gppString,I.gpp_sid=(r=l.applicableSections)==null?void 0:r.toString()),I}a.d($,{d:function(){return o}})}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[2764],{2339:function(s,$,a){function o(r,e){return function(){for(var l,I,x=document.domain.split("."),L="_gd".concat(Date.now(),"_").concat(e),g=0;g<x.length;g++){var ie=x.slice(g).join(".");if(r.setCookie(L,"1",void 0,void 0,ie),I=r.getCookie(L),r.setCookie(L,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,ie),I!=="1")return l;l=ie}}}a.d($,{w:function(){return o}})}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[7639],{4122:function(s,$,a){function o(e){var e=e.performance||e.webkitPerformance||e.msPerformance||e.mozPerformance,l=e&&typeof e.getEntriesByType=="function"&&Object.prototype.toString.call(e.getEntriesByType)==="[object Function]"&&e.getEntriesByType("navigation")[0]&&e.getEntriesByType("navigation")[0].responseStart&&e.getEntriesByType("navigation")[0].requestStart&&0<e.getEntriesByType("navigation")[0].responseStart&&0<e.getEntriesByType("navigation")[0].requestStart&&Math.round(e.getEntriesByType("navigation")[0].responseStart-e.getEntriesByType("navigation")[0].requestStart);return(l=l||e&&e.timing.responseStart&&e.timing.requestStart&&0<e.timing.responseStart&&0<e.timing.requestStart&&e.timing.responseStart-e.timing.requestStart)?l.toString():""}a.d($,{v:function(){return o}})}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[6762],{4538:function(s,$,a){function o(){var l,I=0<arguments.length&&arguments[0]!==void 0?arguments[0]:window;try{l=I.top.history.length}catch{l=void 0}return l}function r(){var l,I=0<arguments.length&&arguments[0]!==void 0?arguments[0]:window;try{l=I.top.navigator.hardwareConcurrency}catch{l=void 0}return l}function e(){var l,I=0<arguments.length&&arguments[0]!==void 0?arguments[0]:window;try{l=I.top.navigator.deviceMemory}catch{l=void 0}return l}a.d($,{GA:function(){return o},iz:function(){return r},qM:function(){return e}})}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[2809],{2285:function(s,$,a){a.d($,{T:function(){return e}});var o,r=null,e=function(){return r!==!1};(a=navigator.userAgent.match(/iPhone OS (\d+)_(\d+)/))!==null&&parseInt(a[1])<17&&!navigator.userAgent.includes("Safari")||((o=document.createElement("video")).src="data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAAADxtZGF0AAAAMGWIhAAV//73ye/Apuvb3rW/k89I/Cy3PsIqP39atohOSV14BYa1heKCYgALQC5K4QAAAwZtb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAD6AABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACMHRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAD6AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAoAAAAFoAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAA+gAAAAAAAEAAAAAAahtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAAEAAAABAAFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAFTbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAABE3N0YmwAAACvc3RzZAAAAAAAAAABAAAAn2F2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAoABaAEgAAABIAAAAAAAAAAEVTGF2YzYwLjMxLjEwMiBsaWJ4MjY0AAAAAAAAAAAAAAAY//8AAAA1YXZjQwFkAAr/4QAYZ2QACqzZQo35IQAAAwABAAADAAIPEiWWAQAGaOvjyyLA/fj4AAAAABRidHJ0AAAAAAAAAaAAAAGgAAAAGHN0dHMAAAAAAAAAAQAAAAEAAEAAAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAABRzdHN6AAAAAAAAADQAAAABAAAAFHN0Y28AAAAAAAAAAQAAADAAAABidWR0YQAAAFptZXRhAAAAAAAAACFoZGxyAAAAAAAAAABtZGlyYXBwbAAAAAAAAAAAAAAAAC1pbHN0AAAAJal0b28AAAAdZGF0YQAAAAEAAAAATGF2ZjYwLjE2LjEwMA==",o.setAttribute("playsinline","true"),o.muted=!0,o.play().then(function(){r=!0,o.src=""}).catch(function(l){l instanceof DOMException&&l.name==="NotSupportedError"||(r=!1)}))}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[4577],{6568:function(s,$,a){function o(r,e,l){return l?r+e+"="+encodeURIComponent(l)+"&":r}a.d($,{v:function(){return o}})}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[259],{1223:function(s,$,a){function o(){var r=navigator.connection||navigator.webkitConnection;if(!r)return 0;switch(r.type){case"ethernet":return 1;case"wifi":return 2;case"wimax":return 6;default:switch(r.effectiveType){case"slow-2g":case"2g":return 4;case"3g":return 5;case"4g":return 6;case"5g":return 7;default:return r.type=="cellular"?3:0}}}a.d($,{Z:function(){return o}})}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[4950],{646:function(s,$,a){a.d($,{x:function(){return o}});var o={uid2:{source:"uidapi.com",atype:3,getValue:function(r){return r.id},getUidExt:function(r){if(r.ext)return r.ext}}}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[7045],{2660:function(s,$,a){a.d($,{M:function(){return o}});var o={tdid:{source:"adserver.org",atype:1,getValue:function(r){return r.id||r},getUidExt:function(r){return F({rtiPartner:"TDID"},r.ext)}}}}}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[41],{3399:function(s,$,a){var o,r=a(7873),e=a(1069),l=a(433),I=a(1657),x=a(7332),L=a(3895),g=a(9214),ie=a(8693),ee=a(3272),O=a(1371),f=a(5901),c=a(7314),_=a(8969),C="hb_pb_cat_dur",h="hb_cache_id",D=50,U=5,k=(o={},{addBid:function(R){o[R.auctionId]||M(R.auctionId),o[R.auctionId].bidStorage.add(R)},removeBid:function(R){o[R.auctionId].bidStorage.delete(R)},getBids:function(R){return o[R.auctionId]&&o[R.auctionId].bidStorage.values()},getQueueDispatcher:function(R){return o[R.auctionId]&&o[R.auctionId].queueDispatcher},setupInitialCacheKey:function(R){o[R.auctionId]||(o[R.auctionId]={},o[R.auctionId].initialCacheKey=(0,e.lk)())},getInitialCacheKey:function(R){return o[R.auctionId]&&o[R.auctionId].initialCacheKey}});function M(R){var K,Q,w;o[R]={},o[R].bidStorage=new Set,o[R].queueDispatcher=(K=D,w=1,function(u,p,T,m){function E(){(function(A,B,oe){for(var J=B,z=0;z<J.length;z++)k.removeBid(J[z]);(0,ie.M_)(B,function(re,ge){if(re)(0,e.JE)("Failed to save to the video cache: ".concat(re,". Video bid(s) must be discarded."));else for(var W=0;W<ge.length;W++)ge[W].uuid!==""?(0,I.v8)(A,B[W]):(0,e.fH)("Detected a bid was not cached because the custom key was already registered.  Attempted to use key: ".concat(B[W].customCacheKey,". Bid was: "),B[W]),oe()})}).call(S,u,p,T)}var S=this;clearTimeout(Q),m?w=1:w===U?(w=1,E()):(w++,Q=setTimeout(E,K))}),o[R].initialCacheKey=(0,e.lk)()}function Y(R,K){var Q=k.getInitialCacheKey(R),w=(0,l.A)(R,"video.durationBucket"),u=(p=R,ee.$W.getConfig("adpod.prioritizeDeals")&&(0,l.A)(p,"video.dealTier")?(u=ee.$W.getConfig("adpod.dealTier.".concat(p.bidderCode,".prefix")))?u+(0,l.A)(p,"video.dealTier"):(0,l.A)(p,"video.dealTier"):(u=(0,I.mO)(p),(0,I.ZV)(u)(p))),p=(K?"".concat(u,"_").concat((0,l.A)(R,"meta.adServerCatId"),"_"):"".concat(u,"_")).concat(w,"s");R.adserverTargeting||(R.adserverTargeting={}),R.adserverTargeting[C]=p,R.adserverTargeting[h]=Q,R.videoCacheKey=Q,R.customCacheKey="".concat(p,"_").concat(Q)}function X(R,K){return R.adserverTargeting[_.xS.PRICE_BUCKET]/R.video.durationBucket<K.adserverTargeting[_.xS.PRICE_BUCKET]/K.video.durationBucket?1:R.adserverTargeting[_.xS.PRICE_BUCKET]/R.video.durationBucket>K.adserverTargeting[_.xS.PRICE_BUCKET]/K.video.durationBucket?-1:0}ee.$W.getConfig("adpod",function(R){(R=R.adpod).bidQueueTimeDelay!==void 0&&(typeof R.bidQueueTimeDelay=="number"&&0<R.bidQueueTimeDelay?D=R.bidQueueTimeDelay:(0,e.JE)("Detected invalid value for adpod.bidQueueTimeDelay in setConfig; must be a positive number.  Using default: ".concat(D))),R.bidQueueSizeLimit!==void 0&&(typeof R.bidQueueSizeLimit=="number"&&0<R.bidQueueSizeLimit?U=R.bidQueueSizeLimit:(0,e.JE)("Detected invalid value for adpod.bidQueueSizeLimit in setConfig; must be a positive number.  Using default: ".concat(U)))}),(0,g.pT)((0,g.Yn)("callPrebidCache"),function(R,K,Q,w,u){var p,T,m,E,S,A,B;u&&u.context===O.LM?(p=ee.$W.getConfig("adpod.brandCategoryExclusion"),!(0,l.A)(Q,"meta.adServerCatId")&&p?((0,e.JE)("Detected a bid without meta.adServerCatId while setConfig({adpod.brandCategoryExclusion}) was enabled.  This bid has been rejected:",Q),w()):ee.$W.getConfig("adpod.deferCaching")===!1?(k.addBid(Q),Y(Q,p),T=K,m=Q,E=w,(B=k.getBids(m))?(B=(0,f.A6)(B),S=k.getQueueDispatcher(m),A=T.getAuctionStatus()!==I.AA,S(T,B,E,A)):(0,e.JE)("Attempted to cache a bid from an unknown auction. Bid:",m)):(k.setupInitialCacheKey(Q),Y(Q,p),(0,I.v8)(K,Q),w())):R.call(this,K,Q,w,u)}),(0,g.pT)(x.Z,function(R,K){var Q=K.filter(function(w){var u=(0,l.A)(w,"mediaTypes"),p=(0,l.A)(u,"video");if(p&&p.context===O.LM){if(1<Object.keys(u).length)return(0,e.JE)("Detected more than one mediaType in adUnitCode: ".concat(w.code," while attempting to define an 'adpod' video adUnit.  'adpod' adUnits cannot be mixed with other mediaTypes.  This adUnit will be removed from the auction.")),!1;var u="Detected missing or incorrectly setup fields for an adpod adUnit.  Please review the following fields of adUnitCode: ".concat(w.code,".  This adUnit will be removed from the auction."),w=!!(p.playerSize&&((0,e.Uu)(p.playerSize,2)||(0,e.cy)(p.playerSize)&&p.playerSize.every(function(A){return(0,e.Uu)(A,2)}))||p.sizeConfig),T=!!(p.adPodDurationSec&&(0,e.Et)(p.adPodDurationSec)&&0<p.adPodDurationSec),p=!!(p.durationRangeSec&&(0,e.Uu)(p.durationRangeSec)&&p.durationRangeSec.every(function(A){return 0<A}));if(!w||!T||!p)return(0,e.JE)((u+=w?"":"\nmediaTypes.video.playerSize")+(T?"":"\nmediaTypes.video.adPodDurationSec")+(p?"":"\nmediaTypes.video.durationRangeSec")),!1}return!0});R.call(this,K=Q)}),(0,g.pT)(L.E2,function(R,K,Q,w,u){var p;u===O.LM?(p=!0,ee.$W.getConfig("adpod.brandCategoryExclusion")&&!(0,l.A)(K,"meta.primaryCatId")&&(p=!1),(0,l.A)(K,"video")&&((0,l.A)(K,"video.context")&&K.video.context===O.LM||(p=!1),(0,l.A)(K,"video.durationSeconds")&&!(K.video.durationSeconds<=0)&&((T,m)=>{var E=(0,l.A)(m,"video.durationSeconds"),S=T.durationRangeSec;if(S.sort(function(A,B){return A-B}),T.requireExactDuration){if(!(0,f.I6)(S,function(A){return A===E}))return(0,e.JE)("Detected a bid with a duration value not part of the list of accepted ranges specified in adUnit.mediaTypes.video.durationRangeSec.  Exact match durations must be used for this adUnit. Rejecting bid: ",m),!1;m.video.durationBucket=E}else{if(T=Math.max.apply(Math,S),!(E<=T+2))return(0,e.JE)("Detected a bid with a duration value outside the accepted ranges specified in adUnit.mediaTypes.video.durationRangeSec.  Rejecting bid: ",m),!1;T=(0,f.I6)(S,function(A){return E<=A+2}),m.video.durationBucket=T}return!0})(w,K)||(p=!1)),ee.$W.getConfig("cache.url")||!K.vastXml||K.vastUrl||((0,e.vV)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });\n      '),p=!1),R.bail(p)):R.call(this,K,Q,w,u)});var P={TARGETING_KEY_PB_CAT_DUR:C,TARGETING_KEY_CACHE_ID:h,getTargeting:function(){var R,K,Q,w,u,p,T,m,E,S,A,B=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},oe=B.codes,J=B.callback;if(J)return K=oe||[],B=c.n.getAdUnits().filter(function(z){return(0,l.A)(z,"mediaTypes.video.context")===O.LM}).filter(function(z){return!(0<K.length)||K.indexOf(z.code)!=-1}),oe=c.n.getBidsReceived(),w=ee.$W.getConfig("adpod.brandCategoryExclusion"),R=typeof(R=ee.$W.getConfig("adpod.deferCaching"))!="boolean"||R,oe=oe,Q=B.map(function(z){return z.code}),T=oe.filter(function(z){return Q.indexOf(z.adUnitCode)!=-1&&z.video&&z.video.context===O.LM}),T=w||R?(u=T.map(function(z){var re;return Object.assign({},z,((re={})[C]=z.adserverTargeting[C],re))}),u=(0,e.$z)(u,C),p=[],Object.keys(u).forEach(function(z){var re;u[z].sort((re="responseTimestamp",function(ge,W){return ge[re]<W[re]?1:ge[re]>W[re]?-1:0})),p.push(u[z][0])}),p):T,ee.$W.getConfig("adpod.prioritizeDeals")?(w=(oe=T.reduce(function(z,re){var ge=(0,l.A)(re,"video.dealTier"),W=ee.$W.getConfig("adpod.dealTier.".concat(re.bidderCode,".minDealTier"));return(W&&ge?W<=ge?z[1]:z[0]:ge?z[1]:z[0]).push(re),z},[[],[]]))[0],(oe=oe[1]).sort(X),w.sort(X),T=oe.concat(w)):T.sort(X),!(m={})===R?(B.forEach(function(z){var re=[],ge=(0,l.A)(z,"mediaTypes.video.adPodDurationSec");T.filter(function(W){return W.adUnitCode===z.code}).forEach(function(W,Z,j){var N;W.video.durationBucket<=ge&&(re.push(((N={})[C]=W.adserverTargeting[C],N)),ge-=W.video.durationBucket),Z===j.length-1&&0<re.length&&re.push(((N={})[h]=W.adserverTargeting[h],N))}),m[z.code]=re}),J(null,m)):(E=[],B.forEach(function(z){var re=(0,l.A)(z,"mediaTypes.video.adPodDurationSec");T.filter(function(ge){return ge.adUnitCode===z.code}).forEach(function(ge){ge.video.durationBucket<=re&&(E.push(ge),re-=ge.video.durationBucket)})}),S=E,A=function(z,re){var ge;z?J(z,null):(ge=(0,e.$z)(re,"adUnitCode"),Object.keys(ge).forEach(function(W){var Z=[];ge[W].forEach(function(j,N,q){var he;Z.push(((he={})[C]=j.adserverTargeting[C],he)),N===q.length-1&&0<Z.length&&Z.push(((he={})[h]=j.adserverTargeting[h],he))}),m[W]=Z}),J(null,m))},(0,ie.M_)(S,function(z,re){if(z)A(z,null);else{for(var ge=[],W=0;W<re.length;W++)re[W]!==""&&ge.push(S[W]);A(null,ge)}})),m;(0,e.vV)("No callback function was defined in the getTargeting call.  Aborting getTargeting().")}};Object.freeze(P),(0,g.xG)("adpod",function(){if((0,e.Qd)(arguments.length<=0?void 0:arguments[0])){var R,K=arguments.length<=0?void 0:arguments[0],Q=P;for(R in Q)K[R]=Q[R]}else(0,e.vV)("Adpod module needs plain object to share methods with submodule")}),(0,r.E)("adpod")}},function(s){s.O(0,[802,2139,1085],function(){return s(s.s=3399)}),s.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[4599],{791:function(s,$,T){var o=T(7873),r=T(1069),e=T(433),l=T(5789),I=T(3272),x=T(7377),L=T(1371),g=T(5901),ie=T(3895),ee=T(2938),O=T(2693),f=T(2621),c=T(2449),_=T(4673),C=T(554),h=T(2349),D=T(5761),U=T(9906),k=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],M=["minduration","maxduration","skip","skipafter","playbackmethod","api","startdelay","placement","plcmt"],Y=["age","externalUid","external_uid","segments","gender","dnt","language"],X=["geo","device_id"],P=["enabled","dongle","member_id","debug_timeout"],R={apn_debug_dongle:"dongle",apn_debug_member_id:"member_id",apn_debug_timeout:"debug_timeout"},K={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5,"in-feed":6,interstitial:7,accompanying_content_pre_roll:8,accompanying_content_mid_roll:9,accompanying_content_post_roll:10}},Q={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},w=/\/\/cdn\.adnxs\.com\/v|\/\/cdn\.adnxs\-simple\.com\/v/,u=(0,ee.vM)({bidderCode:"appnexus"}),p=new Map([[1,"Mobile/Tablet - General"],[2,"Personal Computer"],[3,"Connected TV"],[4,"Phone"],[5,"Tablet"],[6,"Connected Device"],[7,"Set Top Box"],[8,"OOH Device"]]),T={code:"appnexus",gvlid:32,aliases:h.DX,supportedMediaTypes:[L.D4,L.G_,L.s6],isBidRequestValid:function(Z){return!!(Z.params.placementId||Z.params.placement_id||Z.params.member&&(Z.params.invCode||Z.params.inv_code))},buildRequests:function(Z,j){var N,q=(Z=(0,c.Xj)(Z)).map(m),he=(0,g.I6)(Z,S),ue={},me=(I.$W.getConfig("coppa")===!0&&(ue={coppa:!0}),he&&Object.keys(he.params.user).filter(function(Ue){return(0,g.mK)(Y,Ue)}).forEach(function(Ue){var xe,Me=(0,h.vk)(Ue);Ue==="segments"&&(0,r.cy)(he.params.user[Ue])?(xe=[],he.params.user[Ue].forEach(function(ke){(0,r.Et)(ke)?xe.push({id:ke}):(0,r.Qd)(ke)&&xe.push(ke)}),ue[Me]=xe):Ue!=="segments"&&(ue[Me]=he.params.user[Ue])}),(0,g.I6)(Z,B)),Ne=(me&&me.params&&me.params.app&&(N={},Object.keys(me.params.app).filter(function(Ue){return(0,g.mK)(X,Ue)}).forEach(function(Ue){return N[Ue]=me.params.app[Ue]})),(0,g.I6)(Z,oe)),Oe=(Ne&&Ne.params&&me.params.app&&me.params.app.id&&(We={appid:Ne.params.app.id}),{}),se={},Pe=u.getCookie("apn_prebid_debug")||null;if(Pe)try{Oe=JSON.parse(Pe)}catch(Ue){(0,r.vV)("AppNexus Debug Auction Cookie Error:\n\n"+Ue)}else{Object.keys(R).forEach(function(Me){var ke=(0,r.Ez)(Me);(0,r.O8)(ke)&&ke!==""&&(Oe[R[Me]]=ke,Oe.enabled=!0)});var Oe=(0,D.$)({member_id:"number",debug_timeout:"number"},Oe),Pe=(0,g.I6)(Z,J);Pe&&Pe.debug&&(Oe=Pe.debug)}Oe&&Oe.enabled&&Object.keys(Oe).filter(function(Ue){return(0,g.mK)(P,Ue)}).forEach(function(Ue){se[Ue]=Oe[Ue]});var ne,de,ce,ve,pe,we,te,H,ye,Ce,Pe=(0,g.I6)(Z,A),Pe=Pe?parseInt(Pe.params.member,10):0,Se=Z[0].schain,De=(0,g.I6)(Z,re),_e={tags:be([],q,!0),user:ue,sdk:{source:"pbjs",version:"9.37.0"},schain:Se},Pe=(De&&(_e.iab_support={omidpn:"Appnexus",omidpv:"9.37.0"}),0<Pe&&(_e.member_id=Pe),me&&(_e.device=N),Ne&&(_e.app=We),(Se=j==null?void 0:j.ortb2)!=null&&Se.device&&(_e.device=_e.device||{},(0,r.D9)(_e.device,(De=j.ortb2.device,ne={useragent:De.ua,devicetype:p.get(De.devicetype),make:De.make,model:De.model,os:De.os,os_version:De.osv,w:De.w,h:De.h,ppi:De.ppi,pxratio:De.pxratio},Object.keys(ne).reduce(function(Ue,xe){return ne[xe]&&(Ue[xe]=ne[xe]),Ue},{})))),(0,r.Go)(j&&j.ortb2)),Ne=(0,r.Go)(I.$W.getConfig("appnexusAuctionKeywords"))||{},We=(0,C.QF)(Pe,Ne);return 0<We.length&&(_e.keywords=We),I.$W.getConfig("adpod.brandCategoryExclusion")&&(_e.brand_category_uniqueness=!0),se.enabled&&(_e.debug=se,(0,r.fH)("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(se,null,4))),j&&j.gdprConsent&&(_e.gdpr_consent={consent_string:j.gdprConsent.consentString,consent_required:j.gdprConsent.gdprApplies},j.gdprConsent.addtlConsent)&&j.gdprConsent.addtlConsent.indexOf("~")!==-1&&(De=(Se=j.gdprConsent.addtlConsent).substring(Se.indexOf("~")+1),_e.gdpr_consent.addtl_consent=De.split(".").map(function(Ue){return parseInt(Ue,10)})),j&&j.uspConsent&&(_e.us_privacy=j.uspConsent),j!=null&&j.gppConsent?_e.privacy={gpp:j.gppConsent.gppString,gpp_sid:j.gppConsent.applicableSections}:(Ne=(Pe=j==null?void 0:j.ortb2)==null?void 0:Pe.regs)!=null&&Ne.gpp&&(_e.privacy={gpp:j.ortb2.regs.gpp,gpp_sid:j.ortb2.regs.gpp_sid}),j&&j.refererInfo&&(We={rd_ref:encodeURIComponent(j.refererInfo.topmostLocation),rd_top:j.refererInfo.reachedTop,rd_ifs:j.refererInfo.numIframes,rd_stk:j.refererInfo.stack.map(function(Ue){return encodeURIComponent(Ue)}).join(",")},Se=j.refererInfo.canonicalUrl,(0,r.O8)(Se)&&Se!==""&&(We.rd_can=Se),_e.referrer_detection=We),(0,g.I6)(Z,z)&&Z.filter(z).forEach(function(Ue){it=q,Qe=(xe=Ue).mediaTypes.video,He=Qe.durationRangeSec,Qe=Qe.requireExactDuration,dt=xe.mediaTypes.video,Me=dt.adPodDurationSec,lt=dt.durationRangeSec,dt=dt.requireExactDuration,et=Math.min.apply(Math,lt),Me=Math.floor(Me/et),et=dt?Math.max(Me,lt.length):Me,st=Math.max.apply(Math,He),dt=it.filter(function(Be){return Be.uuid===xe.bidId}),lt=h.GS.apply(void 0,be(be([],dt,!1),[et],!1)),Qe?(Me=Math.ceil(et/He.length),ke=(0,U.i)(lt,Me),He.forEach(function(Be,Ge){ke[Ge].map(function($e){ge($e,"minduration",Be),ge($e,"maxduration",Be)})})):lt.map(function(Be){return ge(Be,"maxduration",st)});var xe,Me,ke,Qe,He,et,st,lt,it=lt,dt=_e.tags.filter(function(Be){return Be.uuid!==Ue.bidId});_e.tags=be(be([],dt,!0),it,!0)}),Z[0].userId&&(de=[],Z[0].userIdAsEids&&Z[0].userIdAsEids.forEach(function(Ue){!Ue||!Ue.uids||Ue.uids.length<1||Ue.uids.forEach(function(xe){xe={source:Ue.source,id:xe.id},Ue.source=="adserver.org"?xe.rti_partner="TDID":Ue.source=="uidapi.com"&&(xe.rti_partner="UID2"),de.push(xe)})}),de.length)&&(_e.eids=de),(Ne=(Pe=(De=j==null?void 0:j.ortb2)==null?void 0:De.regs)==null?void 0:Pe.ext)!=null&&Ne.dsa&&(ce=j.ortb2.regs.ext.dsa,ve={},["dsarequired","pubrender","datatopub"].forEach(function(Ue){(0,r.Et)(ce[Ue])&&(ve[Ue]=ce[Ue])}),(0,r.cy)(ce.transparency)&&ce.transparency.every(function(Ue){return(0,r.Qd)(Ue)})&&(pe=[],ce.transparency.forEach(function(Ue){(0,r.O8)(Ue.domain)&&Ue.domain!=""&&(0,r.cy)(Ue.dsaparams)&&Ue.dsaparams.every(function(xe){return(0,r.Et)(xe)})&&pe.push(Ue)}),0<pe.length)&&(ve.transparency=pe),(0,r.Im)(ve)||(_e.dsa=ve)),q[0].publisher_id&&(_e.publisher_id=q[0].publisher_id),Se=_e,we=j,H=[],ye={withCredentials:!0},Ce="https://ib.adnxs.com/ut/v3/prebid",(0,f.C)(we==null?void 0:we.gdprConsent)||(Ce="https://ib.adnxs-simple.com/ut/v3/prebid"),(0,r.Ez)("apn_test").toUpperCase()!=="TRUE"&&I.$W.getConfig("apn_test")!==!0||(ye.customHeaders={"X-Is-Test":1}),15<Se.tags.length?(te=(0,r.Go)(Se),(0,U.i)(Se.tags,15).forEach(function(Ue){te.tags=Ue,Ue=JSON.stringify(te),H.push({method:"POST",url:Ce,data:Ue,bidderRequest:we,options:ye})})):(Se=JSON.stringify(Se),H={method:"POST",url:Ce,data:Se,bidderRequest:we,options:ye}),H},interpretResponse:function(Z,j){var N=this,q=j.bidderRequest,he=(Z=Z.body,[]);return!Z||Z.error?(j="in response for ".concat(q.bidderCode," adapter"),Z&&Z.error&&(j+=": ".concat(Z.error)),(0,r.vV)(j)):(Z.tags&&Z.tags.forEach(function(ue){var me=ue&&ue.ads&&ue.ads.length&&(0,g.I6)(ue.ads,function(Oe){return Oe.rtb});me&&(O.u.get(q.bidderCode,"allowZeroCpmBids")===!0?0<=me.cpm:0<me.cpm)&&(0,g.mK)(N.supportedMediaTypes,me.ad_type)&&((ue=((Oe,se,ne)=>{var de,ce=(0,r.D4)(Oe.uuid,[ne]),ve=(0,r.s0)(),pe={adId:ve,requestId:Oe.uuid,cpm:se.cpm,creativeId:se.creative_id,dealId:se.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:ce.adUnitCode,appnexus:{buyerMemberId:se.buyer_member_id,dealPriority:se.deal_priority,dealCode:se.deal_code}};if(se.adomain&&(pe.meta=Object.assign({},pe.meta,{advertiserDomains:[se.adomain]})),se.advertiser_id&&(pe.meta=Object.assign({},pe.meta,{advertiserId:se.advertiser_id})),se.dsa&&(pe.meta=Object.assign({},pe.meta,{dsa:se.dsa})),se.buyer_member_id&&(pe.meta=Object.assign({},pe.meta,{dchain:{ver:"1.0",complete:0,nodes:[{bsid:se.buyer_member_id.toString()}]}})),se.brand_id&&(pe.meta=Object.assign({},pe.meta,{brandId:se.brand_id})),se.rtb.video)switch(Object.assign(pe,{width:se.rtb.video.player_width,height:se.rtb.video.player_height,vastImpUrl:se.notify_url,ttl:3600}),(0,e.A)(ce,"mediaTypes.video.context")){case L.LM:var we=_.n[se.brand_category_id]||null,we=(pe.meta=Object.assign({},pe.meta,{primaryCatId:we}),se.deal_priority);pe.video={context:L.LM,durationSeconds:Math.floor(se.rtb.video.duration_ms/1e3),dealTier:we},pe.vastUrl=se.rtb.video.asset_url;break;case ie.H6:pe.adResponse=Oe,pe.adResponse.ad=pe.adResponse.ads[0],pe.adResponse.ad.video=pe.adResponse.ad.rtb.video,pe.vastXml=se.rtb.video.content,se.renderer_url&&(we=(0,g.I6)(ne.bids,function(De){return De.bidId===Oe.uuid}),de=(de=(0,e.A)(we,"mediaTypes.video.renderer.options"))||(0,e.A)(we,"renderer.options"),pe.renderer=function(De,_e,Pe){_e=l.A4.install({id:_e.renderer_id,url:_e.renderer_url,config:2<arguments.length&&Pe!==void 0?Pe:{},loaded:!1,adUnitCode:De});try{_e.setRender(W)}catch(Ne){(0,r.JE)("Prebid Error calling setRender on renderer",Ne)}return _e.setEventHandlers({impression:function(){return(0,r.OG)("AppNexus outstream video impression event")},loaded:function(){return(0,r.OG)("AppNexus outstream video loaded event")},ended:function(){(0,r.OG)("AppNexus outstream renderer video event"),document.querySelector("#".concat(De)).style.display="none"}}),_e}(pe.adUnitCode,se,de));break;case ie.mn:pe.vastUrl=se.notify_url+"&redir="+encodeURIComponent(se.rtb.video.asset_url)}else if(se.rtb[L.s6]){var te,H=se.rtb[L.s6],ce=((_e=>{var Pe,Ne;if(_e&&_e!=="")return Pe=(Pe=_e.match(w))!=null&&1<=Pe.length,Ne=(Ne=_e.match("trk.js"))!=null&&1<=Ne.length,_e.startsWith("<script")&&Ne&&Pe})(se.viewability.config)&&(ve="pbjs_adid="+ve+";pbjs_auc="+ce.adUnitCode,te=se.viewability.config.replace("dom_id=%native_dom_id%",ve)),H.javascript_trackers);ce==null?ce=te:(0,r.O8)(ce)?ce=[ce,te]:ce.push(te),pe[L.s6]={title:H.title,body:H.desc,body2:H.desc2,cta:H.ctatext,rating:H.rating,sponsoredBy:H.sponsored,privacyLink:H.privacy_link,address:H.address,downloads:H.downloads,likes:H.likes,phone:H.phone,price:H.price,salePrice:H.saleprice,clickUrl:H.link.url,displayUrl:H.displayurl,clickTrackers:H.link.click_trackers,impressionTrackers:H.impression_trackers,video:H.video,javascriptTrackers:ce},H.main_img&&(pe[L.s6].image={url:H.main_img.url,height:H.main_img.height,width:H.main_img.width}),H.icon&&(pe[L.s6].icon={url:H.icon.url,height:H.icon.height,width:H.icon.width}),pe[L.s6].ext={video:H.video,customImage1:H.image1&&{url:H.image1.url,height:H.image1.height,width:H.image1.width},customImage2:H.image2&&{url:H.image2.url,height:H.image2.height,width:H.image2.width},customImage3:H.image3&&{url:H.image3.url,height:H.image3.height,width:H.image3.width},customImage4:H.image4&&{url:H.image4.url,height:H.image4.height,width:H.image4.width},customImage5:H.image5&&{url:H.image5.url,height:H.image5.height,width:H.image5.width},customIcon1:H.icon1&&{url:H.icon1.url,height:H.icon1.height,width:H.icon1.width},customIcon2:H.icon2&&{url:H.icon2.url,height:H.icon2.height,width:H.icon2.width},customIcon3:H.icon3&&{url:H.icon3.url,height:H.icon3.height,width:H.icon3.width},customIcon4:H.icon4&&{url:H.icon4.url,height:H.icon4.height,width:H.icon4.width},customIcon5:H.icon5&&{url:H.icon5.url,height:H.icon5.height,width:H.icon5.width},customSocialIcon1:H.socialicon1&&{url:H.socialicon1.url,height:H.socialicon1.height,width:H.socialicon1.width},customSocialIcon2:H.socialicon2&&{url:H.socialicon2.url,height:H.socialicon2.height,width:H.socialicon2.width},customSocialIcon3:H.socialicon3&&{url:H.socialicon3.url,height:H.socialicon3.height,width:H.socialicon3.width},customSocialIcon4:H.socialicon4&&{url:H.socialicon4.url,height:H.socialicon4.height,width:H.socialicon4.width},customSocialIcon5:H.socialicon5&&{url:H.socialicon5.url,height:H.socialicon5.height,width:H.socialicon5.width},customTitle1:H.title1,customTitle2:H.title2,customTitle3:H.title3,customTitle4:H.title4,customTitle5:H.title5,customBody1:H.body1,customBody2:H.body2,customBody3:H.body3,customBody4:H.body4,customBody5:H.body5,customCta1:H.ctatext1,customCta2:H.ctatext2,customCta3:H.ctatext3,customCta4:H.ctatext4,customCta5:H.ctatext5,customDisplayUrl1:H.displayurl1,customDisplayUrl2:H.displayurl2,customDisplayUrl3:H.displayurl3,customDisplayUrl4:H.displayurl4,customDisplayUrl5:H.displayurl5,customSocialUrl1:H.socialurl1,customSocialUrl2:H.socialurl2,customSocialUrl3:H.socialurl3,customSocialUrl4:H.socialurl4,customSocialUrl5:H.socialurl5}}else{Object.assign(pe,{width:se.rtb.banner.width,height:se.rtb.banner.height,ad:se.rtb.banner.content});try{if(se.rtb.trackers)for(var ye=0;ye<se.rtb.trackers[0].impression_urls.length;ye++){var Ce=se.rtb.trackers[0].impression_urls[ye],Se=(0,r.Tz)(Ce);pe.ad+=Se}}catch(De){(0,r.vV)("Error appending tracking pixel",De)}}return pe})(ue,me,q)).mediaType=(me=me.ad_type)===L.G_?L.G_:me===L.s6?L.s6:L.D4,he.push(ue))}),Z.debug&&Z.debug.debug_info&&(j=(j="AppNexus Debug Auction for Prebid\n\n"+Z.debug.debug_info).replace(/(<td>|<th>)/gm,"	").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),(0,r.OG)("https://console.appnexus.com/docs/understanding-the-debug-auction"),(0,r.OG)(j))),he},getUserSyncs:function(Z,j,N,q,he){return Z.iframeEnabled&&(0,f.C)(N)?[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]:Z.pixelEnabled?["https://px.ads.linkedin.com/setuid?partner=appNexus"].map(function(ue){return{type:"image",url:ue}}):void 0}};function m(Z){var j,N,q={},me=(Object.keys(Z.params).forEach(function(Oe){var se=(0,h.vk)(Oe);se!==Oe&&(Z.params[se]=Z.params[Oe],delete Z.params[Oe])}),q.sizes=E(Z.sizes),q.primary_size=q.sizes[0],q.ad_types=[],q.uuid=Z.bidId,Z.params.placement_id?q.id=parseInt(Z.params.placement_id,10):q.code=Z.params.inv_code,(0,r.Ez)("ast_override_div")),he=((0,r.O8)(me)&&me!==""&&(me=decodeURIComponent(me).split(",").find(function(Oe){return Oe.startsWith("".concat(Z.adUnitCode,":"))}))&&(me=me.split(":")[1])&&(q.force_creative_id=parseInt(me,10)),q.allow_smaller_sizes=Z.params.allow_smaller_sizes||!1,q.use_pmt_rule=typeof Z.params.use_payment_rule=="boolean"?Z.params.use_payment_rule:typeof Z.params.use_pmt_rule=="boolean"&&Z.params.use_pmt_rule,q.prebid=!0,q.disable_psa=!0,me=Z,(0,r.fp)(me.getFloor)?(he=me.getFloor({currency:"USD",mediaType:"*",size:"*"}),(0,r.Qd)(he)&&!isNaN(he.floor)&&he.currency==="USD"?he.floor:null):me.params.reserve||null),me=(he&&(q.reserve=he),Z.params.position?q.position={above:1,below:2}[Z.params.position]||0:(me=(0,e.A)(Z,"mediaTypes.banner.pos")||(0,e.A)(Z,"mediaTypes.video.pos"))!==0&&me!==1&&me!==3||(q.position=me===3?2:me),Z.params.traffic_source_code&&(q.traffic_source_code=Z.params.traffic_source_code),Z.params.private_sizes&&(q.private_sizes=E(Z.params.private_sizes)),Z.params.supply_type&&(q.supply_type=Z.params.supply_type),Z.params.pub_click&&(q.pubclick=Z.params.pub_click),Z.params.ext_inv_code&&(q.ext_inv_code=Z.params.ext_inv_code),Z.params.publisher_id&&(q.publisher_id=parseInt(Z.params.publisher_id,10)),Z.params.external_imp_id&&(q.external_imp_id=Z.params.external_imp_id),(0,C.T_)((0,C.gg)((0,e.A)(Z,"ortb2Imp.ext.data.keywords")),(me=Z.params)==null?void 0:me.keywords)),me=(0<me.length&&(q.keywords=me),(0,e.A)(Z,"ortb2Imp.ext.gpid")||(0,e.A)(Z,"ortb2Imp.ext.data.pbadslot")),ue=(me&&(q.gpid=me),(Z.mediaType===L.s6||(0,e.A)(Z,"mediaTypes.".concat(L.s6)))&&(q.ad_types.push(L.s6),q.sizes.length===0&&(q.sizes=E([1,1])),Z.nativeParams)&&(j=Z.nativeParams,N={},Object.keys(j).forEach(function(Oe){var se=Q[Oe]&&Q[Oe].serverName||Q[Oe]||Oe,ne=Q[Oe]&&Q[Oe].requiredParams;N[se]=Object.assign({},ne,j[Oe]),(se===Q.image.serverName||se===Q.icon.serverName)&&N[se].sizes&&(ne=N[se].sizes,(0,r.Uu)(ne)||(0,r.cy)(ne)&&0<ne.length&&ne.every(function(de){return(0,r.Uu)(de)}))&&(N[se].sizes=E(N[se].sizes)),se===Q.privacyLink&&(N.privacy_supported=!0)}),me=N,q[L.s6]={layouts:[me]}),(0,e.A)(Z,"mediaTypes.".concat(L.G_))),me=(0,e.A)(Z,"mediaTypes.video.context");return q.hb_source=ue&&me==="adpod"?7:1,Z.mediaType!==L.G_&&!ue||q.ad_types.push(L.G_),(Z.mediaType===L.G_||ue&&me!=="outstream")&&(q.require_asset_url=!0),Z.params.video&&(q.video={},Object.keys(Z.params.video).filter(function(Oe){return(0,g.mK)(k,Oe)}).forEach(function(Oe){switch(Oe){case"context":case"playback_method":var se=Z.params.video[Oe],se=(0,r.cy)(se)?se[0]:se;q.video[Oe]=K[Oe][se];break;case"frameworks":break;default:q.video[Oe]=Z.params.video[Oe]}}),Z.params.video.frameworks)&&(0,r.cy)(Z.params.video.frameworks)&&(q.video_frameworks=Z.params.video.frameworks),ue&&(q.video=q.video||{},Object.keys(ue).filter(function(Oe){return(0,g.mK)(M,Oe)}).forEach(function(Oe){switch(Oe){case"minduration":case"maxduration":typeof q.video[Oe]!="number"&&(q.video[Oe]=ue[Oe]);break;case"skip":typeof q.video.skippable!="boolean"&&(q.video.skippable=ue[Oe]===1);break;case"skipafter":typeof q.video.skipoffset!="number"&&(q.video.skippoffset=ue[Oe]);break;case"playbackmethod":typeof q.video.playback_method!="number"&&(ce=ue[Oe],1<=(ce=(0,r.cy)(ce)?ce[0]:ce))&&ce<=4&&(q.video.playback_method=ce);break;case"api":!q.video_frameworks&&(0,r.cy)(ue[Oe])&&(ce=ue[Oe].map(function(ve){if(ve=ve===4?5:ve===5?4:ve,1<=ve&&ve<=5)return ve}).filter(function(ve){return ve}),q.video_frameworks=ce);break;case"startdelay":case"plcmt":case"placement":var se,ne,de,ce;typeof q.video.context!="number"&&(se=ue.plcmt,ne=ue.placement,de=ue.startdelay,ce=(()=>{if(se)return se!==2?se===3?"interstitial":se===4?"outstream":void 0:de!==void 0?de===0?"accompanying_content_pre_roll":de===-1?"accompanying_content_mid_roll":de===-2?"accompanying_content_post_roll":void 0:void 0})()||(()=>{if(ne)return ne===2?"in-banner":ne===3?"outstream":ne===4?"in-feed":ne===5?"intersitial":void 0})()||(ve=>{if(ve!==void 0)return ve===0?"pre_roll":ve===-1?"mid_roll":ve===-2?"post_roll":void 0})(de),q.video.context=K.context[ce])}})),Z.renderer&&(q.video=Object.assign({},q.video,{custom_renderer_present:!0})),Z.params.frameworks&&(0,r.cy)(Z.params.frameworks)&&(q.banner_frameworks=Z.params.frameworks),(0,e.A)(Z,"mediaTypes.".concat(L.D4))&&q.ad_types.push(L.D4),q.ad_types.length===0&&delete q.ad_types,q}function E(Z){var j=[],N={};if((0,r.cy)(Z)&&Z.length===2&&!(0,r.cy)(Z[0]))N.width=parseInt(Z[0],10),N.height=parseInt(Z[1],10),j.push(N);else if(typeof Z=="object")for(var q=0;q<Z.length;q++){var he=Z[q];(N={}).width=parseInt(he[0],10),N.height=parseInt(he[1],10),j.push(N)}return j}function S(Z){return!!Z.params.user}function A(Z){return!!parseInt(Z.params.member,10)}function B(Z){if(Z.params)return!!Z.params.app}function oe(Z){return Z.params&&Z.params.app?!!Z.params.app.id:!!Z.params.app}function J(Z){return!!Z.debug}function z(Z){return Z.mediaTypes&&Z.mediaTypes.video&&Z.mediaTypes.video.context===L.LM}function re(Z){var j=!1,N=Z.params,q=Z.params.video;return j=!(j=N.frameworks&&(0,r.cy)(N.frameworks)?(0,g.mK)(Z.params.frameworks,6):j)&&q&&q.frameworks&&(0,r.cy)(q.frameworks)?(0,g.mK)(Z.params.video.frameworks,6):j}function ge(Z,j,N){(0,r.Im)(Z.video)&&(Z.video={}),Z.video[j]=N}function W(Z,j){var N=Z.adUnitCode;try{var q=document.getElementById(N).querySelectorAll("div[id^='google_ads']");q[0]&&q[0].style.setProperty("display","none")}catch{}var he=Z.adUnitCode;try{var ue=document.getElementById(he).querySelectorAll("script[id^='sas_script']");ue[0].nextSibling&&ue[0].nextSibling.localName==="iframe"&&ue[0].nextSibling.style.setProperty("display","none")}catch{}Z.renderer.push(function(){((j==null?void 0:j.defaultView)||window).ANOutstreamVideo.renderAd({tagId:Z.adResponse.tag_id,sizes:[Z.getSize().split("x")],targetId:Z.adUnitCode,uuid:Z.adResponse.uuid,adResponse:Z.adResponse,rendererOptions:Z.renderer.getConfig()},(function(me,Oe,se){me.renderer.handleVideoEvent({id:Oe,eventName:se})}).bind(null,Z))})}(0,x.a$)(T),(0,o.E)("appnexusBidAdapter")}},function(s){s.O(0,[802,7247,5444,2126,4982,2698,2139,1085],function(){return s(s.s=791)}),s.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[7744],{8964:function(s,$,g){var o=g(7873),r=g(3272),e=g(9214),l=g(8044),I=g(1069),x=g(1657),L=g(2938),g=g(6894),ie=(0,L.CK)("categoryTranslation"),ee="iabToFwMappingkey",O="iabToFwMappingkeyPub",f=(0,e.A_)("async",function(C){C==="freewheel"&&_("https://cdn.jsdelivr.net/gh/prebid/category-mapping-file@1/freewheel-mapping.json",ee)},"registerAdserver"),c=(e.Gc.then(function(){return f()}),(0,g.NL)("categoryTranslation",function(C,h,D,U){if(!D)return C.call(this,h,D,U);if(!r.$W.getConfig("adpod.brandCategoryExclusion"))return C.call(this,h,D,U);var k=r.$W.getConfig("brandCategoryTranslation.translationFile")?O:ee;if(D.meta&&!D.meta.adServerCatId)if(k=ie.getDataFromLocalStorage(k),k){try{k=JSON.parse(k)}catch{(0,I.vV)("Failed to parse translation mapping file")}D.meta.primaryCatId&&k.mapping&&k.mapping[D.meta.primaryCatId]?D.meta.adServerCatId=k.mapping[D.meta.primaryCatId].id:D.meta.adServerCatId=void 0}else(0,I.vV)("Translation mapping data not found in local storage");C.call(this,h,D,U)}));function _(C,h){(0,e.pT)(x.sR,c,50);var D=ie.getDataFromLocalStorage(h);try{(!(D=D?JSON.parse(D):void 0)||(0,I.vE)()>D.lastUpdated+864e5)&&(0,l.RD)(C,{success:function(U){try{(U=JSON.parse(U)).lastUpdated=(0,I.vE)(),ie.setDataInLocalStorage(h,JSON.stringify(U))}catch{(0,I.vV)("Failed to parse translation mapping file")}},error:function(){(0,I.vV)("Failed to load brand category translation file.")}})}catch{(0,I.vV)("Failed to parse translation mapping file")}}r.$W.getConfig("brandCategoryTranslation",function(C){(C=C.brandCategoryTranslation).translationFile&&_(C.translationFile,O)}),(0,o.E)("categoryTranslation")}},function(s){s.O(0,[802,2139,1085],function(){return s(s.s=8964)}),s.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[6106],{9602:function(s,$,I){var o=I(7873),r=I(1069),e=I(8044),l=I(8910),g=I(8969),I=I(1445),x=Math.random()<=.01,L="https://bids.concert.io/analytics",g=g.qY,ie=g.BID_RESPONSE,ee=g.BID_WON,O=g.AUCTION_END,f=[],c=Object.assign((0,l.Ay)({url:L,analyticsType:"endpoint"}),{track:function(_){var C,h,D,U,k,M,Y,X,P,R,K=_.eventType,Q=_.args;switch(K){case ie:case ee:Q.bidder==="concert"&&f.push((C=K,D=(h=Q).adId,U=h.auctionId,k=h.cpm,M=h.width,Y=h.height,X=h.timeToRespond,P=(w=>!w||w.indexOf("|")<0?[null,null]:w.split("|"))(h.creativeId),R=P[0],{event:C,concert_rid:P[1],adId:D,auctionId:U,creativeId:R,position:h.adUnitCode,url:window.location.href,cpm:k,width:M,height:Y,timeToRespond:X}));break;case O:setTimeout(function(){if((c.eventsStorage=f).length)if(x)try{var w=JSON.stringify(f);(0,e.RD)(L,function(){return f=[]},w,{contentType:"application/json",method:"POST"})}catch{(0,r.OG)("Concert Analytics error")}else(0,r.OG)("Page not included in sample for Concert Analytics")},3e3)}}});c.originEnableAnalytics=c.enableAnalytics,c.eventsStorage=[],c.enableAnalytics=function(_){c.originEnableAnalytics(_)},I.Ay.registerAnalyticsAdapter({adapter:c,code:"concert"}),(0,o.E)("concertAnalyticsAdapter")}},function(s){s.O(0,[2630,802,2139,1085],function(){return s(s.s=9602)}),s.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[5561],{7027:function(s,$,a){var o=a(7873),r=a(1069),e=a(433),l=a(7377),I=a(2938),x=a(2621),L=a(4278),g=((0,l.a$)({code:"concert",isBidRequestValid:function(O){return!!O.params.partnerId||((0,r.JE)("Missing partnerId bid parameter"),!1)},buildRequests:function(O,f){(0,r.OG)(O),(0,r.OG)(f);var c,_,C=[],h={meta:{prebidVersion:"9.37.0",pageUrl:f.refererInfo.page,screen:[window.screen.width,window.screen.height].join("x"),browserLanguage:window.navigator.language,debug:(0,r.dp)(),uid:(c=f,_=O,!(ie()||!ee(c))&&(c=(0,e.A)(_[0],"userId.sharedid.id")||(0,e.A)(_[0],"userId.pubcid"),_=(0,e.A)(_[0],"crumbs.pubcid"),c||_||(c="vmconcert_uid",_=g.getDataFromLocalStorage("c_uid"),h=g.getDataFromLocalStorage(c),_&&(h=_,g.setDataInLocalStorage(c,h),g.removeDataFromLocalStorage("c_uid")),h||(h=(0,r.lk)(),g.setDataInLocalStorage(c,h)),h))),optedOut:ie(),adapterVersion:"1.2.0",uspConsent:f.uspConsent,gdprConsent:f.gdprConsent,gppConsent:f.gppConsent,tdid:(_=f,c=O,!ie()&&ee(_)&&(0,e.A)(c[0],"userId.tdid")||null)}};return!h.meta.gppConsent&&(c=(_=f.ortb2)==null?void 0:_.regs)!=null&&c.gpp&&(h.meta.gppConsent={gppString:f.ortb2.regs.gpp,applicableSections:f.ortb2.regs.gpp_sid}),h.slots=O.map(function(D){M=C,D.userId&&(k=(Y=>{if(Y)return{source:"uidapi.com",uids:[{id:Y,atype:3}]}})(D.userId.uid2&&D.userId.uid2.id),M.push(k));var U,k,M=(Y=>{if(Y)return{left:(Y=(0,L.G)(Y)).left+window.scrollX,top:Y.top+window.scrollY}})(document.getElementById(D.adUnitCode));return{name:D.adUnitCode,bidId:D.bidId,transactionId:(U=(k=D.ortb2Imp)==null?void 0:k.ext)==null?void 0:U.tid,sizes:D.params.sizes||D.sizes,partnerId:D.params.partnerId,slotType:D.params.slotType,adSlot:D.params.slot||D.adUnitCode,placementId:D.params.placementId||"",site:D.params.site||f.refererInfo.page,ref:f.refererInfo.ref,offsetCoordinates:{x:M==null?void 0:M.left,y:M==null?void 0:M.top}}}),h.meta.eids=C.filter(Boolean),(0,r.OG)(h),{method:"POST",url:"https://bids.concert.io/bids/prebid",data:JSON.stringify(h)}},interpretResponse:function(O,f){return(0,r.OG)(O),(0,r.OG)(f),f=O.body,f&&typeof f=="object"?(O=[],O=f.bids.map(function(c){return F({requestId:c.bidId,cpm:c.cpm,width:c.width,height:c.height,ad:c.ad,ttl:c.ttl,meta:{advertiserDomains:c&&c.adomain?c.adomain:[]},creativeId:c.creativeId,netRevenue:c.netRevenue,currency:c.currency},c.dealid&&{dealId:c.dealid})}),(0,r.dp)()&&f.debug&&(0,r.OG)("CONCERT",f.debug),(0,r.OG)(O),O):[]},onTimeout:function(O){(0,r.OG)("concert bidder timed out"),(0,r.OG)(O)},onBidWon:function(O){(0,r.OG)("concert bidder won bid"),(0,r.OG)(O)}}),(0,I.vM)({bidderCode:"concert"}));function ie(){return g.getDataFromLocalStorage("c_nap")==="true"}function ee(c){var f=!0,c=(typeof(c==null?void 0:c.uspConsent)=="string"&&(c==null?void 0:c.uspConsent[0])==="1"&&(c==null?void 0:c.uspConsent[2].toUpperCase())==="Y"&&(f=!1),(0,x.C)(c==null?void 0:c.gdprConsent));return f&&c}(0,o.E)("concertBidAdapter")}},function(s){s.O(0,[802,2316,2139,1085],function(){return s(s.s=7027)}),s.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[8793],{6345:function(s,$,ee){var o,r=ee(7873),e=ee(1069),l=ee(3172),I=ee(3272),x=ee(6916),L=ee(687),g=ee(965),ie=ee(5555),ee=ee(3806),O=function(M,Y){this.message=M,this.args=Y==null?[]:[Y]},f=(c.get=function(){var M=0<arguments.length&&arguments[0]!==void 0?arguments[0]:g.c5;if(this.INST==null){if(M=M({apiName:"__gpp",apiArgs:["command","callback","parameter"],mode:g.q4}),M==null)throw new O("GPP CMP not found");this.INST=new this(M)}return this.INST},c.prototype.init=function(M){var Y=this,X=this.updateWhenReady(M);return this.initialized||(M.gppVersion!==this.apiVersion&&(0,e.JE)("Unrecognized GPP CMP version: ".concat(M.apiVersion,". Continuing using GPP API version ").concat(this.apiVersion,"...")),this.initialized=!0,this.cmp({command:"addEventListener",callback:function(P,R){R==null||R?((R=P==null?void 0:P.pingData)==null?void 0:R.cmpStatus)==="error"?Te(Y,C,"f").call(Y,new O('CMP status is "error"; please check CMP setup',P)):Y.isCMPReady((P==null?void 0:P.pingData)||{})&&["sectionChange","signalStatus"].includes(P==null?void 0:P.eventName)&&Te(Y,_,"f").call(Y,Y.updateConsent(P.pingData)):Te(Y,C,"f").call(Y,new O("Received error response from CMP",P)),x.ad.getConsentData()==null||(P==null?void 0:P.pingData)==null||Y.isCMPReady(P.pingData)||x.ad.setConsentData(null)}})),X},c.prototype.refresh=function(){return this.cmp({command:"ping"}).then(this.init.bind(this))},c.prototype.updateConsent=function(M){return new ie.U9(function(Y){if(M==null||(0,e.Im)(M))throw new O("Received empty response from CMP",M);var X=D(M);(0,e.fH)("Retrieved GPP consent from CMP:",X),x.ad.setConsentData(X),Y(X)})},c.prototype.nextUpdate=function(){var M=(0,ie.v6)();return Te(this,h,"f").push(M),M.promise},c.prototype.updateWhenReady=function(M){return this.isCMPReady(M)?this.updateConsent(M):this.nextUpdate()},c.prototype.isCMPReady=function(M){return M.signalStatus==="ready"},c);function c(M){var Y,X,P=this;this.apiVersion="1.1",_.set(this,void 0),C.set(this,void 0),h.set(this,[]),this.initialized=!1,this.cmp=M,X=Y=this,M=["resolve","reject"].map(function(R){return function(K){for(;Te(P,h,"f").length;)Te(P,h,"f").pop()[R](K)}}),{set value(R){fe(Y,_,R,"f")}}.value=M[0],{set value(R){fe(X,C,R,"f")}}.value=M[1]}var _=new WeakMap,C=new WeakMap,h=new WeakMap;function D(M){if((M==null?void 0:M.applicableSections)!=null&&!Array.isArray(M.applicableSections)||(M==null?void 0:M.gppString)!=null&&!(0,e.O8)(M.gppString)||(M==null?void 0:M.parsedSections)!=null&&!(0,e.Qd)(M.parsedSections))throw new O("CMP returned unexpected value during lookup process.",M);return["usnatv1","uscav1"].forEach(function(Y){var X;(X=M==null?void 0:M.parsedSections)!=null&&X[Y]&&(0,e.JE)("Received invalid section from cmp: '".concat(Y,"'. Some functionality may not work as expected"),M)}),U(M)}function U(M){return M=0<arguments.length&&M!==void 0?M:{},{gppString:M==null?void 0:M.gppString,applicableSections:(M==null?void 0:M.applicableSections)||[],parsedSections:(M==null?void 0:M.parsedSections)||{},gppData:M}}var k=(0,ee.yq)({namespace:"gpp",displayName:"GPP",consentDataHandler:x.ad,parseConsentData:D,getNullConsent:function(){return U(null)},cmpHandlers:{iab:function(){return new ie.U9(function(M){return M(f.get().refresh())})}}});I.$W.getConfig("consentManagement",function(M){return M=M.consentManagement,(Y=(M=(M=(o=k(M)).loadConsentData)==null?void 0:M.call(o))==null?void 0:M.catch)==null?void 0:Y.call(M,function(){return null});var Y}),L.w.before(function(M,Y){return M(Y.then(function(X){var P=x.ad.getConsentData();return P&&(Array.isArray(P.applicableSections)&&(0,l.J)(X,"regs.gpp_sid",P.applicableSections),(0,l.J)(X,"regs.gpp",P.gppString)),X}))}),(0,r.E)("consentManagementGpp")}},function(s){s.O(0,[7109,10,802,2139,1085],function(){return s(s.s=6345)}),s.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[5081],{6117:function(s,$,f){var o,r,e,l=f(7873),I=f(1069),x=f(3172),L=f(3272),g=f(6916),ie=f(1e3),ee=f(687),O=f(965),f=f(3806),c=2;function _(D){var U,k;if(U=D&&typeof D.gdprApplies=="boolean"?D.gdprApplies:o,k=D&&D.tcString,typeof U=="boolean"&&(U!==!0||k&&(0,I.O8)(k)))return C(D);throw Object.assign(new Error("CMP returned unexpected value during lookup process."),{args:[D]})}function C(D){var U={consentString:D?D.tcString:void 0,vendorData:D||void 0,gdprApplies:D&&typeof D.gdprApplies=="boolean"?D.gdprApplies:o};return D&&D.addtlConsent&&(0,I.O8)(D.addtlConsent)&&(U.addtlConsent=D.addtlConsent),U.apiVersion=c,U}var h=(0,f.yq)({namespace:"gdpr",displayName:"TCF",consentDataHandler:g.mW,cmpHandlers:{iab:function(D){return new Promise(function(U,k){var M=(0,O.c5)({apiName:"__tcfapi",apiVersion:c,apiArgs:["command","version","callback","parameter"]});M||k(new Error("TCF2 CMP not found.")),M.isDirect?(0,I.fH)("Detected CMP API is directly accessible, calling it now..."):(0,I.fH)("Detected CMP is outside the current iframe where Prebid.js is located, calling it now..."),M({command:"addEventListener",callback:function(Y,X){if((0,I.fH)("Received a response from CMP",Y),X){try{D(_(Y))}catch{}if(Y.gdprApplies===!1||Y.eventStatus==="tcloaded"||Y.eventStatus==="useractioncomplete")try{g.mW.setConsentData(_(Y)),U()}catch(P){k(P)}}else k(Error("CMP unable to register callback function.  Please check CMP setup."))}})})}},parseConsentData:_,getNullConsent:function(){return C(null)}});L.$W.getConfig("consentManagement",function(D){return D=D.consentManagement,((U=(D=D&&(D.gdpr||D.usp||D.gpp?D.gdpr:D))==null?void 0:D.consentData)==null?void 0:U.getTCData)!=null&&(D.consentData=D.consentData.getTCData),o=(D==null?void 0:D.defaultGdprScope)===!0,r=!(D==null||!D.dsaPlatform),(U=(D=(U=(e=h({gdpr:D})).loadConsentData)==null?void 0:U.call(e))==null?void 0:D.catch)==null?void 0:U.call(D,function(){return null});var U}),ee.w.before(function(D,U){return D(U.then(function(k){var M=g.mW.getConsentData();return M&&(typeof M.gdprApplies=="boolean"&&(0,x.J)(k,"regs.ext.gdpr",M.gdprApplies?1:0),(0,x.J)(k,"user.ext.consent",M.consentString)),r&&(0,x.J)(k,"regs.ext.dsa.dsarequired",3),k}))}),(0,ie.pS)({type:ie.S3,name:"gdprAddtlConsent",fn:function(D,U){U=(U=U.gdprConsent)==null?void 0:U.addtlConsent,U&&typeof U=="string"&&(0,x.J)(D,"user.ext.ConsentedProvidersSettings.consented_providers",U)}}),(0,l.E)("consentManagementTcf")}},function(s){s.O(0,[802,7109,10,2139,1085],function(){return s(s.s=6117)}),s.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[8662],{6056:function(s,$,a){var o,r,e=a(7873),l=a(1069),I=a(3172),x=a(3272),L=a(1445),g=a(6916),ie=a(6894),ee=a(9214),O=a(687),f=a(965),c="iab",_=50,C=!1,h={iab:function(R){var Y,X=R.onSuccess,P=R.onError,R=(Y={},{consentDataCallback:function(Q,w){w&&Q.uspString&&(Y.usPrivacy=Q.uspString),Y.usPrivacy?U(Y,{onSuccess:X,onError:P}):P("Unable to get USP consent string.")}}),K=(0,f.c5)({apiName:"__uspapi",apiVersion:1,apiArgs:["command","version","callback"]});if(!K)return P("USP CMP not found.");K.isDirect?(0,l.fH)("Detected USP CMP is directly accessible, calling it now..."):(0,l.fH)("Detected USP CMP is outside the current iframe where Prebid.js is located, calling it now..."),K({command:"getUSPData",callback:R.consentDataCallback}),K({command:"registerDeletion",callback:function(Q,w){return(w==null||w)&&L.Ay.callDataDeletionRequest(Q)}}).catch(function(Q){(0,l.vV)("Error invoking CMP `registerDeletion`:",Q)})},static:function(M){var Y=M.onSuccess;U(o,{onSuccess:Y,onError:M.onError})}};function D(M){var Y=null,X=!1;function P(K,Q){if(Y!=null&&clearTimeout(Y),X=!0,g.t6.setConsentData(K),M!=null){for(var w=arguments.length,u=new Array(2<w?w-2:0),p=2;p<w;p++)u[p-2]=arguments[p];M.apply(void 0,be([Q],u,!1))}}if(!h[c])return P(null,"USP framework (".concat(c,") is not a supported framework. Aborting consentManagement module and resuming auction."));var R={onSuccess:P,onError:function(K){for(var Q=arguments.length,w=new Array(1<Q?Q-1:0),u=1;u<Q;u++)w[u-1]=arguments[u];P.apply(void 0,be([null,"".concat(K," Resuming auction without consent data as per consentManagement config.")],w,!1))}};h[c](R),X||(_===0?U(void 0,R):Y=setTimeout(R.onError.bind(null,"USPAPI workflow exceeded timeout threshold."),_))}a=(0,ie.Ak)("usp",function(M,Y){var X=this;C||k(),D(function(P){if(P!=null){for(var R=arguments.length,K=new Array(1<R?R-1:0),Q=1;Q<R;Q++)K[Q-1]=arguments[Q];l.JE.apply(void 0,be([P],K,!1))}M.call(X,Y)})});function U(M,P){var X=P.onSuccess,P=P.onError;M&&M.usPrivacy?X(r=M&&M.usPrivacy?M.usPrivacy:r):P("USPAPI returned unexpected value during lookup process.",M)}function k(M){C||((0,l.fH)("USPAPI consentManagement module has been activated"+(0<arguments.length&&M!==void 0&&M?"":" using default values (api: '".concat(c,"', timeout: ").concat(_,"ms)"))),C=!0,g.t6.enable()),D()}x.$W.getConfig("consentManagement",function(M){(M=(M=M.consentManagement)&&M.usp)&&typeof M=="object"||(0,l.JE)("consentManagement.usp config not defined, using defaults"),M&&(0,l.O8)(M.cmpApi)?c=M.cmpApi:(c="iab",(0,l.fH)("consentManagement.usp config did not specify cmpApi. Using system default setting (".concat("iab",")."))),M&&(0,l.Et)(M.timeout)?_=M.timeout:(_=50,(0,l.fH)("consentManagement.usp config did not specify timeout. Using system default setting (50).")),c==="static"&&((0,l.Qd)(M.consentData)&&(0,l.Qd)(M.consentData.getUSPData)?(M.consentData.getUSPData.uspString&&(o={usPrivacy:M.consentData.getUSPData.uspString}),_=0):(0,l.vV)("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),k(!0)}),(0,ee.Yn)("requestBids").before(a,50),O.w.before(function(M,Y){return M(Y.then(function(X){var P=g.t6.getConsentData();return P&&(0,I.J)(X,"regs.ext.us_privacy",P),X}))}),(0,e.E)("consentManagementUsp")}},function(s){s.O(0,[7109,802,2139,1085],function(){return s(s.s=6056)}),s.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[1829],{1493:function(s,$,f){var o=f(7873),r=f(3172),e=f(1069),l=f(7377),I=f(1371),U=f(2938),x=f(7934),L=f(2621),g=f(5789),ie=f(3895),ee=f(8044),O=f(9766),f=f(4406),c=(0,U.vM)({bidderCode:"criteo"}),_=(0,f.FE)(),C="cto_optout",h="cto_bundle",D=(0,O.A)({context:{netRevenue:!0,ttl:60},imp:function(u,Q,w){var u=u(Q,w),p=Q.params;return u.tagid=Q.adUnitCode,(0,r.J)(u,"ext",F(F(F({},Q.params.ext),u.ext),{rwdd:u.rwdd,floors:(T=>{var m,E,S,A,B,oe,J;try{var z={},re=(ge=>{if(ge.getFloor)return ge.getFloor;if(ge.params.bidFloor&&ge.params.bidFloorCur)try{var W=parseFloat(ge.params.bidFloor);return function(){return{currency:ge.params.bidFloorCur,floor:W}}}catch{}})(T);if(re)return(m=T.mediaTypes)!=null&&m.banner&&(z.banner={},X((S=(E=T==null?void 0:T.mediaTypes)==null?void 0:E.banner)==null?void 0:S.sizes).forEach(function(ge){return z.banner[P(ge).toString()]=re.call(T,{size:ge,mediaType:I.D4})})),(A=T.mediaTypes)!=null&&A.video&&(z.video={},X((oe=(B=T==null?void 0:T.mediaTypes)==null?void 0:B.video)==null?void 0:oe.playerSize).forEach(function(ge){return z.video[P(ge).toString()]=re.call(T,{size:ge,mediaType:I.G_})})),(J=T.mediaTypes)!=null&&J.native&&(z.native={},z.native["*"]=re.call(T,{size:"*",mediaType:I.s6})),z}catch(ge){(0,e.vV)("Could not parse floors from Prebid: "+ge)}})(Q),bidder:{publishersubid:p==null?void 0:p.publisherSubId,zoneid:p==null?void 0:p.zoneId,uid:p==null?void 0:p.uid}})),delete u.rwdd,!w.fledgeEnabled&&(p=u.ext.igs)!=null&&p.ae&&delete u.ext.igs.ae,R(Q)&&((w=Q.params.video)!==void 0&&(0,r.J)(u,"video",F(F({},u.video),{skip:u.video.skip||w.skip||0,placement:u.video.placement||w.placement,minduration:u.video.minduration||w.minduration,playbackmethod:u.video.playbackmethod||w.playbackmethod,startdelay:u.video.startdelay||w.startdelay||0})),(0,r.J)(u,"video.ext",{context:Q.mediaTypes.video.context,playersizes:X((w=(p=Q==null?void 0:Q.mediaTypes)==null?void 0:p.video)==null?void 0:w.playerSize,P),plcmt:Q.mediaTypes.video.plcmt,poddur:Q.mediaTypes.video.adPodDurationSec,rqddurs:Q.mediaTypes.video.durationRangeSec})),u.native&&u.native.request!==void 0&&((p=JSON.parse(u.native.request)).assets&&(p.assets.length!==1||Object.keys(p.assets[0]).length)||delete p.assets,(0,r.J)(u,"native.request_native",p),delete u.native.request),u},request:function(K,Q,w,u){return K=K(Q,w,u),u.publisherId!==void 0&&(K.app!==void 0?(0,r.J)(K,"app.publisher.id",u.publisherId):(0,r.J)(K,"site.publisher.id",u.publisherId)),w&&w.gdprConsent&&(0,r.J)(K,"regs.ext.gdprversion",w.gdprConsent.apiVersion),_(K)},bidResponse:function(p,Q,w){w.mediaType=(u=Q==null?void 0:Q.ext)==null?void 0:u.mediatype,w.mediaType===I.s6&&Q.adm_native!==void 0&&(Q.adm=Q.adm_native,delete Q.adm_native);var u=p(Q,w),p=w.bidRequest;return u.currency=(w=Q==null?void 0:Q.ext)==null?void 0:w.cur,((w=Q==null?void 0:Q.ext)==null?void 0:w.meta)!==void 0&&(0,r.J)(u,"meta",F(F({},u.meta),Q.ext.meta)),((w=(w=Q==null?void 0:Q.ext)==null?void 0:w.paf)==null?void 0:w.content_id)!==void 0&&(0,r.J)(u,"meta.paf.content_id",Q.ext.paf.content_id),u.mediaType===I.G_&&(u.vastUrl=(w=Q.ext)==null?void 0:w.displayurl,((p=(w=p==null?void 0:p.mediaTypes)==null?void 0:w.video)==null?void 0:p.context)===ie.H6)&&(u.renderer=(T=>{var m;if(((m=T.ext)==null?void 0:m.videoPlayerConfig)!==void 0&&((m=T.ext)==null?void 0:m.videoPlayerType)!==void 0)return(m=g.A4.install({url:"https://static.criteo.net/js/ld/publishertag.renderer.js",config:{documentResolver:function(E,S,A){return A!=null?A:S}}})).setRender(function(E,B){var A={slotid:T.id,vastUrl:(A=T.ext)==null?void 0:A.displayurl,vastXml:T.adm,documentContext:B},B=T.ext.videoPlayerConfig;window.CriteoOutStream[T.ext.videoPlayerType].play(A,B)}),m})(Q)),u},response:function(p,Q,w,u){var p=p(Q,w,u),T=(u=(Q=w==null?void 0:w.ext)==null?void 0:Q.paf)==null?void 0:u.transmission;return p.bids.forEach(function(m){var E;T!==void 0&&((E=(E=m==null?void 0:m.meta)==null?void 0:E.paf)==null?void 0:E.content_id)!==void 0?(0,r.J)(m,"meta.paf.transmission",T):delete m.meta.paf}),p}}),U={code:"criteo",gvlid:91,supportedMediaTypes:[I.D4,I.G_,I.s6],getUserSyncs:function(K,Q,w,u){var T=4<arguments.length&&arguments[4]!==void 0?arguments[4]:{},p=T.gppString,p=p===void 0?"":p,T=T.applicableSections,T=T===void 0?[]:T,m=(0,x.EN)(),E="criteoPrebidAdapter";if(K.iframeEnabled&&(0,L.C)(w)){var S=[];if(S.push("origin=".concat(E)),S.push("topUrl=".concat(m.domain)),w&&(w.gdprApplies&&S.push("gdpr="+(w.gdprApplies==1?1:0)),w.consentString)&&S.push("gdpr_consent=".concat(w.consentString)),u&&S.push("us_privacy=".concat(u)),S.push("gpp=".concat(p)),Array.isArray(T))for(var A=0,B=T;A<B.length;A++){var oe=B[A];S.push("gpp_sid=".concat(oe))}var J=Math.random().toString(),E={bundle:k(h),cw:c.cookiesAreEnabled(),lsw:c.localStorageIsEnabled(),optoutCookie:k(C),origin:E,requestId:J,tld:m.domain,topUrl:m.domain,version:"9.37.0".replace(/\./g,"_")},E=(window.addEventListener("message",function j(N){N.data&&N.origin=="https://gum.criteo.com"&&N.data.requestId===J&&(this.removeEventListener("message",j),N.stopImmediatePropagation(),(N=N.data).optout?(Y(h),M(C,!0,43200,m.domain)):(N.bundle&&M(h,N.bundle,9360,m.domain),N.callbacks&&N.callbacks.forEach(e.z$)))},!0),JSON.stringify(E).replace(/"/g,"%22"));return[{type:"iframe",url:"https://gum.criteo.com/syncframe?".concat(S.join("&"),"#").concat(E)}]}if(K.pixelEnabled&&(0,L.C)(w)){var z=[];if(z.push("profile=207"),w&&(w.gdprApplies===!0&&z.push("gdprapplies=true"),w.consentString)&&z.push("gdpr=".concat(w.consentString)),u&&z.push("ccpa=".concat(u)),z.push("gpp=".concat(p)),Array.isArray(T))for(var re=0,ge=T;re<ge.length;re++){var W=ge[re];z.push("gpp_sid=".concat(W))}return[{type:"image",url:"https://ssp-sync.criteo.com/user-sync/redirect?".concat(z.join("&"))}]}return[]},isBidRequestValid:function(K){return!(!K||!K.params||!K.params.zoneId&&!K.params.networkId||R(K)&&(Q=K,w=!0,["mimes","playerSize","maxduration","protocols","api","skip","placement","playbackmethod"].forEach(function(u){var p;u==="placement"?((p=(p=Q==null?void 0:Q.mediaTypes)==null?void 0:p.video)==null?void 0:p[u])===void 0&&((p=(p=Q==null?void 0:Q.params)==null?void 0:p.video)==null?void 0:p[u])===void 0&&((p=(p=Q==null?void 0:Q.mediaTypes)==null?void 0:p.video)==null?void 0:p.plcmt)===void 0&&((p=(p=Q==null?void 0:Q.params)==null?void 0:p.video)==null?void 0:p.plcmt)===void 0&&(w=!1,e.vV)("Criteo Bid Adapter: mediaTypes.video."+u+" or mediaTypes.video.plcmt is required"):((p=(p=Q==null?void 0:Q.mediaTypes)==null?void 0:p.video)==null?void 0:p[u])===void 0&&((p=(p=Q==null?void 0:Q.params)==null?void 0:p.video)==null?void 0:p[u])===void 0&&(w=!1,e.vV)("Criteo Bid Adapter: mediaTypes.video."+u+" is required")}),!w));var Q,w},buildRequests:function(K,Q){K.forEach(function(m){var E;((E=(E=m)==null?void 0:E.mediaTypes)==null?void 0:E.native)!==void 0&&(m.nativeParams&&(m.nativeParams.image&&(m.nativeParams.image.sendId!==!0||m.nativeParams.image.sendTargetingKeys===!0)||m.nativeParams.icon&&(m.nativeParams.icon.sendId!==!0||m.nativeParams.icon.sendTargetingKeys===!0)||m.nativeParams.clickUrl&&(m.nativeParams.clickUrl.sendId!==!0||m.nativeParams.clickUrl.sendTargetingKeys===!0)||m.nativeParams.displayUrl&&(m.nativeParams.displayUrl.sendId!==!0||m.nativeParams.displayUrl.sendTargetingKeys===!0)||m.nativeParams.privacyLink&&(m.nativeParams.privacyLink.sendId!==!0||m.nativeParams.privacyLink.sendTargetingKeys===!0)||m.nativeParams.privacyIcon&&(m.nativeParams.privacyIcon.sendId!==!0||m.nativeParams.privacyIcon.sendTargetingKeys===!0))&&(0,e.JE)("Criteo: all native assets containing URL should be sent as placeholders with sendId(icon, image, clickUrl, displayUrl, privacyLink, privacyIcon)"),((E=m==null?void 0:m.nativeOrtbRequest)==null?void 0:E.assets)==null)&&((0,e.JE)("Criteo: native asset requirements are missing"),(0,r.J)(m,"nativeOrtbRequest.assets",[{}]))}),w=K,p=Q,T=(0,e.Dl)((T=p==null?void 0:p.refererInfo)==null?void 0:T.topmostLocation).search;var w,u={url:((u=p==null?void 0:p.refererInfo)==null?void 0:u.page)||"",debug:T.pbt_debug==="1",noLog:T.pbt_nolog==="1",fledgeEnabled:(u=p.paapi)==null?void 0:u.enabled,amp:w.some(function(m){return m.params.integrationMode==="amp"}),networkId:(T=w.find(function(m){return(m=m.params)==null?void 0:m.networkId}))==null?void 0:T.params.networkId,publisherId:(p=w.find(function(m){return(m=m.params)==null?void 0:m.pubid}))==null?void 0:p.params.pubid},p=(T=u,w="https://grid-bidder.criteo.com/openrtb_2_5/pbjs/auction/request",w=(w=(w=(w+="?profileId=207")+"&av="+String(37))+"&wv="+encodeURIComponent("9.37.0"))+"&cb="+String(Math.floor(99999999999*Math.random())),c.localStorageIsEnabled()?w+="&lsavail=1":w+="&lsavail=0",T.amp&&(w+="&im=1"),T.debug&&(w+="&debug=1"),T.noLog&&(w+="&nolog=1"),(p=k(h))&&(w+="&bundle=".concat(p)),k(C)&&(w+="&optout=1"),T.networkId&&(w+="&networkId="+T.networkId),w),T=D.toORTB({bidderRequest:Q,bidRequests:K,context:u});if(T)return{method:"POST",url:p,data:T,bidRequests:K}},interpretResponse:function(K,Q){return(K==null?void 0:K.body)===void 0?[]:(Q=D.fromORTB({response:K.body,request:Q.data}).bids||[],(K=(K=(K=(K=K.body)==null?void 0:K.ext)==null?void 0:K.igi)==null?void 0:K.filter(function(w){return(0,e.cy)(w==null?void 0:w.igs)}).flatMap(function(w){return w.igs}))!=null&&K.length?{bids:Q,paapi:K}:Q)},onDataDeletionRequest:function(K){var Q=k(h);Q&&(Y(h),(0,ee.RD)("https://privacy.criteo.com/api/privacy/datadeletionrequest",null,JSON.stringify({publisherUserId:Q}),{contentType:"application/json",method:"POST"}))}};function k(w){var Q=c.getCookie(w),w=c.getDataFromLocalStorage(w);return Q||w||void 0}function M(K,Q,w,u){for(var p=new Date,T=(p.setTime(p.getTime()+60*w*60*1e3),"expires=".concat(p.toUTCString())),m=u.split("."),E=0;E<m.length;++E){var S=m.slice(m.length-E-1,m.length).join(".");try{c.setCookie(K,Q,T,null,"."+S);var A=c.getCookie(K);if(A&&A===Q)break}catch{}}c.setDataInLocalStorage(K,Q)}function Y(K){c.setCookie(K,"",0),c.removeDataFromLocalStorage(K)}function X(K,Q){var w=1<arguments.length&&Q!==void 0?Q:function(u){return u};return K==null?[]:Array.isArray(K[0])?K.map(function(u){return w(u)}):[w(K)]}function P(K){return K[0]+"x"+K[1]}function R(K){return((K=K==null?void 0:K.mediaTypes)==null?void 0:K.video)!==void 0}(0,l.a$)(U),(0,o.E)("criteoBidAdapter")}},function(s){s.O(0,[802,8498,5889,2139,1085],function(){return s(s.s=1493)}),s.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[8969],{7620:function(s,$,A){var o=A(7873),B=A(3272),oe=A(9214),r=A(1069),e=A(1371),l=A(433),I=A(5789),x=A(1252),L=["img","video","link","data","title"],g=((J={})[e.D4]=function(re,ge){var W,Z;ge.hasOwnProperty("ad")||ge.hasOwnProperty("adUrl")||(W=(Z=((Z=ge.width)!=null?Z:ge.wratio)<((Z=ge.height)!=null?Z:ge.hratio)?[ge.width,"repeat-y"]:[ge.height,"repeat-x"])[1],Z=(Z=Z[0])==null?"100%":"".concat(Z,"px"),ge.ad='<html><body><div style="display: inline-block; height: '.concat(ge.height==null?"100%":ge.height+"px","; width: ").concat(ge.width==null?"100%":ge.width+"px","; background-image: url(https://vcdn.adnxs.com/p/creative-image/27/c0/52/67/27c05267-5a6d-4874-834e-18e218493c32.png); background-size: ").concat(Z,"; background-repeat: ").concat(W,'"></div></body></html>'))},J[e.G_]=function(re,ge){ge.hasOwnProperty("vastXml")||ge.hasOwnProperty("vastUrl")||(ge.vastXml='<?xml version="1.0" encoding="UTF-8"?><VAST version="3.0"><Ad><InLine><AdSystem>GDFP</AdSystem><AdTitle>Demo</AdTitle><Description><![CDATA[Demo]]></Description><Creatives><Creative><Linear ><Duration>00:00:11</Duration><VideoClicks><ClickThrough><![CDATA[https://prebid.org/]]></ClickThrough></VideoClicks><MediaFiles><MediaFile delivery="progressive" width="640" height="360" type="video/mp4" scalable="true" maintainAspectRatio="true"><![CDATA[https://s3.amazonaws.com/files.prebid.org/creatives/PrebidLogo.mp4]]></MediaFile></MediaFiles></Linear></Creative></Creatives></InLine></Ad></VAST>',ge.renderer=I.A4.install({url:"https://cdn.jwplayer.com/libraries/l5MchIxB.js"}),ge.renderer.setRender(function(W,Z){var j=(j=(0,x.p)(W.adUnitCode).divId)!=null?j:W.adUnitCode,N=Z.createElement("div"),q=(N.id="".concat(j,"-video-player"),Z.getElementById(j).appendChild(N),window.jwplayer(N.id).setup({debug:!0,width:ge.width,height:ge.height,advertising:{client:"vast",outstream:!0,endstate:"close"}}));q.on("ready",function(){return Fe(this,void 0,void 0,function(){return Ee(this,function(he){return W.vastUrl?q.loadAdTag(W.vastUrl):q.loadAdXml(W.vastXml),[2]})})})}))},J[e.s6]=function(re,ge){ge.hasOwnProperty("native")||(ge.native={ortb:{link:{url:"https://www.link.example",clicktrackers:["https://impression.example"]},assets:re.nativeOrtbRequest.assets.map(ie)}})},J);function ie(re){switch(L.find(function(ge){return re.hasOwnProperty(ge)})){case"img":return F(F({},re),{img:{type:3,w:600,h:500,url:"https://vcdn.adnxs.com/p/creative-image/27/c0/52/67/27c05267-5a6d-4874-834e-18e218493c32.png"}});case"video":return F(F({},re),{video:{vasttag:'<?xml version="1.0" encoding="UTF-8"?><VAST version="3.0"><Ad><InLine><AdSystem>GDFP</AdSystem><AdTitle>Demo</AdTitle><Description><![CDATA[Demo]]></Description><Creatives><Creative><Linear ><Duration>00:00:11</Duration><VideoClicks><ClickThrough><![CDATA[https://prebid.org/]]></ClickThrough></VideoClicks><MediaFiles><MediaFile delivery="progressive" width="640" height="360" type="video/mp4" scalable="true" maintainAspectRatio="true"><![CDATA[https://s3.amazonaws.com/files.prebid.org/creatives/PrebidLogo.mp4]]></MediaFile></MediaFiles></Linear></Creative></Creatives></InLine></Ad></VAST>'}});case"data":return F(F({},re),{data:{value:"5 stars"}});case"title":return F(F({},re),{title:{text:"Prebid Native Example"}})}}function ee(){var re=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},ge=re.setTimeout;this.setTimeout=ge===void 0?window.setTimeout.bind(window):ge,this.logger=re.logger,this.rules=[]}Object.assign(ee.prototype,{DEFAULT_RULE_OPTIONS:{delay:0},serializeConfig:function(re){var ge=this;return re.filter(function(W,Z){var j=!(0,r.kL)(W);return j||(0,l.A)(W,"options.suppressWarnings")||ge.logger.logWarn("Bid interceptor rule definition #".concat(Z+1," contains non-serializable properties and will be lost after a refresh. Rule definition: "),W),j})},updateConfig:function(re){var ge=this;this.rules=(re.intercept||[]).map(function(W,Z){return ge.rule(W,Z+1)})},rule:function(re,ge){return{no:ge,match:this.matcher(re.when,ge),replace:this.replacer(re.then,ge),options:Object.assign({},this.DEFAULT_RULE_OPTIONS,re.options),paapi:this.paapiReplacer(re.paapi||[],ge)}},matcher:function(re,ge){return typeof re=="function"?re:typeof re!="object"?(this.logger.logError("Invalid 'when' definition for debug bid interceptor (in rule #".concat(ge,")")),function(){return!1}):function(W){for(var Z=arguments.length,j=new Array(1<Z?Z-1:0),N=1;N<Z;N++)j[N-1]=arguments[N];return function q(he,Oe){var me=Oe.ref,Oe=Oe.args,se=Oe===void 0?[]:Oe;return Object.entries(me===void 0?re:me).map(function(de){var ce=de[0],de=de[1],ce=he[ce];return de instanceof RegExp?de.exec(ce)!=null:typeof de=="function"?!!de.apply(void 0,be([ce],se,!1)):typeof de=="object"?q(ce,{ref:de,args:se}):ce===de}).every(function(ne){return ne})}(W,{args:j})}},replacer:function(re,ge){var W,Z=this;return re===null?function(){return null}:(W=typeof(re=re||{})=="function"?function(j){return j=j.args,re.apply(void 0,j)}:typeof re!="object"?(this.logger.logError("Invalid 'then' definition for debug bid interceptor (in rule #".concat(ge,")")),function(){return{}}):function(q){var N=q.args,q=q.ref,q=q===void 0?re:q,he=Array.isArray(q)?[]:{};return Object.entries(q).forEach(function(Oe){var me=Oe[0],Oe=Oe[1];he[me]=typeof Oe=="function"?Oe.apply(void 0,N):Oe!=null&&typeof Oe=="object"?W({args:N,ref:Oe}):Oe}),he},function(j){for(var N=Z.responseDefaults(j),q=arguments.length,he=new Array(1<q?q-1:0),ue=1;ue<q;ue++)he[ue-1]=arguments[ue];(0,r.D9)(N,W({args:be([j],he,!0)}));var me=g[N.mediaType];return me&&me(j,N),N.isDebug=!0,N})},paapiReplacer:function(re,ge){function W(Z){return(0<arguments.length&&Z!==void 0?Z:[]).map(function(j){return Object.keys(j).some(function(N){return!["config","igb"].includes(N)})?{config:j}:j})}return Array.isArray(re)?function(){return W(re)}:typeof re=="function"?function(){return W(re.apply(void 0,arguments))}:void this.logger.logError("Invalid 'paapi' definition for debug bid interceptor (in rule #".concat(ge,")"))},responseDefaults:function(re){var ge,W,Z={requestId:re.bidId,cpm:3.5764,currency:"EUR",ttl:360,creativeId:"mock-creative-id",netRevenue:!1,meta:{}};return re.mediaType||(Z.mediaType=(ge=Object.keys((ge=re.mediaTypes)!=null?ge:{})[0])!=null?ge:e.D4),Z.mediaType===e.D4?W=(ge=(ge=(ge=(ge=re.mediaTypes)==null?void 0:ge.banner)==null?void 0:ge.sizes)==null?void 0:ge[0])!=null?ge:[300,250]:Z.mediaType===e.G_&&(W=(re=(ge=(re=(ge=re.mediaTypes)==null?void 0:ge.video)==null?void 0:re.playerSize)==null?void 0:ge[0])!=null?re:[600,500]),Array.isArray(W)&&(Z.width=W[0],Z.height=W[1]),Z},match:function(re){for(var ge=arguments.length,W=new Array(1<ge?ge-1:0),Z=1;Z<ge;Z++)W[Z-1]=arguments[Z];return this.rules.find(function(j){return j.match.apply(j,be([re],W,!1))})},matchAll:function(re,ge){var W=this,Z=[[],[]],j=Z[0],N=Z[1];return re.forEach(function(q){var he=W.match(q,ge);he!=null?j.push({rule:he,bid:q}):N.push(q)}),[j,N]},intercept:function(he){var ge,W=this,Z=he.bids,j=he.bidRequest,N=he.addBid,q=he.addPaapiConfig,he=he.done,me=(Z==null&&(Z=j.bids),this.matchAll(Z,j)),ue=me[0],me=me[1];return 0<ue.length?(ge=(0,r.U6)(he,ue.length),ue.forEach(function(Oe){var se=Oe.rule.replace(Oe.bid,j),ne=Oe.rule.paapi(Oe.bid,j),de=Oe.rule.options.delay;W.logger.logMessage("Intercepted bid request (matching rule #".concat(Oe.rule.no,"), mocking response in ").concat(de,"ms. Request, response, PAAPI configs:"),Oe.bid,se,ne),W.setTimeout(function(){se&&N(se,Oe.bid),ne.forEach(function(ce){return q(ce,Oe.bid,j)}),ge()},de)}),Z=(j=(0,r.Go)(j)).bids=me):this.setTimeout(he,0),{bids:Z,bidRequest:j}}});var O,f,c=A(8969);function _(re,Z){var W=Z.hook,Z=Z.logger;O=(function(j,N,q,he){var ue=this.overrides,me=this.logger;D(ue.bidders,q.bidderCode)?me.logWarn("bidder '".concat(q.bidderCode,"' excluded from auction by bidder overrides")):(Array.isArray(ue.bids)&&ue.bids.forEach(function(Oe){h(Oe,q.bidderCode,N)||U(Oe,q,"bidder",me)}),j(N,q,he))}).bind({overrides:re,logger:Z}),W.get("addBidResponse").before(O,5),f=(function(j,ue){var q=this.overrides,he=this.logger,ue=ue.filter(function(me){return!D(q.bidders,me.bidderCode)||(he.logWarn("bidRequest '".concat(me.bidderCode,"' excluded from auction by bidder overrides")),!1)});Array.isArray(q.bidRequests)&&ue.forEach(function(me){q.bidRequests.forEach(function(Oe){me.bids.forEach(function(se){h(Oe,me.bidderCode,se.adUnitCode)||U(Oe,se,"bidRequest",he)})})}),j(ue)}).bind({overrides:re,logger:Z}),W.get("addBidderRequests").before(f,5)}function C(re){re=re.hook,re.get("addBidResponse").getHooks({hook:O}).remove(),re.get("addBidderRequests").getHooks({hook:f}).remove()}function h(re,ge,W){return re.bidder&&re.bidder!==ge||re.adUnitCode&&re.adUnitCode!==W}function D(re,ge){return Array.isArray(re)&&re.indexOf(ge)===-1}function U(re,ge,W,Z){Object.keys(re).filter(function(j){return["adUnitCode","bidder"].indexOf(j)===-1}).reduce(function(j,N){return Z.logMessage("bidder overrides changed '".concat(j.adUnitCode,"/").concat(j.bidderCode,"' ").concat(W,".").concat(N," from '").concat(j[N],".js' to '").concat(re[N],"'")),j[N]=re[N],j.isDebug=!0,j},ge)}var k,M=[],Y=!1;function X(re,N){var W=N.fromSession,W=W!==void 0&&W,Z=N.config,j=N.hook,N=N.logger;Z.setConfig({debug:!0}),k.updateConfig(re),P(!0),C({hook:j}),_(re,{hook:j,logger:N}),Y||(Y=!0,N.logMessage("Debug overrides enabled"+(W?" from session":"")))}function P(re){M.forEach(function(Z){var W=Z[0],Z=Z[1];W().getHooks({hook:Z}).remove()}),re&&M.forEach(function(Z){var W=Z[0],Z=Z[1];W().before(Z)})}function R(re,ge){function W(){return k.intercept.apply(k,arguments)}M.push([re,function(Z){for(var j=arguments.length,N=new Array(1<j?j-1:0),q=1;q<j;q++)N[q-1]=arguments[q];ge.apply(void 0,be([Z,W],N,!1))}])}function K(re,me,W,Z,j,N,q,he){var ue=(0,r.U6)(he.onCompletion,2),me=me({bids:Z,bidRequest:j,addBid:q(he.onBid),addPaapiConfig:q(function(Oe,se){return he.onPaapi(F({bidId:se.bidId},Oe))}),done:ue});Z=me.bids,j=me.bidRequest,Z.length===0?((me=he.onResponse)!=null&&me.call(he,{}),ue()):re(W,Z,j,N,q,F(F({},he),{onCompletion:ue}))}var J=A(3597);function Q(re,ge,W,Z,j,N){var q,he,ue=N.onResponse,me=N.onError,Oe=N.onBid,se=N.onFledge,ne=(0,r.U6)(function(){return ue.apply(void 0,q)},Z.length+1);function de(){for(var ve=arguments.length,pe=new Array(ve),we=0;we<ve;we++)pe[we]=arguments[we];q=pe,ne()}function ce(ve,pe){Oe({adUnit:pe.adUnitCode,bid:Object.assign(w(c.XQ.GOOD,pe),{requestBidder:pe.bidder},ve)})}0<(Z=Z.map(function(ve){return ge({bidRequest:ve,addBid:ce,addPaapiConfig:function(pe,we,te){se(F({adUnitCode:we.adUnitCode,ortb2:te.ortb2,ortb2Imp:we.ortb2Imp},pe))},done:ne}).bidRequest}).filter(function(ve){return 0<ve.bids.length})).length?(he=new Set,Z.forEach(function(ve){return ve.bids.forEach(function(pe){return he.add(pe.bidId)})}),(W=(0,r.Go)(W)).ad_units.forEach(function(ve){ve.bids=ve.bids.filter(function(pe){return he.has(pe.bid_id)})}),W.ad_units=W.ad_units.filter(function(ve){return 0<ve.bids.length}),re(W,Z,j,{onResponse:de,onError:me,onBid:Oe})):de(!0,[])}var w,u,p=(A={DEBUG_KEY:A(9164).ey,config:B.$W,hook:oe.A_,createBid:J.O,logger:(0,r.h0)("DEBUG:")}).DEBUG_KEY,T=A.config,m=A.hook,B=A.createBid,E=A.logger,S=(k=new ee({logger:E}),w=B,R(function(){return m.get("processBidderRequests")},K),R(function(){return m.get("processPBSRequest")},Q),{DEBUG_KEY:p,config:T,hook:m,logger:E}),A=S.DEBUG_KEY,B=S.storage,oe=S.config,J=S.hook,z=S.logger;try{B=B||window.sessionStorage,u=JSON.parse(B.getItem(A))}catch{}u&&X(u,{fromSession:!0,config:oe,hook:J,logger:z}),T.getConfig("debugging",function(re){return function(ge,ue){var Z,ue=1<arguments.length&&ue!==void 0?ue:{},j=(j=ue.getStorage)===void 0?function(){return window.sessionStorage}:j,N=ue.DEBUG_KEY,q=ue.config,he=ue.hook,ue=ue.logger;if(ge!=null){try{Z=j()}catch(me){ue.logError("sessionStorage is not available: debugging configuration will not persist on page reload",me)}Z!=null&&function(me,ne){var ne=1<arguments.length&&ne!==void 0?ne:{},se=ne.sessionStorage,se=se===void 0?window.sessionStorage:se,ne=ne.DEBUG_KEY;if(me.enabled){me.intercept&&((me=(0,r.Go)(me)).intercept=k.serializeConfig(me.intercept));try{se.setItem(ne,JSON.stringify(me))}catch{}}else try{se.removeItem(ne)}catch{}}(ge,{sessionStorage:Z,DEBUG_KEY:N}),ge.enabled?X(ge,{config:q,hook:he,logger:ue}):(Z=(j={hook:he,logger:ue}).hook,j=j.logger,k.updateConfig({}),P(!1),C({hook:Z}),Y&&(Y=!1,j.logMessage("Debug overrides disabled")))}}(re.debugging,{DEBUG_KEY:p,config:T,hook:m,logger:E})},{init:!0}),(0,o.E)("debugging")}},function(s){s.O(0,[3005,802,2139,1085],function(){return s(s.s=7620)}),s.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[1807],{8178:function(s,$,L){var o=L(7873),r=L(3272),e=L(9214),l=L(1069),I=L(5555),L=L(6894),x=[],L=(0,L.Ak)("fpd",function(g,ie){var ee=this;(function(c){var c=0<arguments.length&&c!==void 0?c:{},f=c.global,f=f===void 0?{}:f,c=c.bidder,c=c===void 0?{}:c,_=r.$W.getConfig("firstPartyData")||{},C=I.U9.resolve({global:f,bidder:c});return x.sort(function(h,D){return(h.queue||1)-(D.queue||1)}).forEach(function(h){C=C.then(function(D){var U=D.global,k=D.bidder;return I.U9.resolve(h.processFpd(_,{global:U,bidder:k})).catch(function(M){return(0,l.vV)("Error in FPD module ".concat(h.name),M),{}}).then(function(M){return{global:M.global||U,bidder:M.bidder||k}})})}),C})(ie.ortb2Fragments).then(function(O){Object.assign(ie.ortb2Fragments,O),g.call(ee,ie)})});(0,e.xG)("firstPartyData",function(g){x.push(g)}),(0,e.Yn)("startAuction").before(L,10),(0,o.E)("fpdModule")}},function(s){s.O(0,[802,2139,1085],function(){return s(s.s=8178)}),s.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[669],{1237:function(s,$,e){var o=e(7873),r=e(201),e=e(9214),l={};(0,e.Yn)("registerAdserver").before(function(I){I.call(this,"freewheel")}),(0,r.U)("freewheel",{getTargeting:function(I){return l.getTargeting(I)}}),(0,e.bz)("adpod",l),(0,o.E)("freeWheelAdserverVideo")}},function(s){s.O(0,[802,2139,1085],function(){return s(s.s=1237)}),s.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[4584],{4232:function(s,$,a){var o=a(7873),r=a(1252),e=a(7314),l=a(3272),I=a(8969),x=a(9214),L=a(5901),g=a(1069),ie=a(3172),ee=a(433),O={},f=!1;function c(k){return(0,r.eu)(k)}var _=function(k){return(l.$W.getConfig("gptPreAuction")||{}).mcmEnabled?k.replace(/(^\/\d*),\d*\//,"$1/"):k};function C(k){(0,g.JE)("pbadslot is deprecated and will soon be removed, use gpid instead",k)}function h(k,M){var Y=(w=>{var u,p,T=O.customGptSlotMatching;if((0,g.II)())return u=w.reduce(function(m,E){return m[E.code]=m[E.code]||[],m[E.code].push(E),m},{}),p={},window.googletag.pubads().getSlots().forEach(function(m){var E,S=(0,L.I6)(Object.keys(u),(T||g.iC)(m));S&&(m=p[S]=m.getAdUnitPath(),E={name:"gam",adslot:_(m)},u[S].forEach(function(A){(0,ie.J)(A,"ortb2Imp.ext.data.adserver",Object.assign({},(A=(A=(A=A.ortb2Imp)==null?void 0:A.ext)==null?void 0:A.data)==null?void 0:A.adserver,E))}))}),p})(M),X=O.useDefaultPreAuction,P=O.customPreAuction;M.forEach(function(w){w.ortb2Imp=w.ortb2Imp||{},w.ortb2Imp.ext=w.ortb2Imp.ext||{},w.ortb2Imp.ext.data=w.ortb2Imp.ext.data||{};var u,p,T=w.ortb2Imp.ext;P||X?((p=T.data)!=null&&p.pbadslot&&C(w),p=(0,ee.A)(T,"data.adserver.adslot"),P?u=P(w,p,Y==null?void 0:Y[w.code]):X&&(u=((m,E,S)=>{var A=m.ortb2Imp.ext.data;if(A.pbadslot)return A.pbadslot;if((0,g.II)()&&(A=window.googletag.pubads().getSlots().filter(function(B){return B.getAdUnitPath()===S}),A.length!==0))return A.length===1?E:"".concat(E,"#").concat(m.code)})(w,p,Y==null?void 0:Y[w.code])),u&&(T.gpid=T.data.pbadslot=u)):(C(w),p=(m=>{var E=m.ortb2Imp.ext.data,S=O.customPbAdSlot;if(!E.pbadslot)if(S)E.pbadslot=S(m.code,(0,ee.A)(E,"adserver.adslot"));else{try{var A=document.getElementById(m.code);if(A.dataset.adslotid)return void(E.pbadslot=A.dataset.adslotid)}catch{}if(!(0,ee.A)(E,"adserver.adslot"))return E.pbadslot=m.code,!0;E.pbadslot=E.adserver.adslot}})(w),T.gpid||p||(T.gpid=T.data.pbadslot))});for(var R=arguments.length,K=new Array(2<R?R-2:0),Q=2;Q<R;Q++)K[Q-2]=arguments[Q];return k.call.apply(k,be([void 0,M],K,!1))}function D(k,M){Y=function(R,K){var Q=1<arguments.length&&K!==void 0?K:e.n.index;return R.map(function(w){return(w=(w=Q.getAuction({auctionId:w}))==null?void 0:w.getFPD())==null?void 0:w.global}).map(c).filter(function(w){return w})}(function(R,K){var Q=1<arguments.length&&K!==void 0?K:e.n;return Object.values(R).flatMap(function(w){return Object.entries(w)}).filter(function(w){return w[0]===I.xS.AD_ID||w[0].startsWith(I.xS.AD_ID+"_")}).flatMap(function(w){return w[1]}).map(function(w){return(w=Q.findBidByAdId(w))==null?void 0:w.auctionId}).filter(function(w){return w!=null}).filter(g.hj)}(M)),X={},r.Cn.forEach(function(R){var K=Y.flatMap(function(Q){return Q}).filter(function(Q){return Q.taxonomy===R}).map(function(Q){return Q.values});X[R]=K.length?K.reduce(function(Q,w){return Q.filter(function(u){return w.includes(u)})}):[],X[R]={values:X[R]}});var Y,X,P=X;window.googletag.setConfig&&window.googletag.setConfig({pps:{taxonomies:P}}),k(M)}function U(k){(O=(0,g.Up)(k,["enabled",function(M){return M!==!1},"customGptSlotMatching",function(M){return typeof M=="function"&&M},"customPbAdSlot",function(M){return typeof M=="function"&&M},"customPreAuction",function(M){return typeof M=="function"&&M},"useDefaultPreAuction",function(M){return M==null||M}])).enabled?f||((0,x.Yn)("makeBidRequests").before(h),(0,x.Yn)("targetingDone").after(D),f=!0):((0,g.fH)("GPT Pre-Auction: Turning off module"),O={},(0,x.Yn)("makeBidRequests").getHooks({hook:h}).remove(),(0,x.Yn)("targetingDone").getHooks({hook:D}).remove(),f=!1)}l.$W.getConfig("gptPreAuction",function(k){return U(k.gptPreAuction)}),U({}),(0,o.E)("gptPreAuction")}},function(s){s.O(0,[3005,802,2139,1085],function(){return s(s.s=4232)}),s.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[5401],{5449:function(s,$,a){var o=a(7873),r=a(1069),e=a(433),l=a(8044),I=a(7377),x=a(5789),L=a(1371),g=a(3272),ie=a(2938),ee=a(392),O="https://grid.bidswitch.net/hbjson",f=(0,ie.vM)({bidderCode:"grid"}),c={noAdid:"Bid from response has no adid parameter - ",noAdm:"Bid from response has no adm parameter - ",noBid:"Array of bid objects is empty",emptyUids:"Uids should be not empty",emptySeatbid:"Seatbid array from response has empty item",emptyResponse:"Response is empty",hasEmptySeatbidArray:"Response has empty seatbid array",hasNoArrayOfBids:"Seatbid from response has no array of bid objects - "},_={trustx:{endpoint:"https://grid.bidswitch.net/hbjson?sp=trustx",syncurl:"https://x.bidswitch.net/sync?ssp=themediagrid",bidResponseExternal:{netRevenue:!1}},gridNM:{defaultParams:{multiRequest:!0}}},C=!1,h={code:"grid",gvlid:686,aliases:["playwire","adlivetech","gridNM",{code:"trustx",skipPbsAliasing:!0}],supportedMediaTypes:[L.D4,L.G_],isBidRequestValid:function(U){return U&&!!(U.params.uid||U.params.secid)},buildRequests:function(U,k){var M,Y,X,P,R,K,Q,w,u,p,T,m,E,S,A,B,oe,J,z,re,ge;return U.length?(Q=K=R=P=X=Y=M=null,w=!1,u=(ge=k||{}).bidderRequestId,p=ge.gdprConsent,T=ge.uspConsent,re=ge.timeout,m=ge.gppConsent,E=(ge=ge.refererInfo)?encodeURIComponent(ge.page):"",S=parseInt(re)||null,A=[],B={},oe=[],J=[],z=[],U.forEach(function(W){var Z,j,N,q,he,ue,me,Oe,se,ne,de,ce,ve,pe,we,te,H,ye={bid:W,savedPrebidBid:null};(W.params.uid||W.params.secid)&&(u=u||W.bidderRequestId,X=X||W.schain,P=P||W.userIdAsEids,Q=Q||_[W.bidder]&&_[W.bidder].endpoint,he=W.params,Z=W.mediaTypes,j=W.bidId,pe=W.adUnitCode,N=W.rtd,q=W.ortb2Imp,H=(_[W.bidder]||{}).defaultParams,he=(H=F(F({},H),he)).secid,ue=H.pubid,me=H.source,te=H.uid,Oe=H.keywords,se=H.forceBidder,ne=H.multiRequest,de=H.content,H=H.video,we=W,ce=(Z||{}).video?"video":"banner",ve=parseFloat(we.params.bidFloor||we.params.floorcpm||0)||null,we=ve=typeof we.getFloor=="function"&&(ce=we.getFloor({currency:"USD",mediaType:ce,size:we.sizes.map(function(Ce){return{w:Ce[0],h:Ce[1]}})}),(0,r.Qd)(ce))&&ce.currency==="USD"&&!isNaN(parseFloat(ce.floor))?Math.max(ve,parseFloat(ce.floor)):ve,(ce=N&&N.jwplayer&&N.jwplayer.targeting)&&!Y&&ce.content&&(Y=ce.content),ve={id:j.toString(),tagid:(he||te).toString(),ext:{divid:pe.toString()}},q&&(q.instl&&(ve.instl=parseInt(q.instl)||null),q.ext)&&(ve.ext.gpid=((N=q.ext.gpid)==null?void 0:N.toString())||((te=(he=q.ext.data)==null?void 0:he.pbadslot)==null?void 0:te.toString())||((he=(N=(pe=q.ext.data)==null?void 0:pe.adserver)==null?void 0:N.adslot)==null?void 0:he.toString()),q.ext.data)&&(ve.ext.data=q.ext.data),(0,r.Im)(Oe)||(M=M||Oe,ve.ext.bidder={keywords:Oe}),we&&(ve.bidfloor=we),Z&&!Z[L.D4]||(te=(()=>{var Ce,Se=(Z?Z[L.D4]:{}).sizes||W.sizes;if(Se&&Se.length)return Ce=Se.map(function(De){return(0,r.nX)(De)}),Se=(0,r.nX)(Se[0]),Ce.length&&(Se.format=Ce),Se})())&&(ve.banner=te),Z&&Z[L.G_]&&(pe=((_e,Me,De)=>{var _e=(Me=F(F({},Me),_e)).mind,Pe=Me.maxd,Ne=Me.size,We=Me.playerSize,Ue=Me.protocols,xe=(xe=Me.durationRangeSec)===void 0?[]:xe,Me=Ae(Me,["mind","maxd","size","playerSize","protocols","durationRangeSec"]);if(Ne&&(0,r.O8)(Ne)&&(Ne=Ne.split("x")).length===2&&parseInt(Ne[0])&&parseInt(Ne[1])&&(Me.w=parseInt(Ne[0]),Me.h=parseInt(Ne[1])),Me.w&&Me.h||(We=(Ne=((We||De||[]).toString().match(/^\d+,\d+/)||[])[0])&&Ne.split(",").map(function(ke){return parseInt(ke)}))&&We.length===2&&Object.assign(Me,(0,r.nX)(We)),Me.w&&Me.h)return De=_e||xe[0]||parseInt(Me.minduration)||null,Ne=Pe||xe[1]||parseInt(Me.maxduration)||null,De&&(Me.minduration=De),Ne&&(Me.maxduration=Ne),Ue&&Ue.length&&(Me.protocols=Ue),Me})(H,Z[L.G_],W.sizes))&&(ve.video=pe),(ve.banner||ve.video)&&(ne?(we={tid:(Oe=(q=(he=(N=k==null?void 0:k.ortb2)==null?void 0:N.source)==null?void 0:he.tid)==null?void 0:q.toString)==null?void 0:Oe.call(q),ext:{wrapper:"Prebid_js",wrapper_version:"9.37.0"}},W.schain&&(we.ext.schain=W.schain),te={id:W.bidderRequestId&&W.bidderRequestId.toString(),site:{page:E},tmax:S,source:we,imp:[ve]},ue&&(te.site.publisher={id:ue}),(H=de||ce&&ce.content)&&(te.site.content=H),oe.push(te),J.push(me),z.push(ye)):(B[j]=ye,A.push(ve))),!w)&&se&&_[se]&&(w=se)}),(w=g.$W.getConfig("forceBidderName")||w)&&_[w]&&(Q=_[w].endpoint,this.forceBidderName=w),re={tid:(ge=(U=(re=(ge=k==null?void 0:k.ortb2)==null?void 0:ge.source)==null?void 0:re.tid)==null?void 0:U.toString)==null?void 0:ge.call(U),ext:{wrapper:"Prebid_js",wrapper_version:"9.37.0"}},X&&(re.ext.schain=X),ge=A.length||!oe.length?{id:u&&u.toString(),site:{page:E},tmax:S,source:re,imp:A}:null,Y&&(ge.site.content=Y),be(be([],oe,!0),[ge],!1).forEach(function(W){var Z,j,N,q,he;W&&((he=(R=null,e.A)(k,"ortb2.user.data"))&&he.length&&(R={data:be([],he,!0)}),p&&p.consentString&&(K={consent:p.consentString}),(he=(0,e.A)(k,"ortb2.user.ext.device"))&&((K=K||{}).device=F({},he)),(he=k==null?void 0:k.ortb2)!=null&&he.device&&(W.device=k.ortb2.device),P&&P.length&&((K=K||{}).eids=be([],P,!0)),K&&Object.keys(K).length&&((R=R||{}).ext=K),(he=f.getDataFromLocalStorage("tmguid")||(g.$W.getConfig("localStorageWriteAllowed")?(he=(0,r.lk)().replace(/-/g,""),f.setDataInLocalStorage("tmguid",he),he):null))&&((R=R||{}).id=he.toString()),R&&(W.user=R),he=(0,e.A)(k,"ortb2.user.keywords")||null,N=(0,e.A)(k,"ortb2.site.keywords")||null,he&&((M=M||{}).user=M.user||{},M.user.ortb2=[{name:"keywords",keywords:he.split(",")}]),N&&((M=M||{}).site=M.site||{},M.site.ortb2=[{name:"keywords",keywords:N.split(",")}]),M&&(Z=M,j={},Object.keys(Z).forEach(function(ue){var me,Oe=Z[ue];Oe&&(ue==="site"||ue==="user"?(me={},Object.keys(Oe).forEach(function(se){var ne;Array.isArray(Oe[se])&&(ne=[],Oe[se].forEach(function(de){var ce;typeof de=="object"&&de.name&&(ce={name:de.name,segments:[]},Object.keys(de).forEach(function(ve){Array.isArray(de[ve])&&de[ve].forEach(function(pe){pe&&(typeof pe=="string"?ce.segments.push({name:ve,value:pe}):ve==="segments"&&typeof pe.name=="string"&&typeof pe.value=="string"&&ce.segments.push(pe))})}),ce.segments.length)&&ne.push(ce)}),ne.length)&&(me[se]=ne)}),j[ue]=me):j[ue]=Oe)}),M=Object.keys(j).length&&j)&&(W.ext={keywords:M}),p&&p.gdprApplies&&(W.regs={ext:{gdpr:p.gdprApplies?1:0}}),he=(0,e.A)(k,"ortb2.regs")||{},(m||he!==null&&he.gpp)&&(N={gpp:(N=m==null?void 0:m.gppString)!=null?N:he===null?void 0:he.gpp,gpp_sid:(N=m==null?void 0:m.applicableSections)!=null?N:he===null?void 0:he.gpp_sid},W.regs=(0,r.D9)((q=W==null?void 0:W.regs)!=null?q:{},N)),T&&(W.regs||(W.regs={ext:{}}),W.regs.ext||(W.regs.ext={}),W.regs.ext.us_privacy=T),g.$W.getConfig("coppa")===!0&&(W.regs||(W.regs={}),W.regs.coppa=1),(q=he===null?void 0:he.ext)!=null&&q.dsa&&(W.regs||(W.regs={ext:{}}),W.regs.ext||(W.regs.ext={}),W.regs.ext.dsa=he.ext.dsa),N=(0,e.A)(k,"ortb2.site"))&&((q=be(be([],N.cat||[],!0),N.pagecat||[],!0).filter(function(ue){return ue&&typeof ue=="string"})).length&&(W.site.cat=q),(he=(0,e.A)(N,"content.genre"))&&typeof he=="string"&&(W.site.content=F(F({},W.site.content),{genre:he})),(q=(0,e.A)(N,"content.data"))&&q.length&&(he=W.site.content||{},W.site.content=(0,r.D9)(he,{data:q})),he=(0,e.A)(N,"content.id"))&&(W.site.content=F(F({},W.site.content),{id:he}))}),be(be([],oe.map(function(W,Z){var j,N=(Q||O).replace(/[?&]sp=([^?&=]+)/,function(he,ue){return ue&&(j=ue),""}),q=J[Z]||j;return{method:"POST",url:N+(-1<N.indexOf("?")?"&":"?")+"no_mapping=1"+(q?"&sp=".concat(q):""),data:JSON.stringify(W),bidObject:z[Z]}}),!0),ge?[{method:"POST",url:Q||O,data:JSON.stringify(ge),bidsMap:B}]:[],!0)):null},interpretResponse:function(U,k){var M,Y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:x.A4,X=(U=U&&U.body,[]),P=(U?U.seatbid&&!U.seatbid.length&&(M=c.hasEmptySeatbidArray):M=c.emptyResponse,this.forceBidderName||this.code);return!M&&U.seatbid&&U.seatbid.forEach(function(R){var K,Q,w,u,p,T,m,E;R=(0,ee.T)(R,c),K=k,Q=X,w=Y,u=P,R&&((p=R.adid?p:c.noAdid+JSON.stringify(R))||R.adm||R.nurl?(T=(E=(K=K.bidsMap?K.bidsMap[R.impid]:K.bidObject)||{}).bid,E=E.savedPrebidBid,T&&(m=R.price,E=E&&E.cpm,!(0,r.Et)(E)||E<m||m===E&&.5<Math.random())&&(m={requestId:T.bidId,cpm:R.price,width:R.w,height:R.h,creativeId:R.adid,currency:"USD",netRevenue:!0,ttl:360,meta:{advertiserDomains:R.adomain||[]},dealId:R.dealid},K.savedPrebidBid=m,R.ext&&R.ext.bidder&&R.ext.bidder.grid&&R.ext.bidder.grid.demandSource&&(m.adserverTargeting={hb_ds:R.ext.bidder.grid.demandSource},m.meta.demandSource=R.ext.bidder.grid.demandSource),R.ext&&R.ext.dsa&&(m.meta.dsa=R.ext.dsa),R.content_type==="video"?(R.adm?(m.vastXml=R.adm,m.adResponse={content:m.vastXml}):R.nurl&&(m.vastUrl=R.nurl),m.mediaType=L.G_,T.renderer||T.mediaTypes&&T.mediaTypes.video&&T.mediaTypes.video.context!=="outstream"||(m.renderer=(S=>{S=w.install({id:S.id,url:S.url,loaded:!1});try{S.setRender(D)}catch(A){(0,r.JE)("Prebid Error calling setRender on renderer",A)}return S})({id:T.bidId,url:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js"}))):(m.ad=R.adm,m.mediaType=L.D4),E=_[u]&&_[u].bidResponseExternal||{},Q.push((0,r.D9)(m,E)))):p=c.noAdm+JSON.stringify(R),p)&&(0,r.vV)(p)}),M&&(0,r.vV)(M),X},getUserSyncs:function(){for(var U=arguments.length,k=new Array(U),M=0;M<U;M++)k[M]=arguments[M];var Y=k[0],X=k[2],P=k[3];if(!C&&Y.pixelEnabled)return Y="",X&&(typeof X.gdprApplies=="boolean"&&(Y+="&gdpr=".concat(Number(X.gdprApplies))),typeof X.consentString=="string")&&(Y+="&gdpr_consent=".concat(X.consentString)),P&&(Y+="&us_privacy=".concat(P)),X=this.forceBidderName||this.code,P=_[X]&&_[X].syncurl||"https://x.bidswitch.net/sync?ssp=themediagrid",C=!0,{type:"image",url:P+Y}},ajaxCall:function(U,k,M,Y){return(Y.browsingTopics=!1,l.RD)(U,k,M,Y)},onDataDeletionRequest:function(U){h.ajaxCall("https://media.grid.bidswitch.net/uspapi_delete_c2s",null,null,{method:"GET"})}};function D(U){U.renderer.push(function(){window.ANOutstreamVideo.renderAd({targetId:U.adUnitCode,adResponse:U.adResponse})})}(0,I.a$)(h),(0,o.E)("gridBidAdapter")}},function(s){s.O(0,[2007,802,2139,1085],function(){return s(s.s=5449)}),s.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[6497],{4263:function(s,$,Q){var o,r,e,l,I,x,L,g,ie,ee,O=Q(7873),f=Q(1069),c=Q(433),_=Q(3172),C=Q(8044),h=Q(9214),D=Q(7934),U=Q(2938),k=Q(5569),M=Q(5555),Y=Q(1580),X="User ID - ID5 submodule: ",P="id5-sync.com",R=(0,U.vM)({moduleType:k.fW,moduleName:"id5Id"}),K={id5id:{getValue:function(m){return m.uid},source:P,atype:1,getUidExt:function(m){if(m.ext)return m.ext}},euid:{getValue:function(m){return m.uid},getSource:function(m){return m.source},atype:3,getUidExt:function(m){if(m.ext)return m.ext}},trueLinkId:{getValue:function(m){return m.uid},getSource:function(m){return"true-link-id5-sync.com"},atype:1,getUidExt:function(m){if(m.ext)return m.ext}}},Q={name:"id5Id",gvlid:131,decode:function(m,E){var S,A;if(m&&m.ids!==void 0)return S={},A={},Object.entries(m.ids).forEach(function(Z){var ge=Z[0],W=Z[1].eid,Z=(Z=W==null?void 0:W.uids)==null?void 0:Z[0];S[ge]={uid:Z==null?void 0:Z.id,ext:Z==null?void 0:Z.ext},A[ge]=function(){return W}}),this.eids=A,S;var B,oe,J={};if(m&&typeof m.universal_uid=="string"){B=m.universal_uid,J=m.ext||J,oe=m.publisherTrueLinkId,this.eids=K;var z={id5id:{uid:B,ext:J}};switch((0,f.Qd)(J.euid)&&(z.euid={uid:J.euid.uids[0].id,source:J.euid.source,ext:{provider:P}}),oe&&(z.trueLinkId={uid:oe}),(0,c.A)(m,"ab_testing.result")){case"control":(0,f.fH)(X+"A/B Testing - user is in the Control Group: ID5 ID is NOT exposed"),(0,_.J)(z,"id5id.ext.abTestingControlGroup",!0);break;case"error":(0,f.vV)(X+"A/B Testing ERROR! controlGroupPct must be a number >= 0 and <= 1");break;case"normal":(0,f.fH)(X+"A/B Testing - user is NOT in the Control Group"),(0,_.J)(z,"id5id.ext.abTestingControlGroup",!1)}return(0,f.fH)(X+"Decoded ID",z),z}},getId:function(m,E,S){if((A=>{if(!A||!A.params||!A.params.partner)return(0,f.vV)(X+"partner required to be defined"),0;var B=A.params.partner;if(typeof B=="string"||B instanceof String){var oe=parseInt(B);if(isNaN(oe)||oe<0)return(0,f.vV)(X+"partner required to be a number or a String parsable to a positive integer"),0;A.params.partner=oe}else if(typeof B!="number")return(0,f.vV)(X+"partner required to be a number or a String parsable to a positive integer"),0;return A.storage&&A.storage.type&&A.storage.name?(A.storage.name!=="id5id"&&(0,f.JE)(X+"storage name recommended to be '".concat("id5id","'.")),1):((0,f.vV)(X+"storage required to be set"),0)})(m)){if(T(E==null?void 0:E.gdpr))return{callback:function(A){new w(m,E==null?void 0:E.gdpr,S,E==null?void 0:E.usp,E==null?void 0:E.gpp).execute().then(function(B){A(B)}).catch(function(B){(0,f.vV)(X+"getId fetch encountered an error",B),A()})}};(0,f.fH)(X+"Skipping ID5 local storage write because no consent given.")}},extendId:function(m,E,S){return T(E==null?void 0:E.gdpr)?((0,f.fH)(X+"using cached ID",S),S&&(S.nbPage=p(S))):(0,f.fH)(X+"No consent given for ID5 local storage writing, skipping nb increment."),S},primaryIds:["id5id","trueLinkId"],eids:K,_reset:function(){this.eids=K}},w=(u.prototype.execute=function(){return Fe(this,void 0,void 0,function(){var m,E;return Ee(this,function(S){switch(S.label){case 0:if(m=Te(this,o,"m",x).call(this),!Te(this,o,"m",r).call(this))return[2,Te(this,o,"m",I).call(this,m)];S.label=1;case 1:return S.trys.push([1,3,,4]),[4,Te(this,o,"m",e).call(this,m)];case 2:return[2,S.sent()];case 3:return E=S.sent(),[2,((0,f.vV)(X+"Error while performing ID5 external module flow. Continuing with regular flow.",E),Te(this,o,"m",I).call(this,m))];case 4:return[2]}})})},u);function u(m,E,S,A,B){o.add(this),this.submoduleConfig=m,this.gdprConsentData=E,this.cacheIdObj=S,this.usPrivacyData=A,this.gppData=B}function p(m){return m&&m.nbPage!==void 0?m.nbPage+1:1}function T(A){var E=A&&typeof A.gdprApplies=="boolean"&&A.gdprApplies,S=(0,c.A)(A,"vendorData.purpose.consents.1"),A=(0,c.A)(A,"vendorData.vendor.consents.".concat("131"));return!E||S&&A}o=new WeakSet,r=function(){return typeof this.submoduleConfig.params.externalModuleUrl=="string"},e=function(m){return Fe(this,void 0,void 0,function(){var E;return Ee(this,function(S){switch(S.label){case 0:return[4,function(A){return Fe(this,void 0,void 0,function(){return Ee(this,function(B){return[2,new M.U9(function(oe,J){if(window.id5Prebid)oe();else try{(0,Y.R)(A,k.fW,"id5",oe)}catch(z){J(z)}})]})})}(this.submoduleConfig.params.externalModuleUrl)];case 1:return S.sent(),[4,m];case 2:return E=S.sent(),[2,Te(this,o,"m",l).call(this).fetchId5Id(E,this.submoduleConfig.params,(0,D.EN)(),this.gdprConsentData,this.usPrivacyData,this.gppData)]}})})},l=function(){return window.id5Prebid&&window.id5Prebid.integration},I=function(m){return Fe(this,void 0,void 0,function(){var E,S;return Ee(this,function(A){switch(A.label){case 0:return[4,m];case 1:return E=A.sent(),[4,Te(this,o,"m",L).call(this,E.extensionsCall)];case 2:return S=A.sent(),[4,Te(this,o,"m",g).call(this,E.fetchCall,S)];case 3:return S=A.sent(),[2,Te(this,o,"m",ee).call(this,S)]}})})},x=function(){return Fe(this,void 0,void 0,function(){var m,E;return Ee(this,function(S){switch(S.label){case 0:return m=this.submoduleConfig.params.configUrl||"https://id5-sync.com/api/config/prebid",[4,(0,C.hd)(m,{method:"POST",body:JSON.stringify(F(F({},this.submoduleConfig),{bounce:!0})),credentials:"include"})];case 1:if((m=S.sent()).ok)return[4,m.json()];throw new Error("Error while calling config endpoint: ",m);case 2:return E=S.sent(),[2,((0,f.fH)(X+"config response received from the server",E),E)]}})})},L=function(m){return Fe(this,void 0,void 0,function(){var E,S,A;return Ee(this,function(B){switch(B.label){case 0:return m===void 0?[2]:(S=m.url,E=(A=m.method||"GET")==="GET"?void 0:JSON.stringify(m.body||{}),[4,(0,C.hd)(S,{method:A,body:E})]);case 1:if((S=B.sent()).ok)return[4,S.json()];throw new Error("Error while calling extensions endpoint: ",S);case 2:return A=B.sent(),[2,((0,f.fH)(X+"extensions response received from the server",A),A)]}})})},g=function(m,E){return Fe(this,void 0,void 0,function(){var S,A;return Ee(this,function(B){switch(B.label){case 0:return S=m.url,A=m.overrides||{},A=JSON.stringify(F(F(F({},Te(this,o,"m",ie).call(this)),A),{extensions:E})),[4,(0,C.hd)(S,{method:"POST",body:A,credentials:"include"})];case 1:if((S=B.sent()).ok)return[4,S.json()];throw new Error("Error while calling fetch endpoint: ",S);case 2:return A=B.sent(),[2,((0,f.fH)(X+"fetch response received from the server",A),A)]}})})},ie=function(){var m=this.submoduleConfig.params,E=this.gdprConsentData&&typeof this.gdprConsentData.gdprApplies=="boolean"&&this.gdprConsentData.gdprApplies?1:0,oe=(0,D.EN)(),S=this.cacheIdObj?this.cacheIdObj.signature:void 0,B=p(this.cacheIdObj),A=window.id5Bootstrap?window.id5Bootstrap.getTrueLinkInfo():{booted:!1},B={partner:m.partner,gdpr:E,nbPage:B,o:"pbjs",tml:oe.topmostLocation,ref:oe.ref,cu:oe.canonicalUrl,top:oe.reachedTop?1:0,u:oe.stack[0]||window.location.href,v:"9.37.0",storage:this.submoduleConfig.storage,localStorage:R.localStorageIsEnabled()?1:0,true_link:A},oe=(!E||this.gdprConsentData.consentString===void 0||(0,f.Im)(this.gdprConsentData.consentString)||(0,f.xQ)(this.gdprConsentData.consentString)||(B.gdpr_consent=this.gdprConsentData.consentString),this.usPrivacyData===void 0||(0,f.Im)(this.usPrivacyData)||(0,f.xQ)(this.usPrivacyData)||(B.us_privacy=this.usPrivacyData),this.gppData&&(B.gpp_string=this.gppData.gppString,B.gpp_sid=this.gppData.applicableSections),S===void 0||(0,f.xQ)(S)||(B.s=S),m.pd===void 0||(0,f.xQ)(m.pd)||(B.pd=m.pd),m.provider===void 0||(0,f.xQ)(m.provider)||(B.provider=m.provider),m.abTesting||{enabled:!1});return oe.enabled&&(B.ab_testing={enabled:!0,control_group_pct:oe.controlGroupPct}),B},ee=function(m){try{m.privacy&&window.id5Bootstrap&&window.id5Bootstrap.setPrivacy&&window.id5Bootstrap.setPrivacy(m.privacy)}catch(E){(0,f.vV)(X+"Error while writing privacy info into local storage.",E)}return m},(0,h.bz)("userId",Q),(0,O.E)("id5IdSystem")}},function(s){s.O(0,[802,2139,1085],function(){return s(s.s=4263)}),s.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[5153],{3557:function(s,$,x){var o=x(7873),r=x(1069),e=x(8044),l=x(9214),I=x(2938),x=x(5569),L="identityLink",g=(0,I.vM)({moduleType:x.fW,moduleName:L});function ie(O,f,c){var _={success:function(C){var h;if(C)try{h=JSON.parse(C)}catch(D){r.fH(D)}f(h&&h.envelope?h.envelope:"")},error:function(C){r.fH("identityLink: identityLink: ID fetch encountered an error",C),f()}};c.notUse3P||g.getCookie("_lr_retry_request")?f():((c=new Date).setTime(c.getTime()+36e5),g.setCookie("_lr_retry_request","true",c.toUTCString()),r.fH("identityLink: A 3P retrieval is attempted!"),ee(!1),(0,e.RD)(O,_,void 0,{method:"GET",withCredentials:!0}))}function ee(O){var f=new Date;f.setTime(f.getTime()+2592e6),g.setCookie("_lr_env_src_ats",O,f.toUTCString())}(0,l.bz)("userId",{name:L,gvlid:97,decode:function(O){return{idl_env:O}},getId:function(O,f){var c=O&&O.params||{};if(c&&typeof c.pid=="string"){var _,C,h,O=f!=null?f:{},f=O.gdpr,O=O.gpp,D=f&&typeof f.gdprApplies=="boolean"&&f.gdprApplies?1:0,f=D?f.consentString:"";if(!D||f&&f!=="")return _=!(!O||!O.gppString)&&O.gppString,O=!!(O&&O.gppString&&0<O.applicableSections.length&&O.applicableSections[0]!==-1)&&O.applicableSections[0],C=_&&O,h="https://api.rlcdn.com/api/identity/envelope?pid=".concat(c.pid).concat(D?"&ct=4&cv="+f:"").concat(C?"&gpp="+_+"&gpp_sid="+O:""),{callback:function(M){var Y;window.ats&&window.ats.retrieveEnvelope?(r.fH("identityLink: ATS exists!"),window.ats.retrieveEnvelope(function(X){X?(r.fH("identityLink: An envelope can be retrieved from ATS!"),ee(!0),M(JSON.parse(X).envelope)):ie(h,M,c)})):(Y=(Y=g.getCookie("_lr_env")||g.getDataFromLocalStorage("_lr_env"))?window.atob(Y):void 0)?(r.fH("identityLink: LiveRamp envelope successfully retrieved from storage!"),M(JSON.parse(Y).envelope)):ie(h,M,c)}};r.fH("identityLink: Consent string is required to call envelope API.")}else r.vV("identityLink: requires partner id to be defined")},eids:{idl_env:{source:"liveramp.com",atype:3}}}),(0,o.E)("identityLinkIdSystem")}},function(s){s.O(0,[802,2139,1085],function(){return s(s.s=3557)}),s.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[4775],{1185:function(s,$,x){var o=x(7873),r=x(1069),e=x(7377),x=x(2938),l={BIDDER_CODE:"invibes",BID_ENDPOINT:".videostep.com/Bid/VideoAdContent",BID_SUBDOMAIN:"https://bid",SYNC_ENDPOINT:"https://k.r66net.com/GetUserSync",TIME_TO_LIVE:300,DEFAULT_CURRENCY:"EUR",PREBID_VERSION:13,METHOD:"GET",INVIBES_VENDOR_ID:436,USERID_PROVIDERS:["pubcid","pubProvidedId","uid2","zeotapIdPlus","id5id"],META_TAXONOMY:["networkId","networkName","agencyId","agencyName","advertiserId","advertiserName","advertiserDomains","brandId","brandName","primaryCatId","secondaryCatIds","mediaType"],DISABLE_USER_SYNC:!0},I=(0,x.vM)({bidderCode:l.BIDDER_CODE}),x={code:l.BIDDER_CODE,gvlid:l.INVIBES_VENDOR_ID,isBidRequestValid:function(P){return typeof P.params=="object"&&P.params.placementId!=null},buildRequests:function(P,R){R=R||{};var K,Q,w,u,p,T,m,E=[],S=[],z=Date.now(),A=(window.invibes=window.invibes||{},window.invibes.placementIds=window.invibes.placementIds||[],f==0&&(B=document.documentElement.scrollHeight,g.originalURL===void 0?g.originalURL=window.location.href:g.originalScrollHeight===void 0?g.originalScrollHeight=B:(oe=window.location.href,g.originalScrollHeight<B&&g.originalURL!==oe&&(f=!0))),P.forEach(function(j){var N;j.startTime=new Date().getTime(),window.invibes.placementIds.includes(j.params.placementId)&&(c=!0),window.invibes.placementIds.push(j.params.placementId),E.push(j.params.placementId),S.push(j.adUnitCode),w=w||j.params.domainId,K=K||j.params.customEndpoint,ie=ie||j.params.customUserSync,ee=(N=j==null?void 0:j.params)==null?void 0:N.disableUserSyncs,Q=Q||j.userId}),g.optIn=g.optIn||((j,N)=>{if(g.GdprModuleInstalled=!1,g.UspModuleInstalled=!1,j&&j.vendorData)return g.GdprModuleInstalled=!0,g.gdpr_consent=(he=j.vendorData).purpose&&he.purpose.consents&&he.tcString!=null?he.tcString:he.consentData,!j.vendorData.gdprApplies||j.vendorData.hasGlobalConsent?(D(!0),2):(he=(he=j.vendorData).purpose&&he.purpose.consents?he.purpose.consents:he.purposeConsents||null,he==null||(q=(q=j.vendorData).purpose&&q.purpose.consents?4<=q.tcfPolicyVersion?11:10:5,!U(he,g.purposes,q))?0:(U((he=j.vendorData).purpose&&he.purpose.legitimateInterests?he.purpose.legitimateInterests:null,g.legitimateInterests,q),he=l.INVIBES_VENDOR_ID.toString(10),q=(q=j.vendorData).vendor&&q.vendor.consents?q.vendor.consents:q.vendorConsents||null,j=((j=j.vendorData).vendor&&j.vendor.legitimateInterests?j.vendor.legitimateInterests:{})[he]===!0,q==null||q[he]==null?4:q[he]===!1&&j==!1?0:2));var q,he;return N&&2<N.length&&(g.UspModuleInstalled=!0,N[2]=="N")?(D(!0),2):(D(!1),0)})(R.gdprConsent,R.uspConsent),g.visitId=g.visitId||C(),(()=>{var j={};try{var N=I.getDataFromLocalStorage("ivbs");N!=null&&(j=JSON.parse(N))}catch{}for(var q,he=/[\\?&]([^=]+)=([^\\?&#]+)/g;(q=he.exec(window.location.href))!=null;)q.index===he.lastIndex&&he.lastIndex++,j[q[1].toLowerCase()]=q[2];return j})()),B=((u=Q)&&l.USERID_PROVIDERS.forEach(function(j){u[j]&&((p=p||{})[j]=u[j])}),p),oe={placementIds:E,adUnitCodes:S,auctionStartTime:z,bidVersion:l.PREBID_VERSION},J=(B&&(oe.userId=B),{location:R.refererInfo.page.substring(0,300),videoAdHtmlId:C(),showFallback:A.advs==="0",ivbsCampIdsLocal:h("IvbsCampIdsLocal"),bidParamsJson:JSON.stringify(oe),capCounts:(m="ivvcap",g.optIn&&g.purposes[0]?(T=function(){try{return JSON.parse(I.getDataFromLocalStorage(m))||{}}catch{return{}}},(()=>{j=new Date().getTime(),N=T(),q=!1,Object.keys(N).forEach(function(ue){N[ue][1]<=j&&(delete N[ue],q=!0)}),q&&I.setDataInLocalStorage(m,JSON.stringify(N));var j,N,q,he=T();return Object.keys(he).filter(function(ue){return he.hasOwnProperty(ue)}).sort().map(function(ue){return[ue,he[ue][0]]})})().map(function(j){return j.join("=")}).join(",")):""),pcids:Object.keys(g.pushedCids).join(","),vId:g.visitId,width:L.innerWidth,height:L.innerHeight,oi:g.optIn,kw:M,purposes:g.purposes.toString(),li:g.legitimateInterests.toString(),tc:g.gdpr_consent,uspc:R.uspConsent,isLocalStorageEnabled:I.hasLocalStorage(),preventPageViewEvent:O,isPlacementRefresh:c,isInfiniteScrollPage:f}),z=(R.refererInfo&&R.refererInfo.ref&&(J.pageReferrer=R.refererInfo.ref.substring(0,300)),g.getCookie("handIid"));if(z&&(J.handIid=z),!(R=h("ivbsdid"))&&(z=g.getCookie("ivbsdid"),z))try{var re=JSON.parse(z),R=re.id||re}catch{}R&&(J.lId=R);var ge,W,Z="videoaddebug,advs,bvci,bvid,istop,trybvid,trybvci".split(",");for(ge in A)A.hasOwnProperty(ge)&&(W=A[ge],-1<Z.indexOf(ge)||/^vs|^invib/i.test(ge))&&(J[ge]=W);return z=(j=>{if(K!=null)return K;if(w!=null)return _(w-1e3);if(0<j.length){for(var N=0;N<j.length;N++)if(q=(q=j[N])!=null&&(q=/_ivbs([0-9]+)/g.exec(q))!=null&&q[1]!=null?parseInt(q[1]):null,q!=null)return _(q)}var q;return _(1)})(E),O=!0,{method:l.METHOD,url:z,data:J,options:{withCredentials:!0},bidRequests:P}},interpretResponse:function(P,R){var K=P,Q=R!=null?R.bidRequests:null;if(Q==null||Q.length===0)return(0,r.fH)("Invibes Adapter - No bids have been requested"),[];if(!K)return(0,r.fH)("Invibes Adapter - Bid response is empty"),[];if((K=(K=K.body||K).videoAdContentResult||K).ShouldSetLId&&K.LId&&(g.optIn&&g.purposes[0]||!K.PrivacyPolicyRule||!K.TcModel||!K.TcModel.PurposeConsents||(g.optIn=K.PrivacyPolicyRule,g.purposes=K.TcModel.PurposeConsents),P=K.LId,g.optIn)&&g.purposes[0]&&I.setDataInLocalStorage("ivbsdid",P),typeof g.bidResponse=="object"){if(K.MultipositionEnabled!==!0)return(0,r.fH)("Invibes Adapter - Bid response already received. Invibes only responds to one bid request per user visit"),[];g.bidResponse.AdPlacements=g.bidResponse.AdPlacements.concat(K.AdPlacements)}else g.bidResponse=K;for(var w=[],u=0;u<Q.length;u++){var p=Q[u],T=K.UseAdUnitCode===!0?p.params.placementId+"_"+p.adUnitCode:p.params.placementId;if(-1<g.placementBids.indexOf(T))(0,r.fH)("Invibes Adapter - Placement was previously bid on "+T);else{var m=null;if(K.AdPlacements!=null)for(var E=0;E<K.AdPlacements.length;E++){var S=K.AdPlacements[E].BidModel;if(S!=null&&S.PlacementId==T){m=K.AdPlacements[E];break}}else{var A=K.BidModel;A!=null&&A.PlacementId==T&&(m=K)}A=((B,Z,J,re)=>{if(Z===null||Z.BidModel===null)return(0,r.fH)("Invibes Adapter - Placement not configured for bidding "+re),null;var re=Z.BidModel,ge=Z.Ads;if(!Array.isArray(ge)||ge.length<1)return Z.AdReason!=null&&(0,r.fH)("Invibes Adapter - No ads "+Z.AdReason),(0,r.fH)("Invibes Adapter - No ads available"),null;var W=ge[0],Z=(j=>{for(var N=[0,0],q=0;q<j.length;q++)j[q][0]*j[q][1]>N[0]*N[1]&&(N=j[q]);return N})(B.sizes);if(J===!0&&0<Object.keys(g.pushedCids).length){if(W.Blcids!=null&&0<W.Blcids.length&&Object.keys(g.pushedCids).some(function(j){return-1<W.Blcids.indexOf(parseInt(j))}))return(0,r.fH)("Invibes Adapter - Ad blacklists pushed ids"),null;if(Object.keys(g.pushedCids).some(function(j){return-1<g.pushedCids[j].indexOf(W.Cid)}))return(0,r.fH)("Invibes Adapter - Ad is blacklisted"),null}return g.pushedCids[W.Cid]=W.Blcids||[],ge=Date.now(),(0,r.fH)("Bid auction started at "+re.AuctionStartTime+" . Invibes registered the bid at "+ge+" ; bid request took a total of "+(ge-re.AuctionStartTime)+" ms."),{requestId:B.bidId,cpm:W.BidPrice,width:re.Width||Z[0],height:re.Height||Z[1],creativeId:W.VideoExposedId,currency:re.Currency||l.DEFAULT_CURRENCY,netRevenue:!0,ttl:l.TIME_TO_LIVE,ad:"<html>\n        <head><script type='text/javascript'>inDapIF=true;<\/script></head>\n          <body style='margin : 0; padding: 0;'>\n          creativeHtml\n          </body>\n        </html>".replace("creativeHtml",re.CreativeHtml),meta:(j=>{var N={};if(j!=null)for(var q=0;q<l.META_TAXONOMY.length;q++)j.hasOwnProperty(l.META_TAXONOMY[q])&&(N[l.META_TAXONOMY[q]]=j[l.META_TAXONOMY[q]]);return N})(re.Meta)}})(p,m,K.MultipositionEnabled,T),A!==null&&(g.placementBids.push(T),w.push(A))}}return w},getUserSyncs:function(P){if(P.iframeEnabled&&!(ee==null?l.DISABLE_USER_SYNC:ee))return{type:"iframe",url:(()=>{var R=ie||l.SYNC_ENDPOINT,R=(R+="?visitId="+g.visitId)+"&optIn="+g.optIn;if(!(w=h("ivbsdid"))){var K=g.getCookie("ivbsdid");if(K)try{var Q=JSON.parse(K),w=Q.id||Q}catch{}}return w&&(R+="&ivbsdid="+encodeURIComponent(w)),R})()}}},L=((0,e.a$)(x),(()=>{var P=window;try{for(;top!==P;)P.parent.location.href.length&&(P=P.parent)}catch{}return P})()),g=L.invibes=L.invibes||{};g.purposes=g.purposes||[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],g.legitimateInterests=g.legitimateInterests||[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],g.placementBids=g.placementBids||[],g.pushedCids=g.pushedCids||{};var ie,ee,O=!1,f=!1,c=!1;function _(P){return P<2?l.BID_SUBDOMAIN+l.BID_ENDPOINT:l.BID_SUBDOMAIN+P+l.BID_ENDPOINT}function C(){return"10000000100040008000100000000000".replace(/[018]/g,function(P){return(P^crypto.getRandomValues(new Uint8Array(1))[0]&15>>P/4).toString(16)})}function h(P){if(!g.GdprModuleInstalled&&!g.UspModuleInstalled||g.optIn&&g.purposes[0])return I.getDataFromLocalStorage(P)||""}function D(P){for(var R=0;R<g.purposes.length;++R)g.purposes[R]=P;for(R=0;R<g.legitimateInterests.length;++R)g.legitimateInterests[R]=P}function U(P,R,K){if(P instanceof Array){for(var Q=0;Q<K&&Q<P.length;Q++)R[Q]=!(P[Q]===!1||P[Q]==="false"||P[Q]==null);return 1}if(typeof P=="object"&&P!==null){var w,u,p=0;for(w in P){if(p===K)break;P.hasOwnProperty(w)&&(u=parseInt(w),isNaN(u)?R[p]=!(P[w]===!1||P[w]==="false"||P[w]==null):R[u-1]=!(P[w]===!1||P[w]==="false"||P[w]==null),p++)}return 1}}g.Uid={generate:function(){function P(){return Math.floor(Math.random()*R).toString(36)}var R=parseInt("zzzzzz",36);return P()+P()}},g.getCookie=function(P){if(I.cookiesAreEnabled()&&(!g.GdprModuleInstalled&&!g.UspModuleInstalled||g.optIn&&g.purposes[0]))return I.getCookie(P)},e=document.getElementsByTagName("head")[0],k=e?e.getElementsByTagName("meta"):[];var k,M=x=(!(x=X("keywords",300))||x.length<292)&&(!(x=X("description",300,x))||x.length<292)?Y((x||"")+","+((document.title||e)&&e.getElementsByTagName("title")[0]?e.getElementsByTagName("title")[0].innerHTML:""),300):x;function Y(P,R){for(var K=(Q=P.replace(/[<>~|\\"`!@#$%^&*()=+?]/g,"")).split(/[\s,;.:]+/).filter(function(u,p,T){return u!==""&&T.indexOf(u)===p}),Q="",w=0;w<K.length;w++){if((Q+=K[w]).length>=R)return Q;w<K.length-1&&(Q+=",")}return Q}function X(P,R,K){P=P||"keywords",R=R||100;for(var Q=K=K||"",w=0;w<k.length;w++){if(k[w].name&&k[w].name.toLowerCase()===P.toLowerCase())return Y(K+","+k[w].content||"",R);k[w].name&&-1<k[w].name.toLowerCase().indexOf(P.toLowerCase())&&(Q=K+","+k[w].content||"")}return Y(Q,R)}(0,o.E)("invibesBidAdapter")}},function(s){s.O(0,[802,2139,1085],function(){return s(s.s=1185)}),s.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[3170],{7764:function(s,$,a){var o=a(7873),r=a(433),e=a(1069),l=a(3172),I=a(1371),x=a(3272),L=a(2938),g=a(5901),ie=a(7377),ee=a(3895),O=a(5789),f=a(1252),c=[I.D4,I.G_,I.s6],_=[144,144],C={JPY:1},h={PBJS:"p",IX:"x"},D={SITE:["id","name","domain","cat","sectioncat","pagecat","page","ref","search","mobile","privacypolicy","publisher","content","keywords","ext"],USER:["id","buyeruid","yob","gender","keywords","customdata","geo","data","ext"]},U={"liveramp.com":"idl","netid.de":"NETID","neustar.biz":"fabrickId","zeotap.com":"zeotapIdPlus","uidapi.com":"UID2","adserver.org":"TDID"},k=["lipbid","criteoId","merkleId","parrableId","connectid","tapadId","quantcastId","pubProvidedId","pairId"],M=["mimes","minduration","maxduration"],Y=["mimes","minduration","maxduration","protocols","protocol","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext","playerSize","w","h","plcmt"],X="".concat("ix","_features"),P=(0,L.vM)({bidderCode:"ix"}),R={REQUESTED_FEATURE_TOGGLES:["pbjs_enable_multiformat","pbjs_allow_all_eids"],featureToggles:{},isFeatureEnabled:function(j){return(0,r.A)(this.featureToggles,"features.".concat(j,".activated"),!1)},getFeatureToggles:function(){var j;P.localStorageIsEnabled()&&(j=(0,e.$l)(P.getDataFromLocalStorage(X)),(0,r.A)(j,"expiry")&&j.expiry>=new Date().getTime()?this.featureToggles=j:this.clearFeatureToggles())},setFeatureToggles:function(q){var q=q.body,N=new Date,q=(0,r.A)(q,"ext.features");q&&(this.featureToggles={expiry:N.setHours(N.getHours()+1),features:q},P.localStorageIsEnabled())&&P.setDataInLocalStorage(X,JSON.stringify(this.featureToggles))},clearFeatureToggles:function(){this.featureToggles={},P.localStorageIsEnabled()&&P.removeDataFromLocalStorage(X)}},K=0,Q="",w="",u=!1;function p(j){var N=T(j,I.G_),q=(0,r.A)(j,"mediaTypes.video"),he=(0,r.A)(j,"params.video");if(A(q,he).length)return{};N.video=he?(0,e.Go)(j.params.video):{};var ue,me=(0,r.A)(j,"ortb2Imp.ext.tid");for(ue in me&&(0,l.J)(N,"ext.tid",me),((se,ne)=>{if((0,r.A)(ne,"mediaTypes.video.context")===ee.H6){var de=(de=(0,r.A)(ne,"mediaTypes.video.renderer"))||(0,r.A)(ne,"renderer");if((0,r.A)(ne,"schain",!1))se.displaymanager="pbjs_wrapper";else if(de&&typeof de=="object"){if(de.url!==void 0){ne="";try{ne=new URL(de.url).hostname}catch{return}ne.includes("js-sec.indexww")?se.displaymanager="ix":se.displaymanager=de.url}}else se.displaymanager="ix"}})(N,j),J(N,j),q)Y.indexOf(ue)===-1||N.video.hasOwnProperty(ue)||(N.video[ue]=q[ue]);if(N.video.minduration>N.video.maxduration)return(0,e.vV)("IX Bid Adapter: video minduration [".concat(N.video.minduration,"] cannot be greater than video maxduration [").concat(N.video.maxduration,"]")),{};if(me=he&&he.context||q&&q.context,(Oe=N).video.hasOwnProperty("plcmt")&&(!(0,e.Fq)(Oe.video.plcmt)||Oe.video.plcmt<1||4<Oe.video.plcmt)&&((0,e.JE)("IX Bid Adapter: video.plcmt [".concat(Oe.video.plcmt,"] must be an integer between 1-4 inclusive")),delete Oe.video.plcmt),me&&!N.video.hasOwnProperty("placement")&&(me===ee.mn?N.video.placement=1:me===ee.H6?(0,r.A)(he,"playerConfig.floatOnScroll")?N.video.placement=5:(N.video.placement=3,u=!0):(0,e.JE)("IX Bid Adapter: Video context '".concat(me,"' is not supported"))),!N.video.w||!N.video.h){var Oe=B((0,r.A)(N,"video.playerSize"))||B((0,r.A)(j,"params.size"));if(!Oe)return(0,e.JE)("IX Bid Adapter: Video size is missing in [mediaTypes.video]"),{};N.video.w=Oe[0],N.video.h=Oe[1]}return m(j,N,I.G_),N}function T(j,N){var q={};if(q.id=j.bidId,W()&&(0,r.A)(j,"params.externalId")&&(0,l.J)(q,"ext.externalID",j.params.externalId),(0,r.A)(j,"params.".concat(N,".siteId"))&&!isNaN(Number(j.params[N].siteId)))switch(N){case I.D4:(0,l.J)(q,"ext.siteID",j.params.banner.siteId.toString());break;case I.G_:(0,l.J)(q,"ext.siteID",j.params.video.siteId.toString());break;case I.s6:(0,l.J)(q,"ext.siteID",j.params.native.siteId.toString())}else j.params.siteId&&(0,l.J)(q,"ext.siteID",j.params.siteId.toString());return!j.params.hasOwnProperty("id")||typeof j.params.id!="string"&&typeof j.params.id!="number"||(0,l.J)(q,"ext.sid",String(j.params.id)),q}function m(j,N,q){var he=null,ue=null;if(j.params.bidFloor&&j.params.bidFloorCur&&(he={floor:j.params.bidFloor,currency:j.params.bidFloorCur}),(0,e.fp)(j.getFloor)){var me="*",Oe="*";q&&(0,e.gR)(c,q)&&(Oe=[(se=N[me=q]).w,se.h]);try{ue=j.getFloor({mediaType:me,size:Oe})}catch(ne){(0,e.JE)("priceFloors module call getFloor failed, error : ",ne)}}var se=!1;ue?(N.bidfloor=ue.floor,N.bidfloorcur=ue.currency,(0,l.J)(N,"ext.fl",h.PBJS),se=!0):he&&(N.bidfloor=he.floor,N.bidfloorcur=he.currency,(0,l.J)(N,"ext.fl",h.IX),se=!0),se&&(q==I.D4?((0,l.J)(N,"banner.ext.bidfloor",N.bidfloor),(0,l.J)(N,"banner.ext.fl",N.ext.fl)):q==I.G_?((0,l.J)(N,"video.ext.bidfloor",N.bidfloor),(0,l.J)(N,"video.ext.fl",N.ext.fl)):((0,l.J)(N,"native.ext.bidfloor",N.bidfloor),(0,l.J)(N,"native.ext.fl",N.ext.fl)))}function E(j){return Array.isArray(j)&&j.length===2&&(0,e.Fq)(j[0])&&(0,e.Fq)(j[1])}function S(j,N){var q=0<arguments.length&&j!==void 0?j:[],he=1<arguments.length&&N!==void 0?N:[];if(E(q))return q[0]===he[0]&&q[1]===he[1];for(var ue=0;ue<q.length;ue++)if(q[ue][0]===he[0]&&q[ue][1]===he[1])return!0;return!1}function A(j,N){var q=[];j||(0,e.JE)("IX Bid Adapter: mediaTypes.video is the preferred location for video params in ad unit");for(var he=0,ue=M;he<ue.length;he++){var me=ue[he],Oe=j&&j.hasOwnProperty(me),se=N&&N.hasOwnProperty(me);Oe||se||q.push("IX Bid Adapter: ".concat(me," is not included in either the adunit or params level"))}var ne=j&&j.hasOwnProperty("protocol"),de=j&&j.hasOwnProperty("protocols"),ce=N&&N.hasOwnProperty("protocol"),ve=N&&N.hasOwnProperty("protocols");return ne||de||ce||ve||q.push("IX Bid Adapter: protocol/protcols is not included in either the adunit or params level"),q}function B(j){return j=0<arguments.length&&j!==void 0?j:[],E(j)?j:!!E(j[0])&&j[0]}function oe(j,N,q){var he="https://htlb.casalemedia.com/openrtb/pbjs",ue=(Ue=>{var xe=[],Me={};if((0,e.cy)(Ue))for(var ke=0,Qe=Ue;ke<Qe.length;ke++){var He=Qe[ke],et=U.hasOwnProperty(He.source);if((0,r.A)(He,"uids.0")&&(Me[He.source]=!0,et&&U[He.source]!==""&&(He.uids[0].ext={rtiPartner:U[He.source]}),xe.push(He),50<=xe.length))break}return{toSend:xe,seenSources:Me}})((0,r.A)(j,"0.userIdAsEids")),me=ue.toSend,Oe=(window.headertag&&typeof window.headertag.getIdentityInfo=="function"&&((Ue,xe)=>{var Me=window.headertag.getIdentityInfo();if(Me&&typeof Me=="object")for(var ke in Me){if(50<=Ue.length)return;Me.hasOwnProperty(ke)&&!(ke=Me[ke]).responsePending&&ke.data&&typeof ke.data=="object"&&Object.keys(ke.data).length&&!xe.seenSources[ke.data.source]&&Ue.push(ke.data)}})(me,ue),[]);(ue={}).id=j[0].bidderRequestId.toString(),ue.site={},ue.ext={},ue.ext.source="prebid",ue.ext.ixdiag={},ue.ext.ixdiag.ls=P.localStorageIsEnabled(),ue.imp=[],ue.at=1,se=De=ue,0<(ue=R.REQUESTED_FEATURE_TOGGLES).length&&(se.ext.features={},ue.forEach(function(Ue){se.ext.features[Ue]={activated:R.isFeatureEnabled(Ue)}})),De=se;var se,ne,de,ce,ve,pe,we=((Ue,xe)=>{for(var Me,ke,Qe=Ue.map(function(it){return it.adUnitCode}).filter(function(it,dt,Be){return Be.indexOf(it)===dt}),He=(0,r.A)(Ue,"0.userIdAsEids",[]),et={mfu:0,bu:0,iu:0,nu:0,ou:0,allu:0,ren:!1,version:"9.37.0",userIds:(Me=Ue[0],ke=Me.userId||{},k.filter(function(it){return ke[it]})),url:window.location.href.split("?")[0],vpd:u,ae:xe,eidLength:He.length},st=0,lt=Qe;st<lt.length;st++)(it=>{var dt=Ue.filter(function(Be){return Be.adUnitCode===it})[0];(0,r.A)(dt,"mediaTypes")&&(1<Object.keys(dt.mediaTypes).length&&et.mfu++,(0,r.A)(dt,"mediaTypes.native")&&et.nu++,(0,r.A)(dt,"mediaTypes.banner")&&et.bu++,(0,r.A)(dt,"mediaTypes.video.context")==="outstream"&&(et.ou++,ge(dt))&&(et.ren=!0),(0,r.A)(dt,"mediaTypes.video.context")==="instream"&&et.iu++,et.allu++)})(lt[st]);return et})(j,(0,r.A)(N,"paapi.enabled"));for(ne in we)De.ext.ixdiag[ne]=we[ne];ue=De,de=N,ce=q,ve=j,me=me,(pe=(0,r.A)(de,"timeout"))&&(ue.ext.ixdiag.tmax=pe),x.$W.getConfig("userSync")&&(ue.ext.ixdiag.syncsPerBidder=x.$W.getConfig("userSync").syncsPerBidder),ue.ext.ixdiag.imps=Object.keys(ce).length,ue.source={tid:(ce=(pe=de==null?void 0:de.ortb2)==null?void 0:pe.source)==null?void 0:ce.tid},ve[0].schain&&(ue.source.ext={},ue.source.ext.schain=ve[0].schain),0<me.length&&(ue.user={},ue.user.eids=me),document.referrer&&document.referrer!==""&&(ue.site.ref=document.referrer),de=De=ue,(pe=N)&&(pe.gdprConsent&&((Q=pe.gdprConsent).hasOwnProperty("gdprApplies")&&(de.regs={ext:{gdpr:Q.gdprApplies?1:0}}),Q.hasOwnProperty("consentString"))&&(de.user=de.user||{},de.user.ext={consent:Q.consentString||""},Q.hasOwnProperty("addtlConsent"))&&Q.addtlConsent&&(de.user.ext.consented_providers_settings={addtl_consent:Q.addtlConsent}),pe.uspConsent&&((0,l.J)(de,"regs.ext.us_privacy",pe.uspConsent),w=pe.uspConsent),(ce=(0,r.A)(pe,"refererInfo.page"))&&(de.site.page=ce),pe.gppConsent)&&((0,l.J)(de,"regs.gpp",pe.gppConsent.gppString),(0,l.J)(de,"regs.gpp_sid",pe.gppConsent.applicableSections)),x.$W.getConfig("coppa")&&(0,l.J)(de,"regs.coppa",1),De=de,j[0].params.siteId&&(K=j[0].params.siteId);for(var te,H,ye=Object.keys(q),Ce=!1,Se=0;Se<ye.length&&!(4<=Oe.length);Se++){var De=((Ue,xe,Me,ke)=>{var Be=(Ge=Ue[xe[ke]]).missingImps,Qe={ixImps:(Ge=Ge.ixImps)===void 0?[]:Ge,missingBannerImpressions:Be===void 0?[]:Be},Ge=Object.keys(Qe).map(function(tt){return Qe[tt]}).filter(function(tt){return Array.isArray(tt)}).reduce(function(tt,nt){return tt.concat.apply(tt,nt)},[]),He=Ue[xe[ke]].gpid,et=Ue[xe[ke]].dfp_ad_unit_code,st=Ue[xe[ke]].tid,lt=Ue[xe[ke]].sid,it=Ue[xe[ke]].ae,dt=Ue[xe[ke]].paapi,Be=Ge.filter(function(tt){return I.D4 in tt}),Ge=Ge.filter(function(tt){return!(I.D4 in tt)});if(0<Be.length){var $e,Je=Be.reduce(function(tt,nt){return tt[nt.adunitCode]||(tt[nt.adunitCode]=[]),tt[nt.adunitCode].push(nt),tt},{});for($e in Je){for(var Ke=Je[$e],ze=Ke[0],qe=ze.id,ze=ze.banner.topframe,Ye=(0,r.A)(Ke[0],"ext.externalID"),Ze={id:qe,banner:{topframe:ze,format:Ke.map(function(tt){var nt=tt.banner;return{w:nt.w,h:nt.h,ext:tt.ext}})}},rt=0;rt<Ze.banner.format.length;rt++)Ze.banner.format[rt].ext!=null&&(Ze.banner.format[rt].ext.sid!=null&&delete Ze.banner.format[rt].ext.sid,Ze.banner.format[rt].ext.externalID!=null)&&delete Ze.banner.format[rt].ext.externalID,"bidfloor"in Ke[rt]&&(Ze.banner.format[rt].ext.bidfloor=Ke[rt].bidfloor),JSON.stringify(Ze.banner.format[rt].ext)==="{}"&&delete Ze.banner.format[rt].ext;qe=Ue[xe[ke]].pos,ze=((0,e.Fq)(qe)&&(Ze.banner.pos=qe),(et||He||st||lt||it||Ye||dt)&&(Ze.ext={},Ze.ext.dfp_ad_unit_code=et,Ze.ext.gpid=He,Ze.ext.tid=st,Ze.ext.sid=lt,Ze.ext.externalID=Ye,it==1)&&(Ze.ext.ae=1,Ze.ext.paapi=dt),"bidfloor"in Ke[0]&&(Ze.bidfloor=Ke[0].bidfloor),"bidfloorcur"in Ke[0]&&(Ze.bidfloorcur=Ke[0].bidfloorcur),Ue[xe[ke]].adUnitFPD),ze&&(0,l.J)(Ze,"ext.data",ze),Me.imp.push(Ze)}}return 0<Ge.length&&Ge.forEach(function(tt){var nt;He&&(0,l.J)(tt,"ext.gpid",He),0<Me.imp.length&&(nt=!1,Me.imp.forEach(function(at,pt){tt.id===at.id&&I.G_ in tt?(at.video=tt.video,at.video.ext=Object.assign({},tt.video.ext,tt.ext),(0,r.A)(at,"video.ext.bidfloor",!1)&&(0,r.A)(at,"bidfloor",!1)&&at.video.ext.bidfloor<at.bidfloor&&(at.bidfloor=at.video.ext.bidfloor),!(0,r.A)(at,"ext.siteID",!1)&&(0,r.A)(tt,"video.ext.siteID")&&((0,l.J)(at,"ext.siteID",tt.video.ext.siteID),(0,l.J)(Me,"ext.ixdiag.usid",!0)),nt=!0):tt.id===at.id&&I.s6 in tt&&(at.native=tt.native,at.native.ext=Object.assign({},tt.native.ext,tt.ext),(0,r.A)(at,"native.ext.bidfloor",!1)&&(0,r.A)(at,"bidfloor",!1)&&at.native.ext.bidfloor<at.bidfloor&&(at.bidfloor=at.native.ext.bidfloor),!(0,r.A)(at,"ext.siteID",!1)&&(0,r.A)(tt,"native.ext.siteID",!1)&&((0,l.J)(at,"ext.siteID",tt.native.ext.siteID),(0,l.J)(Me,"ext.ixdiag.usid",!0)),nt=!0)}),nt)||Me.imp.push(tt)}),Me})(q,ye,De,Se),_e=(0,r.A)(N,"ortb2")||{},Pe=F({},_e.site||_e.context),Ne=(Pe.page=(Ue=>{var xe,Me=Ue&&Ue.bidderCode||"ix",Me=x.$W.getConfig(Me),ke="";if(ke=(0,r.A)(Ue,"ortb2.site.page")?Ue.ortb2.site.page:(0,r.A)(Ue,"refererInfo.page"),Me&&typeof Me.firstPartyData=="object"){var Qe=ke,He=Me.firstPartyData;try{xe=new URL(Qe)}catch{(0,e.JE)("IX Bid Adapter: Invalid URL set in ortb2.site.page: ".concat(Qe,". Using referer URL instead.")),xe=new URL((0,r.A)(Ue,"refererInfo.page"))}for(var et=new URLSearchParams(xe.search),st=0,lt=Object.entries(He);st<lt.length;st++){var dt=lt[st],it=dt[0],dt=dt[1];et.has(it)||et.append(it,dt)}return xe.search=et.toString(),xe.toString()}return ke})(N),F({},_e.user)),We=((0,e.Im)(_e)||Ce||((De=((Ue,xe,Me,ke,Qe)=>{var He,et,st,lt;return xe.ext.ixdiag.fpd=!0,Object.keys(ke).forEach(function(it){D.SITE.indexOf(it)===-1&&delete ke[it]}),Object.keys(Qe).forEach(function(it){D.USER.indexOf(it)===-1&&delete Qe[it]}),Me.device&&(He=F({},Me.device.sua),(0,e.Im)(He)||(0,l.J)(xe,"device.sua",He)),Me.hasOwnProperty("regs")&&!Ue.gppConsent&&(Me.regs.hasOwnProperty("gpp")&&typeof Me.regs.gpp=="string"&&(0,l.J)(xe,"regs.gpp",Me.regs.gpp),Me.regs.hasOwnProperty("gpp_sid")&&Array.isArray(Me.regs.gpp_sid)&&(0,l.J)(xe,"regs.gpp_sid",Me.regs.gpp_sid),(He=Me.regs.ext)!=null)&&He.dsa&&(et=Me.regs.ext.dsa,st={},["dsarequired","pubrender","datatopub"].forEach(function(it){(0,e.Et)(et[it])&&(st[it]=et[it])}),(0,e.cy)(et.transparency)&&(lt=[],et.transparency.forEach(function(it){(0,e.Qd)(it)&&(0,e.O8)(it.domain)&&it.domain!=""&&(0,e.cy)(it.dsaparams)&&it.dsaparams.every(function(dt){return(0,e.Et)(dt)})&&lt.push(it)}),0<lt.length)&&(st.transparency=lt),(0,e.Im)(st)||(0,l.J)(xe,"regs.ext.dsa",st)),xe})(N,De,_e,Pe,Ne)).site=(0,e.D9)({},De.site,Pe),De.user=(0,e.D9)({},De.user,Ne),Ce=!0),_e=De,H=Ne=Pe=void 0,Pe=(te=q)[ye[We=Se]].pbadslot,Ne=te[ye[We]].tagId,H=te[ye[We]].adUnitCode,te=te[ye[We]].divId,(Pe||Ne||H||te)&&(_e.ext.ixdiag.pbadslot=Pe,_e.ext.ixdiag.tagid=Ne,_e.ext.ixdiag.adunitcode=H,_e.ext.ixdiag.divId=te),De=_e,Se===ye.length-1);(Pe=De).device==null&&(Pe.device={}),Pe.device.h=window.screen.height,Pe.device.w=window.screen.width,De=(Ue=>(Ue.imp.forEach(function(xe,Me){if(xe.ext==null)return Ue;if(!(Z(xe)<2)){if(I.D4 in xe){var ke=xe.banner.ext;if(ke!==void 0&&ke.siteID!==void 0&&delete Ue.imp[Me].banner.ext.siteID,xe.banner.format!==void 0)for(var Qe=0;Qe<xe.banner.format.length;Qe++)xe.banner.format[Qe].ext!==void 0&&xe.banner.format[Qe].ext.siteID!==void 0&&((0,l.J)(Ue.imp[Me],"ext.siteID",xe.banner.format[Qe].ext.siteID),(0,l.J)(Ue,"ext.ixdiag.usid",!0),delete Ue.imp[Me].banner.format[Qe].ext.siteID)}I.G_ in xe&&(ke=xe.video.ext)!==void 0&&ke.siteID!==void 0&&delete Ue.imp[Me].video.ext.siteID,I.s6 in xe&&(ke=xe.native.ext)!==void 0&&ke.siteID!==void 0&&delete Ue.imp[Me].native.ext.siteID}}),Ue))(De=(Ue=>(Ue.imp.forEach(function(xe,Me){var ke=xe.ext;if(ke==null)return Ue;Z(xe)<2||Object.keys(ke).forEach(function(Qe){if(I.D4 in xe){var He=xe.banner.ext;if(He!==void 0&&He[Qe]!==void 0&&He[Qe]==ke[Qe]&&delete Ue.imp[Me].banner.ext[Qe],xe.banner.format!==void 0)for(var et=0;et<xe.banner.format.length;et++)xe.banner.format[et].ext!=null&&xe.banner.format[et].ext[Qe]!=null&&xe.banner.format[et].ext[Qe]==ke[Qe]&&delete Ue.imp[Me].banner.format[et].ext[Qe]}I.G_ in xe&&(He=xe.video.ext)!==void 0&&He[Qe]!==void 0&&He[Qe]==ke[Qe]&&delete Ue.imp[Me].video.ext[Qe],I.s6 in xe&&(He=xe.native.ext)!==void 0&&He[Qe]!==void 0&&He[Qe]==ke[Qe]&&delete Ue.imp[Me].native.ext[Qe]})}),Ue))(De=Pe)),We&&(Ne="".concat(he,"?"),K!==0&&(Ne+="s=".concat(K)),W()&&(Ne=(Ne+=K!==0?"&":"")+"p=".concat(x.$W.getConfig("exchangeId"))),Oe.push({method:"POST",url:Ne,data:(0,e.Go)(De),options:{contentType:"text/plain",withCredentials:!0},validBidRequests:j}),Ce=!(De.imp=[]))}return Oe}function J(j,N){N=(0,r.A)(N,"ortb2Imp.ext.data"),N&&(0,l.J)(j,"ext.data",N)}function z(j,N){if(N)for(var q=0;q<j.length;q++){var he=j[q];if(N[0]===he[0]&&N[1]===he[1]){j.splice(q,1);break}}}function re(j){j.renderer.push(function(){var N=j.adUnitCode,N=document.getElementById(N)?N:(0,f.p)(N).divId;N?window.createIXPlayer(N,j):(0,e.JE)("IX Bid Adapter: adUnitCode: ".concat(N," not found on page."))})}function ge(j){var N;if((0,r.A)(j,"mediaTypes.video.context")==="outstream")return typeof(N=(N=(0,r.A)(j,"mediaTypes.video.renderer"))||(0,r.A)(j,"renderer"))!="object"||!N.url||!N.render||N.backupOnly}function W(){var j=x.$W.getConfig("exchangeId");return typeof j=="number"&&isFinite(j)||typeof j=="string"&&j.trim()!==""&&isFinite(Number(j))}a={code:"ix",gvlid:10,supportedMediaTypes:c,isBidRequestValid:function(j){var N=(0,r.A)(j,"params.video"),q=(0,r.A)(j,"params.size"),he=(0,r.A)(j,"mediaTypes.banner.sizes"),ue=(0,r.A)(j,"mediaTypes.video"),me=(0,r.A)(j,"mediaTypes.video.playerSize"),Oe=j.params.hasOwnProperty("bidFloor"),se=j.params.hasOwnProperty("bidFloorCur");if(j.hasOwnProperty("mediaType")&&!(0,e.gR)(c,j.mediaType))return(0,e.JE)("IX Bid Adapter: media type is not supported."),!1;if((0,r.A)(j,"mediaTypes.banner")&&!he)return!1;if(q){if(q=B(q),!q)return(0,e.vV)("IX Bid Adapter: size has invalid format."),!1;if(!S(j.sizes,q)&&!S(me,q)&&!S(he,q))return(0,e.vV)("IX Bid Adapter: bid size is not included in ad unit sizes or player size."),!1}if(!W()&&j.params.siteId==null)return(0,e.vV)("IX Bid Adapter: Invalid configuration - either siteId or exchangeId must be configured."),!1;if(j.params.siteId!==void 0){if(typeof j.params.siteId!="string"&&typeof j.params.siteId!="number")return(0,e.vV)("IX Bid Adapter: siteId must be string or number type."),!1;if(typeof j.params.siteId!="string"&&isNaN(Number(j.params.siteId)))return(0,e.vV)("IX Bid Adapter: siteId must valid value"),!1}if((Oe||se)&&!(Oe&&se&&(me=j.params.bidFloor,he=j.params.bidFloorCur,!!(typeof me=="number"&&typeof he=="string"&&he.match(/^[A-Z]{3}$/)))))return(0,e.vV)("IX Bid Adapter: bidFloor / bidFloorCur parameter has invalid format."),!1;if(ue&&N){if(q=p(j).video,Oe=A(ue,N),(0,r.A)(j,"mediaTypes.video.context")===ee.H6&&ge(j)&&q&&(se=[(0,r.A)(q,"w"),(0,r.A)(q,"h")],!(_[0]<=se[0]&&_[1]<=se[1])))return(0,e.vV)("IX Bid Adapter: ".concat(se," is an invalid size for IX outstream renderer")),!1;if(Oe.length)return Oe.forEach(function(ne){(0,e.vV)(ne)}),!1}return me=j,(0,r.A)(me,"mediaTypes.native")===void 0||me.nativeOrtbRequest&&Array.isArray(me.nativeOrtbRequest.assets)&&0<me.nativeOrtbRequest.assets.length},resetSiteID:function(){K=0},buildRequests:function(j,N){var q,he,ue,me=[],Oe={},se={},ne={},de={};for(q in R.getFeatureToggles(),j.forEach(function(ye){var Ce,Se,De=Object.keys((0,r.A)(ye,"mediaTypes",{}));for(Ce in De)switch(De[Ce]){case I.D4:We=Ue=ke=xe=Me=Ne=Pe=_e=void 0;var _e=ye,Pe=de,Ne=Oe,Me=N;(ke=T(xe=_e,I.D4)).banner={},ke.adunitCode=xe.adUnitCode,(Ue=(0,r.A)(xe,"params.size"))&&(ke.banner.w=Ue[0],ke.banner.h=Ue[1]),ke.banner.topframe=(0,e.al)()?0:1,m(xe,ke,I.D4);var We,Ue=ke,xe=S((0,r.A)(_e,"mediaTypes.banner.sizes"),(0,r.A)(_e,"params.size")),Me=(Ne.hasOwnProperty(_e.adUnitCode)||(Ne[_e.adUnitCode]={}),Ne[_e.adUnitCode].gpid=(0,r.A)(_e,"ortb2Imp.ext.gpid"),Ne[_e.adUnitCode].dfp_ad_unit_code=(0,r.A)(_e,"ortb2Imp.ext.data.adserver.adslot"),Ne[_e.adUnitCode].tid=(0,r.A)(_e,"ortb2Imp.ext.tid"),Ne[_e.adUnitCode].pbadslot=(0,r.A)(_e,"ortb2Imp.ext.data.pbadslot"),Ne[_e.adUnitCode].tagId=(0,r.A)(_e,"params.tagId"),Ne[_e.adUnitCode].pos=(0,r.A)(_e,"mediaTypes.banner.pos"),(0,r.A)(Me,"paapi.enabled")&&(ke=(0,r.A)(_e,"ortb2Imp.ext.ae"),(Me=(0,r.A)(_e,"ortb2Imp.ext.paapi"))&&(Ne[_e.adUnitCode].paapi=Me),ke)&&((0,e.Fq)(ke)?Ne[_e.adUnitCode].ae=ke:(0,e.JE)("error setting auction environment flag - must be an integer")),(Me=(0,r.A)(_e,"ortb2Imp.ext.data"))&&(Ne[_e.adUnitCode].adUnitFPD=Me),!(ke=(0,r.A)(_e,"params.id"))||typeof ke!="string"&&typeof ke!="number"||(Ne[_e.adUnitCode].sid=String(ke)),_e.adUnitCode),ke=document.getElementById(Me)?Me:(0,f.p)(Me).divId;Ne[_e.adUnitCode].adUnitCode=Me,Ne[_e.adUnitCode].divId=ke,xe&&(Ne[_e.adUnitCode].hasOwnProperty("ixImps")||(Ne[_e.adUnitCode].ixImps=[]),Ne[_e.adUnitCode].ixImps.push(Ue)),Me=_e,ke=Ue,(xe=Pe).hasOwnProperty(Me.adUnitCode)?(We=[],z(We=xe[Me.adUnitCode].hasOwnProperty("missingSizes")?xe[Me.adUnitCode].missingSizes:We,Me.params.size),xe[Me.adUnitCode].missingSizes=We):(0,r.A)(Me,"mediaTypes.banner.sizes")&&(z(We=(0,e.Go)(Me.mediaTypes.banner.sizes),Me.params.size),xe[Me.adUnitCode]={missingSizes:We,impression:ke});break;case I.G_:Ne=se,Ue=_e=void 0,Ue=p(Pe=ye),Object.keys(Ue).length!=0&&(Ne[Pe.adUnitCode]={},Ne[Pe.adUnitCode].ixImps=[],Ne[Pe.adUnitCode].ixImps.push(Ue),Ne[Pe.adUnitCode].gpid=(0,r.A)(Pe,"ortb2Imp.ext.gpid"),Ne[Pe.adUnitCode].dfp_ad_unit_code=(0,r.A)(Pe,"ortb2Imp.ext.data.adserver.adslot"),Ne[Pe.adUnitCode].pbadslot=(0,r.A)(Pe,"ortb2Imp.ext.data.pbadslot"),Ne[Pe.adUnitCode].tagId=(0,r.A)(Pe,"params.tagId"),Ue=Pe.adUnitCode,_e=document.getElementById(Ue)?Ue:(0,f.p)(Ue).divId,Ne[Pe.adUnitCode].adUnitCode=Ue,Ne[Pe.adUnitCode].divId=_e);break;case I.s6:xe=ne,ke=We=Me=void 0,We=T(Me=Se=ye,I.s6),(ke=Me.nativeOrtbRequest).eventtrackers=[{event:1,methods:[1,2]}],ke.privacy=1,We.native={request:JSON.stringify(ke),ver:"1.2"},(ke=(0,r.A)(Me,"ortb2Imp.ext.tid"))&&(0,l.J)(We,"ext.tid",ke),J(We,Me),m(Me,We,I.s6),ke=We,Object.keys(ke).length!=0&&(xe[Se.adUnitCode]={},xe[Se.adUnitCode].ixImps=[],xe[Se.adUnitCode].ixImps.push(ke),xe[Se.adUnitCode].gpid=(0,r.A)(Se,"ortb2Imp.ext.gpid"),xe[Se.adUnitCode].dfp_ad_unit_code=(0,r.A)(Se,"ortb2Imp.ext.data.adserver.adslot"),xe[Se.adUnitCode].pbadslot=(0,r.A)(Se,"ortb2Imp.ext.data.pbadslot"),xe[Se.adUnitCode].tagId=(0,r.A)(Se,"params.tagId"),Me=Se.adUnitCode,We=document.getElementById(Me)?Me:(0,f.p)(Me).divId,xe[Se.adUnitCode].adUnitCode=Me,xe[Se.adUnitCode].divId=We);break;default:(0,e.JE)("IX Bid Adapter: ad unit mediaTypes ".concat(Ce," is not supported"))}}),de)if(de.hasOwnProperty(q))for(var ce=de[q].missingSizes,ve=(Oe.hasOwnProperty(q)||(Oe[q]={}),Oe[q].hasOwnProperty("missingImps")||(Oe[q].missingImps=[],Oe[q].missingCount=0),de[q].impression),pe=0;pe<ce.length;pe++){he=j[0],ue=ve,we=ce[pe],(ue=(0,e.Go)(ue)).banner.w=we[0],ue.banner.h=we[1],m(he,ue,I.D4);var we=ue;Oe[q].missingImps.push(we),Oe[q].missingCount++}var te,H=[];return 0<Object.keys(Oe).length&&H.push(Oe),0<Object.keys(se).length&&H.push(se),0<Object.keys(ne).length&&H.push(ne),R.isFeatureEnabled("pbjs_enable_multiformat")?me.push.apply(me,oe(j,N,(te={},H.forEach(function(ye){Object.keys(ye).forEach(function(Ce){Object.keys(te).includes(Ce)?te[Ce].hasOwnProperty("ixImps")&&ye[Ce].hasOwnProperty("ixImps")?te[Ce].ixImps=be(be([],te[Ce].ixImps,!0),ye[Ce].ixImps,!0):te[Ce].hasOwnProperty("missingImps")&&ye[Ce].hasOwnProperty("missingImps")?te[Ce].missingImps=be(be([],te[Ce].missingImps,!0),ye[Ce].missingImps,!0):ye[Ce].hasOwnProperty("ixImps")?te[Ce].ixImps=ye[Ce].ixImps:ye[Ce].hasOwnProperty("missingImps")&&(te[Ce].missingImps=ye[Ce].missingImps):te[Ce]=ye[Ce]})}),te))):(0<Object.keys(Oe).length&&me.push.apply(me,oe(j,N,Oe)),0<Object.keys(se).length&&me.push.apply(me,oe(j,N,se)),0<Object.keys(ne).length&&me.push.apply(me,oe(j,N,ne))),me},interpretResponse:function(j,N){var q=[],he=null,ue=(0,r.A)(j,"body.ext.protectedAudienceAuctionConfigs")||[];if(R.setFeatureToggles(j),!j.hasOwnProperty("body"))return q;for(var me=j.body,Oe=me.seatbid||[],se=0;se<Oe.length;se++)if(Oe[se].hasOwnProperty("bid")){for(var ne=Oe[se].bid,de=N.data,ce=0;ce<ne.length;ce++){var ve=((pe,we,te)=>{if(pe)return F(F({},(0,g.I6)(te,function(H){return H.bidId===pe})),(0,g.I6)(we,function(H){return H.id===pe}))})(ne[ce].impid,de.imp,N.validBidRequests);(he=((pe,we,te)=>{var H={},ye=!(!(0,r.A)(pe,"exp")||!(0,e.Fq)(pe.exp)),Ce=(0,r.A)(pe,"dealid")||(0,r.A)(pe,"ext.dealid"),Ce=(C.hasOwnProperty(we)?H.cpm=pe.price/C[we]:H.cpm=pe.price/100,H.requestId=pe.impid,Ce&&(H.dealId=Ce),H.netRevenue=!0,H.currency=we,H.creativeId=pe.hasOwnProperty("crid")?pe.crid:"-",pe.mtype!=2||(!pe.ext||pe.ext.vasturl)&&pe.ext?pe.ext&&pe.ext.vasturl&&(H.vastUrl=pe.ext.vasturl):H.vastXml=pe.adm,null);if(typeof pe.adm=="string"&&pe.adm[0]==="{"&&pe.adm[pe.adm.length-1]==="}")try{Ce=JSON.parse(pe.adm)}catch(Se){(0,e.JE)("adm looks like JSON but failed to parse: ",Se)}return pe.ext&&pe.ext.vasturl||pe.mtype==2?(H.width=te.video.w,H.height=te.video.h,H.mediaType=I.G_,H.mediaTypes=te.mediaTypes,H.ttl=ye?pe.exp:3600):Ce&&Ce.native?(H.native={ortb:Ce.native},H.width=pe.w||1,H.height=pe.h||1,H.mediaType=I.s6,H.ttl=ye?pe.exp:3600):(H.ad=pe.adm,H.width=pe.w,H.height=pe.h,H.mediaType=I.D4,H.ttl=ye?pe.exp:300),H.meta={},H.meta.networkId=(0,r.A)(pe,"ext.dspid"),H.meta.brandId=(0,r.A)(pe,"ext.advbrandid"),H.meta.brandName=(0,r.A)(pe,"ext.advbrand"),pe.adomain&&0<pe.adomain.length&&(H.meta.advertiserDomains=pe.adomain),(we=pe.ext)!=null&&we.dsa&&(H.meta.dsa=pe.ext.dsa),(te=pe.ext)!=null&&te.ibv&&(H.ext=H.ext||{},H.ext.ibv=pe.ext.ibv),H})(ne[ce],me.cur,ve)).mediaType===I.G_&&ge(ve)&&(ve=(0,r.A)(me,"ext.videoplayerurl"),he.renderer=((pe,we)=>{var te=O.A4.install({id:pe,url:we,loaded:!1});try{te.setRender(re)}catch(H){return(0,e.JE)("Prebid Error calling setRender on renderer",H),null}return we?te:((0,e.JE)("Outstream renderer URL not found"),null)})(ne[ce].bidId,ve),!he.renderer)||q.push(he)}if((0,r.A)(de,"ext.ixdiag.err")&&P.localStorageIsEnabled())try{P.removeDataFromLocalStorage("ixdiag")}catch{(0,e.vV)("ix can not clear ixdiag from localStorage.")}}if(!(Array.isArray(ue)&&0<ue.length))return q;ue=ue.filter(function(pe){return!(typeof pe!="object"||pe===null)||((0,e.JE)("Malformed auction config detected:",pe),!1)});try{return{bids:q,paapi:ue}}catch(pe){return(0,e.JE)("Error attaching AuctionConfigs",pe),q}},getUserSyncs:function(j,N){var q,he,ue,me,Oe=[],se=null;if((se=0<N.length?(0,r.A)(N[0],"body.ext.publishersyncsperbidderoverride"):se)!==void 0&&se==0)return[];if(j.iframeEnabled)Oe.push({type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"});else{var ne=null;(ne=x.$W.getConfig("userSync")?x.$W.getConfig("userSync").syncsPerBidder:ne)===0&&(ne=se);for(var ne=se&&(ne===0||ne)?ne<se?ne:se:1,de=0;de<ne;de++)Oe.push({type:"image",url:(q=ne,he=de,me=ue=void 0,ue="",me="0",Q&&Q.hasOwnProperty("gdprApplies")&&(me=Q.gdprApplies?"1":"0"),Q&&Q.hasOwnProperty("consentString")&&(ue=Q.consentString||""),"https://dsum.casalemedia.com/pbusermatch?origin=prebid"+(K!==0?"&site_id="+K.toString():"")+"&p="+q.toString()+"&i="+he.toString()+"&gdpr="+me+"&gdpr_consent="+ue+"&us_privacy="+(w||""))})}return Oe}};function Z(j){var N=0;return j.banner!==void 0&&(N+=1),j.video!==void 0&&(N+=1),j.native!==void 0&&(N+=1),N}(0,ie.a$)(a),(0,o.E)("ixBidAdapter")}},function(s){s.O(0,[3005,802,2139,1085],function(){return s(s.s=7764)}),s.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[9595],{9765:function(s,$,a){var o,r,e,l=a(7873),I=a(1069),x=a(433),L=a(3272),g=a(7377),ie=a(2938),ee=a(1371),O=Object.freeze({CODE:"kargo",HOST:"krk2.kargo.com",REQUEST_METHOD:"POST",REQUEST_ENDPOINT:"/api/v1/prebid",TIMEOUT_ENDPOINT:"/api/v1/event/timeout",GVLID:972,SUPPORTED_MEDIA_TYPES:[ee.D4,ee.G_]}),f=(0,ie.vM)({bidderCode:O.CODE}),c=Object.freeze({KEY:"currency",US_DOLLAR:"USD"}),_=Object.freeze({USER_DATA:"ortb2.user.data",SOCIAL_CANVAS:"params.socialCanvas",SUA:"ortb2.device.sua",TDID_ADAPTER:"userId.tdid"}),C=Object.freeze({BROWSERS:"browsers",MOBILE:"mobile",MODEL:"model",PLATFORM:"platform",SOURCE:"source"}),h=[C.BROWSERS,C.MOBILE,C.MODEL,C.SOURCE,C.PLATFORM],D=Object.freeze({KEY:"krg_crb",SYNC_URL:"https://crb.kargo.com/api/v1/initsyncrnd/{UUID}?seed={SEED}&gdpr={GDPR}&gdpr_consent={GDPR_CONSENT}&us_privacy={US_PRIVACY}&gpp={GPP_STRING}&gpp_sid={GPP_SID}",SYNC_COUNT:5,PAGE_VIEW_ID:"pageViewId",PAGE_VIEW_TIMESTAMP:"pageViewTimestamp",PAGE_VIEW_URL:"pageViewUrl"});function U(){try{var X=new Uint8Array(16),P=(crypto.getRandomValues(X),X[6]=-177&X[6]|64,X[8]=-65&X[8]|128,Array.prototype.map.call(new Uint8Array(X),function(R){return("00"+R.toString(16)).slice(-2)}).join(""));return P.slice(0,8)+"-"+P.slice(8,12)+"-"+P.slice(12,16)+"-"+P.slice(16,20)+"-"+P.slice(20)}catch{return""}}function k(){return o=o||U()}function M(X){try{return f.getDataFromLocalStorage(X)}catch{return null}}var Y={gvlid:O.GVLID,code:O.CODE,isBidRequestValid:function(X){return!(!X||!X.params||!X.params.placementId)},buildRequests:function(w,P){var R,K=L.$W.getConfig(c.KEY),K=K&&K.adServerCurrency?K.adServerCurrency:null,Q=[],w=((0,I.bu)(w,function(J){Q.push((z=>{var re={id:z.bidId,tid:(re=(re=z.ortb2Imp)==null?void 0:re.ext)==null?void 0:re.tid,pid:z.params.placementId,code:z.adUnitCode};if(0<z.bidRequestsCount&&(re.bidRequestCount=z.bidRequestsCount),0<z.bidderRequestsCount&&(re.bidderRequestCount=z.bidderRequestsCount),0<z.bidderWinsCount&&(re.bidderWinCount=z.bidderWinsCount),(j=(0,x.A)(z,"ortb2Imp.ext.gpid")||(0,x.A)(z,"ortb2Imp.ext.data.pbadslot"))&&(re.fpd={gpid:j}),z.ortb2Imp&&(re.ext={ortb2Imp:z.ortb2Imp}),z.mediaTypes){var ge,j=z.mediaTypes,W=j.banner,Z=j.video,j=j.native;if(W&&(re.banner=W),Z&&(re.video=Z),j&&(re.native=j),typeof z.getFloor=="function"){try{ge=z.getFloor({currency:"USD",mediaType:"*",size:"*"})}catch(N){(0,I.vV)("Kargo: getFloor threw an error: ",N)}re.floor=(0,I.Qd)(ge)&&ge.currency==="USD"&&!isNaN(parseInt(ge.floor))?ge.floor:void 0}}return re})(J))}),w[0]),oe=(0,x.A)(w,_.TDID_ADAPTER),u={pageURL:(u=(u=P)==null?void 0:u.refererInfo)==null?void 0:u.page,rawCRB:f.getCookie(D.KEY),rawCRBLocalStorage:M(D.KEY)},p=Object.assign({},{pbv:"9.37.0",aid:w.auctionId,sid:k(),url:u.pageURL,timeout:P.timeout,ts:new Date().getTime(),device:{size:[window.screen.width,window.screen.height]},imp:Q,user:(oe=oe,m=P.uspConsent,S=P.gdprConsent,p=w.userIdAsEids,B=P.gppConsent,A=Y._getCrb(),T={crbIDs:A.syncIds||{}},!oe&&A.tdID?T.tdID=A.tdID:oe&&(T.tdID=oe),m&&(T.usp=m),S&&(T.gdpr={consent:S.consentString||"",applies:!!S.gdprApplies}),A.lexId!=null&&(T.kargoID=A.lexId),A.clientId!=null&&(T.clientID=A.clientId),A.optOut!=null&&(T.optOut=A.optOut),p!=null&&(T.sharedIDEids=p),B&&(oe={},B.consentString&&(oe.gppString=B.consentString),B.applicableSections&&(oe.applicableSections=B.applicableSections),(0,I.Im)(oe)||(T.gpp=oe)),T),ext:(m=w.ortb2,S=P==null?void 0:P.refererInfo,A={},m&&(A.ortb2=m),S&&(A.refererInfo=S),A)}),T=(((oe=(B=w.ortb2)==null?void 0:B.site)==null?void 0:oe.cat)!=null&&(p.site={cat:w.ortb2.site.cat}),w.schain&&w.schain.nodes&&(p.schain=w.schain),p.user.data=(0,x.A)(w,_.USER_DATA)||[],r===window.location.pathname?++e:(r=window.location.pathname,e=0)),m=(T!=null&&(p.requestCount=T),K!=null&&K!=c.US_DOLLAR&&(p.cur=K),u.rawCRB!=null&&(p.rawCRB=u.rawCRB),u.rawCRBLocalStorage!=null&&(p.rawCRBLocalStorage=u.rawCRBLocalStorage),(0,x.A)(w,_.SOCIAL_CANVAS)),E=(m!=null&&(p.socan=m),(0,x.A)(w,_.SUA)),S=(E&&(R=[],h.forEach(function(J){var z=E[J];if(z&&(typeof z!="string"||z.trim()!==""))switch(J){case(C.MOBILE&&z<1):case(C.SOURCE&&z<1):break;default:R.push(J)}}),p.device.sua=(0,I.Up)(E,R)),M(D.PAGE_VIEW_ID)!=null),A=M(D.PAGE_VIEW_TIMESTAMP)!=null,B=M(D.PAGE_VIEW_URL)!=null,oe={};return S&&(oe.id=M(D.PAGE_VIEW_ID)),A&&(oe.timestamp=Number(M(D.PAGE_VIEW_TIMESTAMP))),B&&(oe.url=M(D.PAGE_VIEW_URL)),(0,I.Im)(oe)||(p.page=oe),p.ext&&Object.keys(p.ext).length===0&&delete p.ext,Object.assign({},P,{method:O.REQUEST_METHOD,url:"https://".concat(O.HOST).concat(O.REQUEST_ENDPOINT),data:p,currency:K})},interpretResponse:function(R,P){var R=R.body,K=[],Q=[];if((0,I.Im)(R)||typeof R!="object")return Q;for(var w=0,u=Object.entries(R);w<u.length;w++){var T=u[w],p=T[0],T=T[1],m={mediaType:T.mediaType&&O.SUPPORTED_MEDIA_TYPES.includes(T.mediaType)?T.mediaType:ee.D4},E=((E=T.metadata)!=null&&E.landingPageDomain&&(m.clickUrl=T.metadata.landingPageDomain[0],m.advertiserDomains=T.metadata.landingPageDomain),{requestId:p,cpm:Number(T.cpm),width:T.width,height:T.height,ttl:300,creativeId:T.creativeID,dealId:T.targetingCustom,netRevenue:!0,currency:T.currency||P.currency,mediaType:m.mediaType,meta:m});m.mediaType==ee.G_?T.admUrl?E.vastUrl=T.admUrl:E.vastXml=T.adm:E.ad=T.adm,Q.push(E),T.auctionConfig&&K.push({bidId:p,config:T.auctionConfig})}return 0<K.length?{bids:Q,paapi:K}:Q},getUserSyncs:function(X,P,m,K,S){var w=[],u=U(),p=Y._getCrb().clientId,T=m&&m.gdprApplies?1:0,m=m&&m.consentString?m.consentString:"",E=S&&S.consentString?S.consentString:"",S=S&&S.applicableSections&&Array.isArray(S.applicableSections)?S.applicableSections.join(","):"";return typeof K=="string"&&K.length==4&&K[0]==1&&K[2]=="Y"||X.iframeEnabled&&u&&p&&w.push({type:"iframe",url:D.SYNC_URL.replace("{UUID}",p).replace("{SEED}",u).replace("{GDPR}",T).replace("{GDPR_CONSENT}",m).replace("{US_PRIVACY}",K||"").replace("{GPP_STRING}",E).replace("{GPP_SID}",S)}),w},supportedMediaTypes:O.SUPPORTED_MEDIA_TYPES,onTimeout:function(X){X!=null&&X.forEach(function(P){var R=P.auctionId;R=(0,I.c$)({protocol:"https",hostname:O.HOST,pathname:O.TIMEOUT_ENDPOINT,search:{aid:R,ato:P.timeout}}),fetch(R,{method:"GET",keepalive:!0}).catch(function(K){(0,I.vV)("Kargo: sendTimeoutData/fetch threw an error: ",K)})})},_getCrb:function(){var X=(()=>{try{return JSON.parse(atob(M(D.KEY)))}catch{return{}}})();if(Object.keys(X).length)return X;try{var P=JSON.parse(f.getCookie(D.KEY));if(P&&P.v){var R=JSON.parse(atob(P.v));if(R)return R}return{}}catch{return{}}},_getSessionId:k};(0,g.a$)(Y),(0,l.E)("kargoBidAdapter")}},function(s){s.O(0,[802,2139,1085],function(){return s(s.s=9765)}),s.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[9600],{4582:function(s,$,Y){var o,r=Y(7873),e=Y(1069),l=Y(433),I=Y(3172),x=Y(7377),L=Y(3272),g=Y(1371),ie=Y(7934),ee=Y(5789),O=Y(2449),f=Y(1252),c=Y(8044),_=Y(8944),C=Y(4278),h="medianet",D="trustedstack",U=0,k=1,M=2,Y=(window.mnet=window.mnet||{},window.mnet.queue=window.mnet.queue||[],[{code:D,gvlid:1288}]);function X(J,oe){var B,oe=oe.refererInfo,J={domain:(J=J||{}).domain||oe.domain,page:J.page||oe.page,ref:J.ref||(()=>{try{return window.top.document.referrer}catch{return document.referrer}})(),topMostLocation:oe.topmostLocation,isTop:J.isTop||oe.reachedTop};return Object.assign(J,(o||(oe=P('link[rel="canonical"]',"href"),J=P('meta[property="og:url"]',"content"),B=P('meta[name="twitter:url"]',"content"),o=Object.assign({},oe&&{canonical_url:oe},J&&{og_url:J},B&&{twitter_url:B})),o))}function P(B,A){var B=((oe,J)=>{try{var z=(0,e.mb)().document.querySelector(oe);if(z!==null&&z[J])return z[J]}catch{}})(B,A);return B&&(A=B,(B=(0,e.mb)().document.createElement("a")).href=A,B.href)}function R(S,A){return S.filter(function(B){return B.type===A})}function K(S){return{w:parseInt(S[0],10),h:parseInt(S[1],10)}}function Q(S,A,B,oe){S=S.getFloor({currency:"USD",mediaType:A,size:B})||{},1<B.length&&(S.size=B),S.mediaType=A,oe.push(S)}function w(S){return S.reduce(function(A,B){return B.h*B.w<A.h*A.w?B:A})}function u(S,z){var B,oe=z.w*z.h,J=E.getWindowSize(),z={x:S.x+z.w,y:S.y+z.h};return oe==0||J.w===-1||J.h===-1?0:(S=S,z=z,B={x:0,y:0},J={x:J.w,y:J.h},(S.x>J.x||z.x<B.x||S.y>J.y||z.y<B.y?0:(Math.min(z.x,J.x)-Math.max(S.x,B.x))*(Math.min(z.y,J.y)-Math.max(S.y,B.y)))/oe)}function p(S,A){var B,oe={};return(A=(0,e.cy)(A)?A:[]).forEach(function(J){(z={}).acid=(J=J).auctionId||"",z.crid=(0,l.A)(J,"params.crid")||(0,l.A)(J,"params.0.crid")||J.adUnitCode||"",z.ext=(0,e.wV)(J.ext)||"",delete(J=(0,e.Go)(J)).ad,delete J.vastXml,z.rawobj=(0,e.wV)(J);var z,re=z;Object.keys(re).forEach(function(ge){oe[ge]=oe[ge]||[],oe[ge].push(encodeURIComponent(re[ge]))})}),Object.assign({},(A=S,S={},B=(0,ie.EN)(),S.logid="kfk",S.evtid="projectevents",S.project="prebid",S.pbver="9.37.0",S.cid=(0,r.m)().medianetGlobals.cid||"",S.dn=encodeURIComponent(B.domain||""),S.requrl=encodeURIComponent(B.page||""),S.event=A.name||"",S.value=A.value||"",S.rd=A.related_data||"",S),oe)}function T(S,A){S=p(S,A),A=(0,e.eP)(S),(0,c.RD)("https://navvy.media.net/log",{success:function(){},error:function(){}},A,{method:"POST",keepalive:!0})}function m(S){var A=(0,l.A)(S,"context")||"",B=(0,l.A)(S,"vto");A=="outstream"&&B&&(S.renderer=((A=ee.A4.install({url:"https://prebid.media.net/video/bundle.js"})).setRender(function(oe){window.mnet.queue.push(function(){var J={width:oe.width,height:oe.height,vastTimeout:oe.vto,maxAllowedVastTagRedirects:oe.mavtr,allowVpaid:oe.avp,autoPlay:oe.ap,preload:oe.pl,mute:oe.mt},z=oe.dfp_id,z=(0,f.p)(z).divId||z;window.mnet.mediaNetoutstreamPlayer(oe,z,J)})}),A))}(0,r.m)().medianetGlobals=(0,r.m)().medianetGlobals||{};var E={code:h,gvlid:142,aliases:Y,supportedMediaTypes:[g.D4,g.s6,g.G_],isBidRequestValid:function(S){return S.params?S.params.cid&&(0,e.O8)(S.params.cid)&&!(0,e.xQ)(S.params.cid)?(Object.assign((0,r.m)().medianetGlobals,!(0,r.m)().medianetGlobals.cid&&{cid:S.params.cid}),!0):((0,e.vV)("".concat(h," : cid should be a string")),!1):((0,e.vV)("".concat(h," : Missing bid parameters")),!1)},buildRequests:function(S,A){S=S=(0,O.Xj)(S),B=A;var B,oe,J,z,re,ge,W,Z,j,N,q,he,ue,me={site:X(S[0].params.site,B),ext:(oe=S[0],ue=B,J=(0,l.A)(oe,"params"),me=(0,l.A)(ue,"gdprConsent"),ue=(0,l.A)(ue,"uspConsent"),z=(0,l.A)(oe,"userId"),oe=(0,l.A)(oe,"schain")||{},re=E.getWindowSize(),ge=!(!me||!me.gdprApplies),he=!!ue,W=!!L.$W.getConfig("coppa"),Z=(0,_.g)(),j=(j=Z.top)===void 0?-1:j,N=(N=Z.right)===void 0?-1:N,q=(q=Z.bottom)===void 0?-1:q,Z=(Z=Z.left)===void 0?-1:Z,Object.assign({},{customer_id:J.cid},{prebid_version:"v9.37.0"},{gdpr_applies:ge},ge&&{gdpr_consent_string:me.consentString||""},{usp_applies:he},he&&{usp_consent_string:ue||""},{coppa_applies:W},re.w!==-1&&re.h!==-1&&{screen:re},z&&{user_id:z},(0,r.m)().medianetGlobals.analyticsEnabled&&{analytics:!0},!(0,e.Im)(oe)&&{schain:oe},{vcoords:{top_left:{x:Z,y:j},bottom_right:{x:N,y:q}}})),id:S[0].auctionId,imp:S.map(function(ce){var se,ne,de=ce,ce=B,ve={id:de.bidId,transactionId:(ve=(ve=de.ortb2Imp)==null?void 0:ve.ext)==null?void 0:ve.tid,ext:{dfp_id:de.adUnitCode,display_count:de.auctionsCount},all:de.params},pe=(de.ortb2Imp&&(ve.ortb2Imp=de.ortb2Imp),(0,l.A)(de,"mediaTypes.banner.sizes")||[]),we=(0,l.A)(de,"mediaTypes.video")||{},te=(0,l.A)(de,"params.video")||{},te=Object.assign({},te,we);if((0,e.Im)(te)||(ve.video=te),0<pe.length&&(ve.banner=(0,e.cy)(we=pe)&&we.length===2&&!(0,e.cy)(we[0])?[K(we)]:we.map(K)),de.nativeParams)try{ve.native=JSON.stringify(de.nativeParams)}catch{(0,e.vV)("".concat(h," : Incorrect JSON : bidRequest.nativeParams"))}return de.params.crid&&(ve.tagid=de.params.crid.toString()),(te=parseFloat(de.params.bidfloor||de.params.bidFloor))&&(ve.bidfloor=te),pe=de.adUnitCode,(we=document.getElementById(pe))||pe.indexOf("/")===-1||(pe=(0,f.p)(pe).divId,(0,e.O8)(pe)&&(we=document.getElementById(pe))),(te=we?(pe=(0,C.G)(we),(we={}).top_left={y:pe.top,x:pe.left},we.bottom_right={y:pe.bottom,x:pe.right},we):null)&&ve.banner&&ve.banner.length!==0?(pe=window.scrollX,we=window.scrollY,pe={top_left:{x:te.top_left.x+pe,y:te.top_left.y+we},bottom_right:{x:te.bottom_right.x+pe,y:te.bottom_right.y+we}},ve.ext.coordinates=pe,ve.ext.viewability=u(te.top_left,w(ve.banner)),.5<u(pe.top_left,w(ve.banner))?ve.ext.visibility=k:ve.ext.visibility=M):ve.ext.visibility=U,ne=[],typeof(se=de).getFloor=="function"&&[g.D4,g.G_,g.s6].forEach(function(H){se.mediaTypes.hasOwnProperty(H)&&(H==g.D4?se.mediaTypes.banner.sizes.forEach(function(ye){Q(se,H,ye,ne)}):Q(se,H,"*",ne))}),0<(we=ne).length&&(ve.bidfloors=we),(te=ce.paapi)!=null&&te.enabled&&(ve.ext.ae=(we=(pe=de==null?void 0:de.ortb2Imp)==null?void 0:pe.ext)==null?void 0:we.ae),ve}),ortb2:(J=B.ortb2,ge=S,J=(0,e.Go)(J),(ge=(0,l.A)(ge,"0.userIdAsEids"))&&(0,I.J)(J,"user.ext.eids",ge),J),tmax:B.timeout};return{method:"POST",url:(he=A.bidderCode,ue=me.ext.customer_id,(he===D?"https://prebid.trustedstack.com/rtb/trustedstack":"https://prebid.media.net/rtb/prebid")+"?cid="+encodeURIComponent(ue)),data:JSON.stringify(me)}},interpretResponse:function(S,A){var B,oe=[];return S&&S.body?(B=S.body.bidList,(0,e.cy)(B)&&B.length!==0?(oe=B.filter(function(J){return J.no_bid===!1&&0<parseFloat(J.cpm)})).forEach(m):(0,e.fH)("".concat(h," : no bids")),B=(0,l.A)(S,"body.ext.paApiAuctionConfigs")||[],S=(0,l.A)(S,"body.ext.igi")||[],B.length===0&&S.length===0?oe:(0<S.length&&B.push.apply(B,S.map(function(J){return J.igs||[]}).flat()),{bids:oe,paapi:B})):((0,e.fH)("".concat(h," : response is empty")),oe)},getUserSyncs:function(S,A){return A=!(0,e.Im)(A=A)&&A[0].body&&A[0].body.ext&&(0,e.cy)(A[0].body.ext.csUrl)?A[0].body.ext.csUrl:[],S.iframeEnabled?R(A,"iframe"):S.pixelEnabled?R(A,"image"):void 0},onTimeout:function(S){try{T({name:"client_timeout",value:S.length,related_data:S[0].timeout||L.$W.getConfig("bidderTimeout")},S)}catch{}},onBidWon:function(S){try{T({name:"client_bid_won",value:S.cpm},[S])}catch{}},onSetTargeting:function(S){try{var A={name:"client_set_targeting",value:S.cpm};L.$W.getConfig("enableSendAllBids")||T(A,[S])}catch{}},onBidderError:function(S){var A=S.error,B=S.bidderRequest;try{T({name:"client_bidder_error",related_data:"timedOut:".concat(A.timedOut,"|status:").concat(A.status,"|message:").concat(A.reason.message)},B.bids)}catch{}},clearPageMeta:function(){o=void 0},getWindowSize:function(){return{w:window.screen.width||-1,h:window.screen.height||-1}}};(0,x.a$)(E),(0,r.E)("medianetBidAdapter")}},function(s){s.O(0,[3005,2316,7769,802,2139,1085],function(){return s(s.s=4582)}),s.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[8909],{6571:function(s,$,l){var o=l(7873),r=l(1069),e=l(7377),l=F(F({},(0,l(6901).B2)("https://hb.openwebmp.com/",{PRODUCTION:"hb-multi",TEST:"hb-multi-test"})),{code:"openweb",gvlid:280,isBidRequestValid:function(I){return I.params?I.params.org?!!I.params.placementId||((0,r.JE)("placementId is a mandatory param for OpenWeb adapter"),!1):((0,r.JE)("org is a mandatory param for OpenWeb adapter"),!1):((0,r.JE)("no params have been set to OpenWeb adapter"),!1)}});(0,e.a$)(l),(0,o.E)("openwebBidAdapter")}},function(s){s.O(0,[2183,802,2139,1085],function(){return s(s.s=6571)}),s.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[362],{3294:function(s,$,a){var o=a(7873),r=a(3272),e=a(9214),l=a(1069),I=a(3172),x=a(433),L=a(1e3),g=a(5023),ie=a(8969),ee=a(6743),O=a(2713),f=a(7194),c=a(7377),_=a(5555),C=a(7314),h="PAAPI",D=[],U=new WeakSet,k=((0,e.xG)("paapi",function(de){D.push(de),de.init&&de.init({getPAAPIConfig:re,expandFilters:z})}),(0,f.$)()),M=(0,f.$)(),Y=(0,f.$)(),X=(0,f.$)(),P={},R={};function K(de,ce,ve,pe,we){var te,H;(te=pe.paapi)!=null&&te.enabled&&(H=we,we=function(De,_e,Pe,Ne){var We;return(Ne=Ne!=null?Ne:{}).adAuctionHeaders=(We=Ne.adAuctionHeaders)==null||We,H.call(this,De,_e,Pe,Ne)});for(var ye=arguments.length,Ce=new Array(5<ye?ye-5:0),Se=5;Se<ye;Se++)Ce[Se-5]=arguments[Se];return de.call.apply(de,be([this,ce,ve,pe,we],Ce,!1))}function Q(ve){var ce={},ve=j(0<arguments.length&&ve!==void 0?ve:{});return ve&&(ce.requestedSize=ve),ce}function w(de,ce,H,pe){var we=1<arguments.length&&ce!==void 0?ce:oe,te=2<arguments.length&&H!==void 0?H:(ce=R==null?void 0:R.componentSeller)!=null?ce:{},H=3<arguments.length&&pe!==void 0?pe:{compact:function(ye){return ye.map(function(Ce){return Ce[1]}).reduce(function(Ce,Se){var De;return B(Se)&&((De=Ce.find(function(_e){return!_e.hasOwnProperty(Se.origin)||(0,l.bD)(_e[Se.origin],Se)}))||Ce.push(De={}),De[Se.origin]=Se),Ce},[]).map(function(Ce){return Object.values(Ce)}).map(function(Ce){return[{},Ce]})},expand:J};return te.auctionConfig?(0,H[te.separateAuctions?"expand":"compact"])(de).map(function(Se){var Ce=Se[0],Se=(0,l.D9)(we(Se[1]),te.auctionConfig);return Se.auctionSignals=T(Se.auctionSignals||{},Ce),[Ce,Se]}):((0,l.JE)(h,"Cannot use IG buyers: paapi.componentSeller.auctionConfig not set",de.map(function(ye){return ye[1]})),[])}function u(ye){var ce=ye.auctionId,ve=ye.bidsReceived,Ce=ye.bidderRequests,Se=ye.adUnitCodes,ye=ye.adUnits,pe=Object.fromEntries((ye==null?void 0:ye.map(function(Ne){return[Ne.code,Ne]}))||[]),we=Ce==null?void 0:Ce.flatMap(function(Ne){return Ne.bids}),te=k(ce),H=((Se||[]).forEach(function(Ne){te.hasOwnProperty(Ne)||(te[Ne]=null),P.hasOwnProperty(Ne)||(P[Ne]=null)}),M(ce)),ye=Y(ce),Ce=(H&&ye&&Object.entries(ye).forEach(function(Ne){var We=Ne[0];w(Ne[1]).forEach(function(Me){var xe=Me[0].bidder,Me=Me[1];return p(H,We,{id:E(xe),config:Me})})}),X(ce)),Se=Array.from(new Set(Object.keys(H).concat(Object.keys(Ce)))),De=Object.fromEntries(Se.map(function(Ne){P[Ne]=ce;function We(Ue){return Ue.adUnitCode===Ne}return[Ne,F(F({},Q(pe[Ne])),function(ke,Qe){var Me,ke=0<arguments.length&&ke!==void 0?ke:[],Qe=1<arguments.length&&Qe!==void 0?Qe:[],Qe=(ke=0<ke.length?(Me=(ke=ke.reduce((0,O.Ph)((0,ee.x4)(function(He){return[He.cpm,He.currency]})))).cpm,ke.currency):(Me=(Qe=(ke=Qe.map(function(He){return typeof He.getFloor=="function"&&He.getFloor()}).filter(function(He){return He})).length&&ke.reduce((0,O.Bp)((0,ee.x4)(function(He){return[He.floor,He.currency]}))))==null?void 0:Qe.floor,Qe==null?void 0:Qe.currency),{});return Me&&((0,I.J)(Qe,"auctionSignals.prebid.bidfloor",Me),ke)&&(0,I.J)(Qe,"auctionSignals.prebid.bidfloorcur",ke),Qe}(ve==null?void 0:ve.filter(We),we==null?void 0:we.filter(We)))]})),_e={};function Pe(Ne,We){Object.entries(We).forEach(function(Me){var ke=Me[0],Me=Me[1],xe=Me.resolve,Me=Me.default,ke=Ne.hasOwnProperty(ke)?Ne[ke]:null;xe(ke==null&&Me==null?void 0:typeof Me=="object"&&typeof ke=="object"?(0,l.D9)({},Me,ke):ke!=null?ke:Me)})}Object.entries(H||{}).forEach(function(Ne){var We=Ne[0];Ne[1].forEach(function(Ue){var xe=Ue.id;return p(_e,xe,{adUnitCode:We,config:(0,l.D9)({},De[We],Ue.config)})})}),Object.entries(Ce).forEach(function(xe){var We=xe[0],xe=xe[1],Ue=xe.top,xe=xe.components;Pe(De[We],Ue),Object.entries(xe).forEach(function(Qe){var ke=Qe[0],Qe=Qe[1].deferrals,He=_e.hasOwnProperty(ke)?_e[ke]:[];1<He.length&&(0,l.JE)("Received multiple PAAPI configs for the same bidder and seller (".concat(ke,"), active PAAPI auctions will only see the first")),Pe(((ke=He.shift())!=null?ke:{config:F({},De[We])}).config,Qe)})}),ye=Object.values(_e).flatMap(function(Ne){return Ne}),Se=0<Object.keys(Ce).length,R.parallel&&Se&&0<ye.length&&(0,l.vV)("Received PAAPI configs after PAAPI auctions were already started in parallel with their contextual auction",ye),ye.forEach(function(Ue){var We=Ue.adUnitCode,Ue=Ue.config;te[We]==null&&(te[We]=F(F({},De[We]),{componentAuctions:[]})),te[We].componentAuctions.push((0,l.D9)({},De[We],Ue))}),R.parallel&&Se||D.forEach(function(Ne){var We;return(We=Ne.onAuctionConfig)==null?void 0:We.call(Ne,ce,te)})}function p(de,ce,ve){de.hasOwnProperty(ce)||(de[ce]=[]),de[ce].push(ve)}function T(de,pe){var ve=pe.ortb2,pe=pe.ortb2Imp;return ve!=null&&(0,I.J)(de,"prebid.ortb2",(0,l.D9)({},ve,(ve=de.prebid)==null?void 0:ve.ortb2)),pe!=null&&(0,I.J)(de,"prebid.ortb2Imp",(0,l.D9)({},pe,(ve=de.prebid)==null?void 0:ve.ortb2Imp)),de}function m(de,ce){return"".concat(de,"::").concat(ce)}function E(de){return R.componentSeller.separateAuctions?"igb::".concat(de):"igb"}function S(de,ce,ve){var pe,we,te,H,ye,Ce,Se;function De(_e,Pe){_e=_e(te),_e!=null?p(_e,we,Pe):(0,l.JE)(h,"Received PAAPI config for auction that has closed (auction '".concat(te,"', adUnit '").concat(we,"')"),Pe)}W(r.$W.getCurrentBidder()).enabled&&(we=ce.adUnitCode,te=ce.auctionId,H=ce.bidder,ye=ve.config,Ce=ve.igb,ye&&(ye.auctionSignals=T(ye.auctionSignals||{},ce),Se=ye.perBuyerSignals=(pe=ye.perBuyerSignals)!=null?pe:{},(ye.interestGroupBuyers||[]).forEach(function(_e){Se[_e]=T((_e=Se[_e])!=null?_e:{},ce)}),De(M,{id:m(H,ye.seller),config:ye})),Ce)&&B(Ce)&&(Ce.pbs=T(Ce.pbs||{},ce),De(Y,[ce,Ce])),de(ce,ve)}r.$W.getConfig("paapi",function(de){(de=de.paapi)&&de.enabled===!0?(R.enabled||((0,e.Yn)("addPaapiConfig").before(S),(0,e.Yn)("makeBidRequests").before(N),(0,e.Yn)("makeBidRequests").after(q),(0,e.Yn)("processBidderRequests").before(Oe),(0,e.Yn)("processBidderRequests").before(K),g.on(ie.qY.AUCTION_INIT,se),g.on(ie.qY.AUCTION_END,u)),R=de,(0,l.fH)("".concat(h," enabled (browser ").concat(ge()?"supports":"does NOT support"," runAdAuction)"),de)):(R.enabled&&((0,e.Yn)("addPaapiConfig").getHooks({hook:S}).remove(),(0,e.Yn)("makeBidRequests").getHooks({hook:N}).remove(),(0,e.Yn)("makeBidRequests").getHooks({hook:q}).remove(),(0,e.Yn)("processBidderRequests").getHooks({hook:Oe}).remove(),(0,e.Yn)("processBidderRequests").getHooks({hook:K}).remove(),g.AU(ie.qY.AUCTION_INIT,se),g.AU(ie.qY.AUCTION_END,u)),R={},(0,l.fH)("".concat(h," disabled"),de))});var A={cur:"perBuyerCurrencies",pbs:"perBuyerSignals",ps:"perBuyerPrioritySignals",maxbid:"auctionSignals.prebid.perBuyerMaxbid"};function B(de){if(de.origin)return 1;(0,l.JE)("PAAPI buyer does not specify origin and will be ignored",de)}function oe(de){var ce=new Set;return Object.assign(de.reduce(function(ve,pe){return B(pe)&&(ce.has(pe.origin)?(0,l.JE)(h,"Duplicate buyer: ".concat(pe.origin,". All but the first will be ignored"),de):(ce.add(pe.origin),Object.entries(A).forEach(function(ye){var te,H=ye[0],ye=ye[1];pe[H]!=null&&((te=(0,x.A)(ve,ye)||{})[pe.origin]=pe[H],(0,I.J)(ve,ye,te))}))),ve},{}),{interestGroupBuyers:Array.from(ce.keys())})}function J(de){var ce={},ve={};return de.forEach(function(te){var we=te[0],te=te[1];ce.hasOwnProperty(we.bidder)||(ce[we.bidder]=we),p(ve,we.bidder,te)}),Object.entries(ve).map(function(pe){var we=pe[0];return[ce[we],pe[1]]})}function z(){var ce=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},de=ce.auctionId,ce=ce.adUnitCode,ve=[];return ce==null?ve=Object.keys(P):P.hasOwnProperty(ce)&&(ve=[ce]),Object.fromEntries(ve.map(function(pe){return[pe,de!=null?de:P[pe]]}))}function re(){var de=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},ce=1<arguments.length&&arguments[1]!==void 0&&arguments[1],ve={};return Object.entries(z(de)).forEach(function(te){var we=te[0],te=te[1],H=k(te);H!=null&&H.hasOwnProperty(we)?(H=H[we])&&!U.has(H)?(ve[we]=H,U.add(H)):ce&&(ve[we]=null):te==null&&ce&&(ve[we]=null)}),ve}function ge(){return"runAdAuction"in navigator&&"joinAdInterestGroup"in navigator}function W(de){var ce=R.enabled&&(de==null||!((ce=R.bidders)!=null&&ce.length)||((ce=R.bidders)==null?void 0:ce.includes(de)));return{enabled:ce,ae:ce?R.defaultForSlots:void 0}}(0,o.m)().getPAAPIConfig=function(de){return re(de)};var Z=(0,e.A_)("sync",function(de){if((de=de==null?void 0:de.filter(function(ce){var ve=ce[0];return!(ve===ce[1]&&ve<=5)}))!=null&&de.length)return de.reduce((0,O.Ph)((0,O.NV)(function(ce){return ce[0]*ce[1]})))},"getPAAPISize");function j(de){var ce;return((ce=(ce=(ce=de.ortb2Imp)==null?void 0:ce.ext)==null?void 0:ce.paapi)==null?void 0:ce.requestedSize)||(()=>{var ve=Z((0,l.y$)((ve=(ve=de.mediaTypes)==null?void 0:ve.banner)==null?void 0:ve.sizes));if(ve)return{width:ve[0],height:ve[1]}})()}function N(de,ce){ge()&&R.enabled&&ce.forEach(function(te){var H=((H=(H=te.ortb2Imp)==null?void 0:H.ext)==null?void 0:H.igs)!=null?te.ortb2Imp.ext.igs.ae||1:null,ye=(ye=(ye=te.ortb2Imp)==null?void 0:ye.ext)==null?void 0:ye.ae,ye=(H!==ye&&H!=null&&ye!=null&&(0,l.JE)(h,"Ad unit defines conflicting ortb2Imp.ext.ae and ortb2Imp.ext.igs, using the latter",te),(H=H!==null?H:ye)!=null?H:R.defaultForSlots);ye&&((0,I.J)(te,"ortb2Imp.ext.ae",ye),te.ortb2Imp.ext.igs=Object.assign({ae:ye,biddable:1},te.ortb2Imp.ext.igs),(H=j(te))&&(0,I.J)(te,"ortb2Imp.ext.paapi.requestedSize",H),te.bids.forEach(function(Ce){W(Ce.bidder).enabled||((0,I.J)(Ce,"ortb2Imp.ext.ae",0),Ce.ortb2Imp.ext.igs={ae:0,biddable:0})}))});for(var ve=arguments.length,pe=new Array(2<ve?ve-2:0),we=2;we<ve;we++)pe[we-2]=arguments[we];de.apply(void 0,be([ce],pe,!1))}function q(de,ce){ge()&&ce.forEach(function(ve){var pe=W(ve.bidderCode).enabled;Object.assign(ve,{paapi:{enabled:pe,componentSeller:!((ve=R.componentSeller)==null||!ve.auctionConfig)}})}),de(ce)}var he,ue=["auctionSignals","sellerSignals","perBuyerSignals","perBuyerTimeouts","directFromSellerSignals","perBuyerCurrencies","perBuyerCumulativeTimeouts"],me=(he=[{props:["seller"],validate:function(de){return typeof de=="string"}},{props:["interestGroupBuyers"],validate:function(de){return Array.isArray(de)&&0<de.length}},{props:["decisionLogicURL","decisionLogicUrl"],validate:function(de){return typeof de=="string"}}],function(de){var ce=he.find(function(ve){var pe=ve.props,we=ve.validate;return pe.every(function(te){return!de.hasOwnProperty(te)||!de[te]||!we(de[te])})});return!ce||((0,l.vV)('Partial PAAPI config has missing or invalid property "'.concat(ce.props[0],'"'),de),!1)});function Oe(de,ce,ve,pe){function we(xe){var Me=0<arguments.length&&xe!==void 0?xe:{},ke={};return[Object.fromEntries(ue.map(function(Qe){var He=(0,_.v6)({promiseFactory:function(et){return new Promise(et)}});return He.default=Me.hasOwnProperty(Qe)?Me[Qe]:null,ke[Qe]=He.promise,[Qe,He]})),ke]}var te,H,ye,Ce=pe.auctionId,Se=pe.paapi,Se=Se===void 0?{}:Se,De=Se.enabled,_e=Se.componentSeller,Pe=k(Ce);ve.map(function(xe){return xe.adUnitCode}).forEach(function(xe){P[xe]=Ce,Pe.hasOwnProperty(xe)||(Pe[xe]=null)}),De&&ce.buildPAAPIConfigs&&(Se=(0,c.JS)(pe),te=(0,c.eI)(pe),Se.measureTime("buildPAAPIConfigs",function(){try{H=ce.buildPAAPIConfigs(ve.map(te.bidRequest),te.bidderRequest(pe))}catch(xe){(0,l.vV)('Error invoking "buildPAAPIConfigs":',xe)}}),ye=Object.fromEntries(ve.map(function(xe){return[xe.bidId,xe]})),(H!=null?H:[]).forEach(function($e){var Me,ke,Qe,He,et,st,lt,it,dt,Be=$e.bidId,Ge=$e.config,$e=$e.igb,Je=ye.hasOwnProperty(Be)&&ye[Be];Je?(Me=Je.adUnitCode,P[Me]=Ce,ke=X(Ce),it=function(){var Ke,qe;return ke.hasOwnProperty(Me)||(Ke=(qe=we())[0],qe=qe[1],Pe[Me]=F(F(F({},Q(C.n.index.getAdUnit(Je))),qe),{componentAuctions:[]}),ke[Me]={top:Ke,components:{},auctionConfig:Pe[Me]}),ke[Me]},Ge&&me(Ge)&&(He=m(Je.bidder,Ge.seller),(Qe=it()).components.hasOwnProperty(He)?(0,l.JE)("Received multiple PAAPI configs for the same bidder and seller; config will be ignored",{config:Ge,bidder:Je.bidder}):(dt=(et=we(Ge))[0],et=et[1],et=F(F(F({},Q(Je)),Ge),et),Qe.auctionConfig.componentAuctions.push(et),Qe.components[He]={auctionConfig:et,deferrals:dt})),_e&&$e&&B($e)&&(Qe=E(ce.code),He=it(),et=w([[Je,$e]])[0][1],He.components.hasOwnProperty(Qe)?(it=(dt=He.components[Qe]).auctionConfig,st=dt.deferrals,it.interestGroupBuyers.includes($e.origin)?(0,l.JE)("Received the same PAAPI buyer multiple times for the same PAAPI auction. Consider setting paapi.componentSeller.separateAuctions: true",$e):(lt={},Object.entries(et).forEach(function(ze){var qe=ze[0],ze=ze[1];st.hasOwnProperty(qe)?(0,l.D9)(st[qe],{default:ze}):lt[qe]=ze}),(0,l.D9)(it,lt))):($e=(dt=we(et))[0],it=dt[1],dt=F(F(F({},et),Q(Je)),it),He.components[Qe]={auctionConfig:dt,deferrals:$e},He.auctionConfig.componentAuctions.push(dt)))):(0,l.vV)("Received partial PAAPI config for unknown bidId",{bidId:Be,config:Ge})}));for(var Ne=arguments.length,We=new Array(4<Ne?Ne-4:0),Ue=4;Ue<Ne;Ue++)We[Ue-4]=arguments[Ue];return de.call.apply(de,be([this,ce,ve,pe],We,!1))}function se(de){var ce=de.auctionId;R.parallel&&C.n.index.getAuction({auctionId:ce}).requestsDone.then(function(){0<Object.keys(X(ce)).length&&D.forEach(function(ve){var pe;return(pe=ve.onAuctionConfig)==null?void 0:pe.call(ve,ce,k(ce))})})}function ne(de,ce,ve){de.forEach(function(pe){var we,te=ve.impContext[pe.impid];(we=(we=te==null?void 0:te.imp)==null?void 0:we.ext)!=null&&we.ae?(te.paapiConfigs=te.paapiConfigs||[],te.paapiConfigs.push(pe)):(0,l.JE)(h,"Received auction configuration for an impression that was not in the request or did not ask for it",pe,te==null?void 0:te.imp)})}(0,L.pS)({type:L.Tb,name:"impExtAe",fn:function(de,ce,ve){(ve=ve.bidderRequest.paapi)!=null&&ve.enabled||((ve=de.ext)!=null&&delete ve.ae,(ve=de.ext)==null)||delete ve.igs}}),(0,L.pS)({type:L.Cf,name:"extPrebidFledge",fn:function(de,ce,ve){ne(((ce=(ce=(ce=ce.ext)==null?void 0:ce.prebid)==null?void 0:ce.fledge)==null?void 0:ce.auctionconfigs)||[],0,ve)},dialects:[L.e4]}),(0,L.pS)({type:L.Cf,name:"extIgiIgs",fn:function(de,ce,ve){ne((((ce=ce.ext)==null?void 0:ce.igi)||[]).flatMap(function(pe){return((pe==null?void 0:pe.igs)||[]).map(function(we){return we.impid!==pe.impid&&we.impid!=null&&pe.impid!=null&&(0,l.JE)(h,"ORTB response ext.igi.igs.impid conflicts with parent's impid",pe),{config:we.config,impid:(we=we.impid)!=null?we:pe.impid}}).concat(((pe==null?void 0:pe.igb)||[]).map(function(we){return{igb:we,impid:pe.impid}}))}),0,ve)}}),(0,L.pS)({type:L.Cf,name:"paapiConfigs",priority:-1,fn:function(de,ce,ve){ve=Object.values(ve.impContext).flatMap(function(pe){return(pe.paapiConfigs||[]).map(function(we){return F({bidId:pe.bidRequest.bidId},we)})}),0<ve.length&&(de.paapi=ve)}}),(0,o.E)("paapi")}},function(s){s.O(0,[802,1225,7606,2139,1085],function(){return s(s.s=3294)}),s.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[5494],{6178:function(s,$,a){function o(C,h,D){var U,k,M,Y,X=!(3<arguments.length&&arguments[3]!==void 0)||arguments[3];0<h.length?(U=(k=I[C])!=null?k:{},k=Object.fromEntries(D.map(function(P){return[P.seller,P]})),M=Object.keys(k),X?(k=Object.assign(U,k),U=Object.fromEntries(M.map(function(P){return[P,null]}))):M.forEach(function(P){U[P]=null}),Object.keys(U).length?I[C]=U:delete I[C],0<(Y=Object.entries(k).map(function(P){return{configKey:P[0],auctionConfig:P[1]}})).length&&h.forEach(function(P){P.setConfig({componentAuction:Y}),(0,ie.fH)(c,"register component auction configs for: ".concat(C,": ").concat(P.getAdUnitPath()),D)})):0<D.length&&(0,ie.JE)(c,"unable to register component auction config for ".concat(C),D)}function r(C,h){if(h!=null&&h.length){var D=new Set(h.map(ie.bM)),U=l.find(function(k){return k[0],D.has(k[1])});if(U)return void C.bail(U[0])}C(h)}var e,l,I,x=a(7873),L=a(9214),g=a(433),ie=a(1069),ee=a(3272),O=a(2713),f=a(7779),c="paapiForGpt",_=(ee.$W.getConfig("paapi",function(C){(0,g.A)(C,"paapi.gpt.configWithTargeting",!0)?((0,ie.fH)(c,"enabling PAAPI configuration with setTargetingForGPTAsync"),f.iS.setTargetingForGPT.before(_)):f.iS.setTargetingForGPT.getHooks({hook:_}).remove()}),I={},l=[[728,90],[336,280],[300,250],[300,50],[160,600],[1024,768],[970,250],[970,90],[768,1024],[480,320],[468,60],[320,480],[320,100],[320,50],[300,600],[300,100],[250,250],[234,60],[200,200],[180,150],[125,125],[120,600],[120,240],[120,60],[88,31],[980,120],[980,90],[950,90],[930,180],[750,300],[750,200],[750,100],[580,400],[250,360],[240,400]].sort((0,O.NV)(function(C){return-C[0]*C[1]})).map(function(C){return[C,(0,ie.bM)(C)]}),(0,x.m)().setPAAPIConfigForGPT=function(C,h,D){var U=0<arguments.length&&C!==void 0?C:function(Y){return e(Y,!0)},k=1<arguments.length&&h!==void 0?h:o,M=2<arguments.length&&D!==void 0?D:f.m2;return function(){var Y=1<arguments.length?arguments[1]:void 0,X=!1,P=U(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{})||{},R=M(Object.keys(P),Y);Object.entries(P).forEach(function(w){var Q=w[0],w=w[1];w!=null&&(X=!0),k(Q,R[Q],(w==null?void 0:w.componentAuctions)||[],!0)}),X||(0,ie.fH)("".concat(c,": No component auctions available to set"))}}(),function(C){var h=0<arguments.length&&C!==void 0?C:(0,x.m)().setPAAPIConfigForGPT;return function(D,U,k){(Array.isArray(U)?U:[U]).map(function(M){return M==null?void 0:{adUnitCode:M}}).forEach(function(M){return h(M,k)}),D(U,k)}}());(0,L.bz)("paapi",{name:"gpt",init:function(C){e=C.getPAAPIConfig,(0,L.Yn)("getPAAPISize").before(r)}}),(0,x.E)("paapiForGpt")}},function(s){s.O(0,[802,2139,1085],function(){return s(s.s=6178)}),s.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[5328],{1134:function(s,o,a){a.d(o,{Gk:function(){return W}});var o=a(7873),r=a(9759),e=a(1069),l=a(8969),I=a(1445),x=a(3272),L=a(7377),g=a(5023),ie=a(5901),ee={appnexuspsp:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://ib.adnxs.com/openrtb2/prebid",noP1Consent:"https://ib.adnxs-simple.com/openrtb2/prebid"},syncEndpoint:{p1Consent:"https://prebid.adnxs.com/pbs/v1/cookie_sync",noP1Consent:"https://prebid.adnxs-simple.com/pbs/v1/cookie_sync"},maxTimeout:1e3},rubicon:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction",noP1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid-server.rubiconproject.com/cookie_sync",noP1Consent:"https://prebid-server.rubiconproject.com/cookie_sync"},maxTimeout:500},openwrap:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://ow.pubmatic.com/openrtb2/auction?source=pbjs",noP1Consent:"https://ow.pubmatic.com/openrtb2/auction?source=pbjs"},maxTimeout:500}},O=a(8044),f=a(9214),c=a(2621),_=a(9766),C=a(3172),h=a(3597),D=a(981),U=a(3323),k=a(5825),M=a(1e3),Y=a(6953),X=a(3441),P=a(5569),R=a(5139),K=a(6811),Q=a(6743),w=a(2713),u=a(433);function p(ue){var me=ue.global;return Object.fromEntries(Object.entries(ue.bidder).map(function(ne){var se=ne[0],ne=ne[1];return[se,function de(ce,ve){return Object.fromEntries(Object.entries(ce).map(function(te){var we=te[0],te=te[1],H=ve[we];return Array.isArray(te)?!(0,e.bD)(te,H)&&Array.isArray(H)&&(te=H):te!=null&&typeof te=="object"&&(te=de(te,H)),[we,te]}))}(ne,(0,e.D9)({},me,ne))]}))}function T(ue,me){return ue==null||Object.keys(ue.bidder||{}).length===0?ue:(ne=me,Se=(me=ue).global,te=(me={global:Se,bidder:De=me.bidder}).global,me=me.bidder,H=[],ye={},Ce=new Set,Y.Vx.forEach(function(_e){((0,u.A)(te,_e)||[]).forEach(function(Pe){Oe(Pe).bidders=!1})}),Object.entries(me).forEach(function(_e){var Pe=_e[0],Ne=_e[1];Y.Vx.forEach(function(We){((0,u.A)(Ne,We)||[]).forEach(function(Ue){Ue=Oe(Ue),Ue.bidders!==!1&&Ue.bidders.add(Pe)})})}),me={eids:H.map(function(Ne){var Pe=Ne.eid,Ne=Ne.bidders;return{eid:Pe,bidders:Ne&&Array.from(Ne)}}),conflicts:Ce},de=me.eids,ce=(me=me.conflicts)===void 0?new Set:me,ve=[],pe=[],we={},de.forEach(function(_e){(_e.bidders===!1?ve:pe).push(_e)}),pe.forEach(function(Ne){var Pe=Ne.eid,Ne=Ne.bidders;ce.has(Pe.source)?Ne.forEach(function(We){(we[We]=we[We]||[]).push(Pe)}):ve.push({eid:Pe,bidders:Ne})}),me={global:ve.map(function(_e){return _e.eid}),permissions:ve.filter(function(_e){return _e.bidders!==!1}).map(function(_e){return{source:_e.eid.source,bidders:_e.bidders}}),bidder:we},Se=(0,e.Go)(Se),De=(0,e.Go)(De),se(Se),Object.values(De).forEach(se),me.global.length&&(0,C.J)(Se,"user.ext.eids",me.global),ne!=null&&ne.length&&me.permissions.forEach(function(_e){return _e.bidders=_e.bidders.filter(function(Pe){return ne.includes(Pe)})}),me.permissions.length&&(0,C.J)(Se,"ext.prebid.data.eidpermissions",me.permissions),Object.entries(me.bidder).forEach(function(Ne){var Pe=Ne[0],Ne=Ne[1];Ne.length&&(0,C.J)(De[Pe],"user.ext.eids",Ne)}),F(F({},ue={global:Se,bidder:De}),{bidder:p(ue)}));function Oe(_e){var Pe=H.find(function(Ne){return(0,e.bD)(Ne.eid,_e)});return Pe==null&&(Pe={eid:_e,bidders:new Set},H.push(Pe)),ye[_e.source]==null?ye[_e.source]=Pe.eid:Pe.eid===_e&&Ce.add(_e.source),Pe}function se(_e){var Pe;(Pe=_e==null?void 0:_e.user)!=null&&delete Pe.eids,(_e=(Pe=_e==null?void 0:_e.user)==null?void 0:Pe.ext)!=null&&delete _e.eids}var ne,de,ce,ve,pe,we,te,H,ye,Ce,Se,De}var m,E,S=a(1371),A=new Set(["bidderCode","bidderRequestId","uniquePbsTid","bids","timeout"]),B=(m=(0,w.Bp)((0,Q.x4)(function(ue){return[ue.bidfloor,ue.bidfloorcur]})),function(ue){for(var me,Oe=0,se=ue;Oe<se.length;Oe++){var ne=se[Oe];if((ne==null?void 0:ne.bidfloorcur)==null||(ne==null?void 0:ne.bidfloor)==null)return null;me=me==null?ne:m(me,ne)}return me}),oe=(0,_.A)({processors:D.m,context:{netRevenue:!0},imp:function(ue,me,Oe){Object.assign(Oe,me.pbsData);var se=ue(me,Oe);if((me.bids||[]).forEach(function(ne){ne.ortb2Imp&&0<Object.keys(ne.ortb2Imp).length&&(0,C.J)(se,"ext.prebid.imp.".concat(ne.bidder),ne.ortb2Imp)}),Object.values(k.s).some(function(ne){return se[ne]}))return se.secure=(Oe=(ue=me.ortb2Imp)==null?void 0:ue.secure)!=null?Oe:1,se},request:function(ue,me,Oe,se){var ne;if(me.length)return ne=se.s2sBidRequest,(ue=ue(me,Oe,se)).tmax=(me=ne.s2sConfig.timeout)!=null?me:Math.min(.75*ne.requestBidsTimeout,(Oe=ne.s2sConfig.maxTimeout)!=null?Oe:W.maxTimeout),ue.ext.tmaxmax=ue.ext.tmaxmax||ne.requestBidsTimeout,[ue.app,ue.dooh,ue.site].forEach(function(de){var ce;!de||(ce=de.publisher)!=null&&ce.id||(0,C.J)(de,"publisher.id",ne.s2sConfig.accountId)}),se.transmitTids||(0,C.J)(ue,"ext.prebid.createtids",!1),ue;(0,e.vV)("Request to Prebid Server rejected due to invalid media type(s) in adUnit.")},bidResponse:function(ne,me,Oe){var se=Oe.actualBidRequests.get(Oe.seatbid.seat),ne=((se=se==null?Oe.actualBidRequests.get(null):se)&&Object.assign(Oe,{bidRequest:se,bidderRequest:Oe.actualBidderRequests.find(function(de){return de.bidderCode===se.bidder})}),ne(me,Oe));return ne.requestBidder=se==null?void 0:se.bidder,(me=ne.native)!=null&&me.ortb&&(ne.adm=ne.native.ortb),ne.requestTimestamp=Oe.requestTimestamp,{bid:Object.assign((0,h.O)(l.XQ.GOOD,{src:l.RW.SRC,bidId:se?se.bidId||se.bid_Id:null,transactionId:Oe.adUnit.transactionId,adUnitId:Oe.adUnit.adUnitId,auctionId:Oe.bidderRequest.auctionId}),ne,{deferRendering:!!Oe.adUnit.deferBilling,deferBilling:!!Oe.adUnit.deferBilling}),adUnit:Oe.adUnit.code}},overrides:((w={})[M.Tb]={id:function(ue,me,Oe,se){me.id=se.impId},params:function(ue,me,Oe,se){for(var ne=se.s2sBidRequest.s2sConfig.adapterOptions,de=0,ce=se.actualBidRequests.values();de<ce.length;de++){var ve=ce[de];(0,U.W)(me,ve,se,se),ne&&ne[ve.bidder]&&Object.assign(me.ext.prebid.bidder[ve.bidder],ne[ve.bidder])}},bidfloor:function(ue,me,Oe,se){var ne=B(function(){var de,ce,ve,pe;return Ee(this,function(we){switch(we.label){case 0:de=0,ce=se.actualBidRequests.values(),we.label=1;case 1:return de<ce.length?(ve=ce[de],ue(pe={},ve,se),[4,pe]):[3,4];case 2:we.sent(),we.label=3;case 3:return de++,[3,1];case 4:return[2]}})}());ne!=null&&Object.assign(me,ne)},extBidfloor:function(ue,me,Oe,se){var ne;function de(ve,pe){pe!=null&&((0,C.J)(ve,"ext.bidfloor",pe.bidfloor),(0,C.J)(ve,"ext.bidfloorcur",pe.bidfloorcur))}var ce=Array.from(se.actualBidRequests.values()).map(function(ve){var pe=(0,e.Go)(me);return ue(pe,ve,se),pe});Object.values(S.GE).forEach(function(ve){de(me[ve],B(ce.map(function(pe){return(pe=pe[ve])==null?void 0:pe.ext})))}),(((ne=me[S.D4])==null?void 0:ne.format)||[]).forEach(function(ve,pe){de(ve,B(ce.map(function(we){return(we=we[S.D4].format[pe])==null?void 0:we.ext})))})}},w[M.S3]={fpd:function(ue,me,Oe,se){se.transmitTids&&(0,C.J)(me,"source.tid",Oe.auctionId),(0,e.D9)(me,(Oe=se.s2sBidRequest.ortb2Fragments)==null?void 0:Oe.global),se.s2sBidRequest.s2sConfig.extPrebid&&typeof se.s2sBidRequest.s2sConfig.extPrebid=="object"&&(0,C.J)(me,"ext.prebid",(0,e.D9)(((Oe=me.ext)==null?void 0:Oe.prebid)||{},se.s2sBidRequest.s2sConfig.extPrebid)),se.getRedactor().ortb2(me),Oe=Object.entries(((Oe=se.s2sBidRequest.ortb2Fragments)==null?void 0:Oe.bidder)||{}).filter(function(de){var de=de[0],ce=se.s2sBidRequest.s2sConfig.bidders;return se.s2sBidRequest.s2sConfig.allowUnknownBidderCodes||ce&&ce.includes(de)}).map(function(ce){var de=ce[0],ce=ce[1];return{bidders:[de],config:{ortb2:se.getRedactor(de).ortb2(ce)}}}),Oe.length&&(0,C.J)(me,"ext.prebid.bidderconfig",Oe)},extPrebidAliases:function(ue,me,Oe,se){se.actualBidderRequests.forEach(function(ne){return ue(me,ne,se)})},sourceExtSchain:function(ue,me,Oe,se){var ne=((ne=(ne=me==null?void 0:me.ext)==null?void 0:ne.prebid)==null?void 0:ne.schains)||[],de=new Set(ne.flatMap(function(ce){return ce.bidders}));(ne=Object.values(ne.concat(se.actualBidderRequests.filter(function(ce){return!de.has(ce.bidderCode)}).map(function(ce){return{bidders:[ce.bidderCode],schain:(ce=(ce=ce==null?void 0:ce.bids)==null?void 0:ce[0])==null?void 0:ce.schain}})).filter(function(ce){var ve=ce.bidders;return 0<(ve==null?void 0:ve.length)&&ce.schain}).reduce(function(ce,we){var pe=we.bidders,we=we.schain,te=JSON.stringify(we);return ce.hasOwnProperty(te)||(ce[te]={bidders:new Set,schain:we}),pe.forEach(function(H){return ce[te].bidders.add(H)}),ce},{})).map(function(pe){var ve=pe.bidders,pe=pe.schain;return{bidders:Array.from(ve),schain:pe}})).length&&(0,C.J)(me,"ext.prebid.schains",ne)}},w[M.Cf]={serverSideStats:function(ue,me,Oe,se){se.actualBidderRequests.forEach(function(ne){return ue(me,Oe,F(F({},se),{bidderRequest:ne,bidRequests:ne.bids}))})},paapiConfigs:function(ue,me,Oe,se){se=Object.values(se.impContext).flatMap(function(ne){return(ne.paapiConfigs||[]).map(function(de){var ce=ne.actualBidderRequests.find(function(pe){return pe.bidderCode===de.bidder}),ve=ne.actualBidRequests.get(de.bidder);return{adUnitCode:ne.adUnit.code,ortb2:ce==null?void 0:ce.ortb2,ortb2Imp:ve==null?void 0:ve.ortb2Imp,bidder:de.bidder,config:de.config}})}),0<se.length&&(me.paapi=se)}},w)}),J=a(6894),z=x.$W.getConfig,re=l.RW.SRC,ge=0,W={bidders:Object.freeze([]),syncTimeout:1e3,maxBids:1,adapter:"prebidServer",allowUnknownBidderCodes:!1,adapterOptions:{},syncUrlModifier:{},ortbNative:{eventtrackers:[{event:1,methods:[1,2]}]},maxTimeout:1500};function Z(ue){var me;if(ue)return ue=Array.isArray(ue)?ue:[ue],me=new Set,ue.filter(function(Oe){var se=Oe;if(["endpoint","syncEndpoint"].forEach(function(ne){var de;(0,e.O8)(se[ne])&&(de=se[ne],se[ne]={p1Consent:de,noP1Consent:de}),!(0,e.Qd)(se[ne])||se[ne].p1Consent&&se[ne].noP1Consent||["p1Consent","noP1Consent"].forEach(function(ce){se[ne][ce]||(0,e.JE)("s2sConfig.".concat(ne,".").concat(ce," not defined.  PBS request will be skipped in some P1 scenarios."))})}),(ne=>{if(ne.defaultVendor){var de=ne.defaultVendor,ce=Object.keys(ne);if(!ee[de])return(0,e.vV)("Incorrect or unavailable prebid server default vendor option: "+de),0;Object.keys(ee[de]).forEach(function(ve){W[ve]!==ne[ve]&&(0,ie.mK)(ce,ve)||(ne[ve]=ee[de][ve])})}else ne.adapter==null&&(ne.adapter="prebidServer");return 1})(Oe)&&(ne=>{for(var de=0,ce=["accountId","endpoint"];de<ce.length;de++){var ve=ce[de];if(ne[ve]==null)return(0,e.vV)(ve+" missing in server to server config"),0}return 1})(Oe)&&Oe.enabled)return Array.isArray(Oe.bidders)&&(Oe.bidders=Oe.bidders.filter(function(ne){return!me.has(ne)&&(me.add(ne),!0)})),!0;(0,e.JE)("prebidServer: s2s config is disabled",Oe)})}function j(ue,me){var Oe,se,ne,de,ce;ue.length!==0&&((ne=ue.shift()).no_cookie?(Oe=ne.usersync.type,se=ne.usersync.url,ne=ne.bidder,de=j.bind(null,ue,me),(ce=me).syncUrlModifier&&typeof ce.syncUrlModifier[ne]=="function"&&(se=ce.syncUrlModifier[ne](Oe,se,ne)),Oe=Oe,se=se,ne=ne,de=de,ce=ce.syncTimeout,se?Oe==="image"||Oe==="redirect"?((0,e.OG)('Invoking image pixel user sync for bidder: "'.concat(ne,'"')),(0,e.z$)(se,de,ce)):Oe==="iframe"?((0,e.OG)('Invoking iframe user sync for bidder: "'.concat(ne,'"')),(0,e.SG)(se,de,ce)):((0,e.vV)('User sync type "'.concat(Oe,'" not supported for bidder: "').concat(ne,'"')),de()):((0,e.vV)('No sync url for bidder "'.concat(ne,'": ').concat(se)),de())):j(ue,me))}function N(ue,me){return me=(0,c.C)(me),ue=me?ue.p1Consent:ue.noP1Consent,ue||(0,e.JE)("Missing matching consent URL when gdpr="+me),ue}function q(ue){var me,Oe,se;return Array.isArray(ue)&&0<ue.length&&(me=ue[0].gdprConsent,Oe=ue[0].uspConsent,se=ue[0].gppConsent),{gdprConsent:me,uspConsent:Oe,gppConsent:se}}x.$W.setDefaults({s2sConfig:W}),z("s2sConfig",function(ue){(ue=Z(ue.s2sConfig)).length&&(E=ue)});var he=(0,f.A_)("sync",function(ue,me,Oe,ye){var ne,de=ye.onResponse,ce=ye.onError,ve=ye.onBid,pe=ye.onFledge,ye=q(me).gdprConsent,we=(0,e.Go)(ue.ad_units),te=we.map(function(Ce){return Ce.bids.map(function(Se){return Se.bidder}).filter(e.hj)}).reduce(e.Bq,[]).filter(e.hj),H=ue.metrics.measureTime("buildRequests",function(){return Ce=ue,Se=me,De=we,_e=te,We=(0,e.vE)(),Ue=new Set,xe=[],Me=(0,I.K5)(Ce.s2sConfig),Pe=(0,Y.$p)(Me),Ne={},ke=function(He){return He==null?Pe:(Ne.hasOwnProperty(He)||(Ne[He]=(0,Y.$p)((0,X.s)(P.tW,He))),Ne[He])},(De=De.map(function(He){return ke().bidRequest(He)})).forEach(function(He){for(var et=new Map,st=(De.bids=He.bids.map(function(it){return ke(it.bidder).bidRequest(it)}),He.bids.forEach(function(it){it.mediaTypes!=null&&(0,e.JE)("Prebid Server adapter does not (yet) support bidder-specific mediaTypes for the same adUnit. Size mapping configuration will be ignored for adUnit: ".concat(He.code,", bidder: ").concat(it.bidder)),et.set(it.bidder,(0,e.D4)(it.bid_id,Se))}),He.code),lt=1;Ue.has(st);)lt++,st="".concat(He.code,"-").concat(lt);Ue.add(st),xe.push(F(F({},He),{adUnitCode:He.code,pbsData:{impId:st,actualBidRequests:et,adUnit:He}}))}),Qe=F(F({},Object.fromEntries(Object.entries(Se[0]).filter(function(He){return He=He[0],!A.has(He)}))),{paapi:{enabled:Se.some(function(He){return(He=He.paapi)==null?void 0:He.enabled})}}),oe.toORTB({bidderRequest:Qe,bidRequests:xe,context:{currency:x.$W.getConfig("currency.adServerCurrency")||"USD",ttl:Ce.s2sConfig.defaultTtl||60,requestTimestamp:We,s2sBidRequest:F(F({},Ce),{ortb2Fragments:T(Ce.ortb2Fragments,_e)}),requestedBidders:_e,actualBidderRequests:Se,nativeRequest:Ce.s2sConfig.ortbNative,getRedactor:ke,transmitTids:(0,R.io)(K.VJ,Me)}});var Ce,Se,De,_e,Pe,Ne,We,Ue,xe,Me,ke,Qe}),ye={endpointUrl:N(ue.s2sConfig.endpoint,ye),requestJson:H&&JSON.stringify(H),customHeaders:(ye=(ye=ue==null?void 0:ue.s2sConfig)==null?void 0:ye.customHeaders)!=null?ye:{}};g.Ic(l.qY.BEFORE_PBS_HTTP,ye),(0,e.fH)("BidRequest: "+ye),H&&ye.requestJson&&ye.endpointUrl?(ne=ue.metrics.startTiming("net"),Oe(ye.endpointUrl,{success:function(Ce){ne();try{var Se=JSON.parse(Ce),De=ue.metrics.measureTime("interpretResponse",function(){return Ne=Se,oe.fromORTB({response:Ne,request:H});var Ne}),_e=De.bids,Pe=De.paapi;_e.forEach(ve),Pe&&Pe.forEach(pe)}catch(Ne){(0,e.vV)(Ne)}!Se||Se.status&&(0,ie.mK)(Se.status,"Error")?((0,e.vV)("error parsing response: ",Se?Se.status:"not valid JSON"),de(!1,te)):de(!0,te,Se)},error:function(){ne(),ce.apply(this,arguments)}},ye.requestJson,{contentType:"text/plain",withCredentials:!0,browsingTopics:(0,R.io)(K.DL,(0,I.K5)(ue.s2sConfig)),customHeaders:ye.customHeaders})):(0,e.vV)("PBS request not made.  Check endpoints.")},"processPBSRequest");I.Ay.registerBidAdapter(new function(){var ue=new r.A("prebidServer");return ue.callBids=function(me,Oe,se,ne,de){var ce,ve,pe,we,te,H,ye,Ce,Se,De=me.metrics=(0,J.BO)((_e=Oe==null?void 0:Oe[0])==null?void 0:_e.metrics).newMetrics().renameWith(function(Ue){return["adapter.s2s.".concat(Ue),"adapters.s2s.".concat(me.s2sConfig.defaultVendor,".").concat(Ue)]}),_e=(ne=De.startTiming("total").stopBefore(ne),Oe.forEach(function(Ue){return(0,J.BO)(Ue.metrics).join(De,{continuePropagation:!1})}),q(Oe)),Pe=_e.gdprConsent,Ne=_e.uspConsent,We=_e.gppConsent;Array.isArray(E)&&(me.s2sConfig&&me.s2sConfig.syncEndpoint&&N(me.s2sConfig.syncEndpoint,Pe)&&(ce=(_e=me.s2sConfig.extPrebid&&me.s2sConfig.extPrebid.aliases)!=null?_e:{},_e=me.s2sConfig.bidders.map(function(Ue){return I.Ay.aliasRegistry[Ue]||ce[Ue]||Ue}).filter(function(Ue,xe,Me){return Me.indexOf(Ue)===xe}),ve=Pe,pe=Ne,we=We,te=me.s2sConfig,E.length!==ge)&&(ge++,H={},(Se=z("userSync.filterSettings"))&&(ye=Se.all,Ce=Se.iframe||ye,Se=Se.image||ye,Ce&&(H=Object.assign({iframe:Ce},H)),Se)&&(H=Object.assign({image:Se},H)),ye={uuid:(0,e.lk)(),bidders:_e,account:te.accountId,filterSettings:H},(0,e.Et)(Ce=te.userSyncLimit)&&0<Ce&&(ye.limit=Ce),ve&&(ye.gdpr=ve.gdprApplies?1:0,ve.gdprApplies!==!1)&&(ye.gdpr_consent=ve.consentString),pe&&(ye.us_privacy=pe),we&&(ye.gpp_sid=we.applicableSections.join(),ye.gpp=we.gppString),typeof te.coopSync=="boolean"&&(ye.coopSync=te.coopSync),Se=JSON.stringify(ye),(0,O.RD)(N(te.syncEndpoint,ve),function(Ue){try{j((Ue=JSON.parse(Ue)).bidder_status,te)}catch(xe){(0,e.vV)(xe)}},Se,{contentType:"text/plain",withCredentials:!0})),he(me,Oe,de,{onResponse:function(et,xe,Me){et&&Oe.forEach(function(lt){return g.Ic(l.qY.BIDDER_DONE,lt)}),et=me.s2sConfig;var ke,Qe,He,st={atagData:(st=(st=(st=(st=Me)==null?void 0:st.ext)==null?void 0:st.prebid)==null?void 0:st.analytics)==null?void 0:st.tags,seatNonBidData:(st=Me,(et=(et=et)==null?void 0:et.extPrebid)==null||!et.returnallbidstatus||(et=st==null?void 0:st.ext)==null?void 0:et.seatnonbid)},et=st.seatNonBidData,st=st.atagData;et&&g.Ic(l.qY.SEAT_NON_BID,{seatnonbid:Me.ext.seatnonbid,auctionId:Oe[0].auctionId,requestedBidders:xe,response:Me,adapterMetrics:De}),(et||st)&&(et={seatnonbid:et,atag:st,auctionId:Oe[0].auctionId,requestedBidders:xe,response:Me,adapterMetrics:De},g.Ic(l.qY.PBS_ANALYTICS,et)),ne(!1),ke=Pe,Qe=Ne,He=We,xe.forEach(function(lt){var it=I.Ay.getBidAdapter(lt);it&&it.registerSyncs&&x.$W.runWithBidder(lt,it.registerSyncs.bind(it,[],ke,Qe,He))})},onError:function(Ue,xe){var ke=((ke=me==null?void 0:me.s2sConfig)==null?void 0:ke.endpoint)||{},Me=ke.p1Consent,Me=Me===void 0?"":Me,ke=ke.noP1Consent,ke=ke===void 0?"":ke;Me===ke?(0,e.vV)("Prebid server call failed: '".concat(Ue,"'. Endpoint: \"").concat(Me,'"}'),xe):(0,e.vV)("Prebid server call failed: '".concat(Ue,"'. Endpoints: p1Consent \"").concat(Me,'", noP1Consent "').concat(ke,'"}'),xe),Oe.forEach(function(Qe){return g.Ic(l.qY.BIDDER_ERROR,{error:xe,bidderRequest:Qe})}),ne(xe.timedOut)},onBid:function(ke){var xe=ke.adUnit,Me=ke.bid,ke=Me.metrics=me.metrics.fork().renameWith();ke.checkpoint("addBidResponse"),Me.requestId!=null&&Me.requestBidder!=null||me.s2sConfig.allowUnknownBidderCodes?ke.measureTime("addBidResponse.validate",function(){return(0,L.fn)(xe,Me)})?se(xe,Me):se.reject(xe,Me,l.Tf.INVALID):((0,e.JE)("PBS adapter received bid from unknown bidder (".concat(Me.bidder,"), but 's2sConfig.allowUnknownBidderCodes' is not set. Ignoring bid.")),se.reject(xe,Me,l.Tf.BIDDER_DISALLOWED))},onFledge:function(Ue){x.$W.runWithBidder(Ue.bidder,function(){(0,L.JN)(F({auctionId:Oe[0].auctionId},Ue),{config:Ue.config})})}}))},Object.assign(this,{callBids:ue.callBids,setBidderCode:ue.setBidderCode,type:re})},"prebidServer"),(0,o.E)("prebidServerBidAdapter")}},function(s){s.O(0,[802,8498,1225,7618,2139,1085],function(){return s(s.s=1134)}),s.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[3775],{9433:function(s,$,a){function o(){return r=r==null?(0,l.Dl)((0,c.EN)().topmostLocation,{noDecodeWholeURL:!0}).hostname:r}var r,e=a(7873),l=a(1069),I=a(433),x=a(3172),L=a(3272),g=a(8044),ie=a(5023),ee=a(8969),O=a(9214),f=a(5901),c=a(7934),_=a(2693),C=a(7314),h=a(1e3),D=a(6894),U=a(7176),k=a(1252),M=a(6743),Y=a(6400),X=a(1371),P={NOT_FOUND:"not_found",RANDOM:"random"},R="Price Floors",K=(0,g.g4)(1e4),Q=Symbol(),w=[Q,"gptSlot","adUnitCode","size","domain","mediaType"],u=!1,p=!1,T={},m=(0,Y.L)(),E={};function S(ne,de,ce){return ce=(2<arguments.length&&ce!==void 0?ce:{}).index,ce=ce===void 0?C.n.index:ce,(ne==null?void 0:ne.adUnitCode)||ce.getAdUnit(de).code}(a={})[Q]=function(){return"*"},a.size=function(ne,de){return(0,l.n7)(de.size)||"*"},a.mediaType=function(ne,de){return de.mediaType||"banner"},a.gptSlot=function(ne,de){return function(ce,ve){return ve=(1<arguments.length&&ve!==void 0?ve:{}).index,ve=(ve===void 0?C.n.index:ve).getAdUnit({adUnitId:ce}),(0,I.A)(ve,"ortb2Imp.ext.data.adserver.name")==="gam"&&ve.ortb2Imp.ext.data.adserver.adslot}((ne||de).adUnitId)||(0,k.p)(S(ne,de)).gptSlot},a.domain=o,a.adUnitCode=function(ne,de){return S(ne,de)};var A=a;function B(ne,de,ye){var ve,pe,we,te,H,ye=2<arguments.length&&ye!==void 0?ye:{},ye=(we=(0,I.A)(ne,"schema.fields")||[],ve=de,pe=ye,we.length?we.reduce(function(Ce,Se){return Se=A[Se](ve,pe)||"*",Ce.push(Se==="*"?["*"]:[Se.toLowerCase(),"*"]),Ce},[]):[]);return ye.length?(we=ye.map(function(Ce){return Ce[0]}).join("-"),(H=(0,I.A)(ne,"matchingInputs.".concat(we)))?F({},H):(H=ye,te=(0,I.A)(ne,"schema.delimiter")||"|",ye=H.reduce(function(Ce,Se){var De=[];return Ce.map(function(_e){Se.map(function(Pe){De.push(_e+te+Pe)})}),De}).sort(function(Ce,Se){return Ce.split("*").length-Se.split("*").length}),H=(0,f.I6)(ye,function(Ce){return ne.values.hasOwnProperty(Ce)}),ye={floorMin:ne.floorMin||0,floorRuleValue:ne.values[H],matchingData:ye[0],matchingRule:H===((ye=ne.meta)==null?void 0:ye.defaultRule)?void 0:H},typeof(H=(0,I.A)(de,"ortb2Imp.ext.prebid.floors.floorMin"))=="number"&&(ye.floorMin=H),ye.matchingFloor=Math.max(ye.floorMin,ye.floorRuleValue),(0,x.J)(ne,"matchingInputs.".concat(we),F({},ye)),ye)):{matchingFloor:void 0}}function oe(ne,de,ce){return parseFloat((0,U.y)(ne,F(F({},de),{cpm:ne}),ce))}var J={banner:function(ne){return(0,I.A)(ne,"mediaTypes.banner.sizes")||[]},video:function(ne){return(0,I.A)(ne,"mediaTypes.video.playerSize")||[]},native:function(ne){return(0,I.A)(ne,"mediaTypes.native.image.sizes")?[(0,I.A)(ne,"mediaTypes.native.image.sizes")]:[]}};function z(){var ne=E[this.auctionId];if(!ne||ne.skipped)return{};we=this,ce=ve=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{currency:"USD",mediaType:"*",size:"*"},pe=Object.keys(we.mediaTypes||{}),ce.mediaType==="*"&&pe.length===1&&(ce.mediaType=pe[0]),ce.size==="*"&&pe.indexOf(ce.mediaType)!==-1&&J[ce.mediaType]&&J[ce.mediaType](we).length===1&&(ce.size=J[ce.mediaType](we)[0]);var de,ce,ve=ce,pe=B(ne.data,F({},this),{mediaType:ve.mediaType,size:ve.size}),we=ve.currency||ne.data.currency;if(pe.matchingFloor&&we!==ne.data.currency)try{pe.matchingFloor=(0,e.m)().convertCurrency(pe.matchingFloor,ne.data.currency,we)}catch{(0,l.JE)("".concat(R,": Unable to get currency conversion for getFloor for bidder ").concat(this.bidder,". You must have currency module enabled with defaultRates in your currency config")),we=ne.data.currency}return ne.enforcement.bidAdjustment&&pe.matchingFloor&&((ce=_.u.get(this.bidder,"inverseBidAdjustment"))?(ne=Object.fromEntries(Object.entries(ve).filter(function(te){var H=te[0];return te[1]!=="*"&&["mediaType","size"].includes(H)})),pe.matchingFloor=ce(pe.matchingFloor,this,ne)):(ce=oe(pe.matchingFloor,null,this),pe.matchingFloor=ce?(ne=pe.matchingFloor,ce=ce,de=Math.pow(10,10),ne*de/(ce*de)*(ne*de)/de):pe.matchingFloor)),pe.floorRuleValue===null?null:pe.matchingFloor?{floor:(ce=pe.matchingFloor,Math.ceil((parseFloat(ce)*Math.pow(10,4)).toFixed(1))/Math.pow(10,4)),currency:we}:{}}function re(ne,de){var ce,ve,pe,we,te=(0,l.Go)(ne);return te.schema.delimiter=ne.schema.delimiter||"|",te.values=(ve=de,ne=(ce=te).schema.fields,pe=ce.schema.delimiter,we=ve&&ne.indexOf("adUnitCode")===-1&&ne.unshift("adUnitCode"),Object.keys(ce.values).reduce(function(H,ye){return H[(we?"".concat(ve).concat(pe).concat(ye):ye).toLowerCase()]=ce.values[ye],H},{})),te.currency=te.currency||"USD",te}function ge(ne,de){var ce,ve,pe,we,te,H,ye=(0,l.Go)(T),Ce=((0,I.A)(ye,"data.floorsSchemaVersion")===2&&(Ce=(ce=ye.data).modelGroups,ce=Ae(ce,["modelGroups"]),ye.data=Object.assign(ce,((Se,De)=>{for(var _e=Math.floor(Math.random()*De+1),Pe=0;Pe<Se.length;Pe++)if((_e-=Se[Pe].modelWeight)<=0)return Se[Pe]})(Ce,ce.modelWeightSum))),Object.keys((0,I.A)(ye,"data.values")||{}).length===0);return ye.data=Ce?(ve=(ce=ne).find(function(Se){return((Se=Se.floors)==null?void 0:Se.schema)!=null}),ce.reduce(function(Se,De){var _e,Pe;return((_e=De.floors)==null?void 0:_e.schema)==null||(0,l.bD)(De.floors.schema,(_e=ve==null?void 0:ve.floors)==null?void 0:_e.schema)?N(_e=Object.assign({},ve==null?void 0:ve.floors,{values:void 0},De.floors))?Se.values?(Pe=re(_e,De.code).values,Object.assign(Se.values,Pe)):(Se=re(_e,De.code)).location="adUnit":De.floors!=null&&(0,l.JE)("adUnit '".concat(De.code,"' provides an invalid `floor` definition, it will be ignored for floor calculations"),De):(0,l.vV)("".concat(R,": adUnit '").concat(De.code,"' declares a different schema from one previously declared by adUnit '").concat(ve.code,"'. Floor config for '").concat(De.code,"' will be ignored.")),Se},{})):re(ye.data),Object.keys((0,I.A)(ye,"data.values")||{}).length===0?(ye.skipped=!0,ye.skippedReason=P.NOT_FOUND):(Ce=(0,l.Ez)("pbjs_skipRate")||((Ce=(0,I.A)(ye,"data.skipRate"))!=null?Ce:ye.skipRate),Ce=100*Math.random()<parseFloat(Ce),(ye.skipped=Ce)&&(ye.skippedReason=P.RANDOM)),ye.hasOwnProperty("floorMin")&&(ye.data.floorMin=ye.floorMin),we=de,Ce=(pe=ye).data,de=pe.enforcement,H=0<((te=Ce==null?void 0:Ce.noFloorSignalBidders)==null?void 0:te.length)?Ce.noFloorSignalBidders:0<((te=de==null?void 0:de.noFloorSignalBidders)==null?void 0:te.length)?de.noFloorSignalBidders:[],ne.forEach(function(Se){Se.bids.forEach(function(De){var _e=H.some(function(Pe){return Pe===De.bidder});pe.skipped||_e?(_e&&(0,l.fH)("noFloorSignal to ".concat(De.bidder)),delete De.getFloor):De.getFloor=z,De.auctionId=we,De.floorData={noFloorSignaled:_e,skipped:pe.skipped,skipRate:(_e=(0,I.A)(pe,"data.skipRate"))!=null?_e:pe.skipRate,skippedReason:pe.skippedReason,floorMin:pe.floorMin,modelVersion:(0,I.A)(pe,"data.modelVersion"),modelWeight:(0,I.A)(pe,"data.modelWeight"),modelTimestamp:(0,I.A)(pe,"data.modelTimestamp"),location:(0,I.A)(pe,"data.location","noData"),floorProvider:pe.floorProvider,fetchStatus:T.fetchStatus}})}),ye}function W(ne){ne.hasExited||(ne.reqBidsConfigObj.auctionId=ne.reqBidsConfigObj.auctionId||(0,l.lk)(),E[ne.reqBidsConfigObj.auctionId]=ge(ne.reqBidsConfigObj.adUnits||(0,e.m)().adUnits,ne.reqBidsConfigObj.auctionId),ne.nextFn.apply(ne.context,[ne.reqBidsConfigObj]),ne.hasExited=!0)}function Z(ne){return de=ne,(0,l.Et)(de.default)&&(ce="*",(ve=(((ve=de.schema)==null?void 0:ve.fields)||[]).length)?ce=Array(ve).fill("*").join(((ve=de.schema)==null?void 0:ve.delimiter)||"|"):(0,x.J)(de,"schema.fields",[Q]),de.values=de.values||{},de.values[ce]==null)&&(de.values[ce]=de.default,de.meta={defaultRule:ce}),ne=de,!!(H=>{if(Array.isArray(H)&&0<H.length){if(H.every(function(ye){return w.includes(ye)}))return 1;(0,l.vV)("".concat(R,": Fields received do not match allowed fields"))}})((0,I.A)(ne,"schema.fields"))&&(we=(pe=ne).schema.fields.length,te=ne.schema.delimiter||"|",typeof pe.values=="object")&&(pe.values=Object.keys(pe.values).reduce(function(H,ye){return Ce=ye,Se=pe.values[ye],De=we,typeof Ce!="string"||Ce.split(te).length!==De||typeof Se!="number"&&Se!==null||(H[ye]=pe.values[ye]),H;var Ce,Se,De},{}),0<Object.keys(pe.values).length);var de,ce,ve,pe,we,te}var j={1:Z,2:function(ne){return!(!Array.isArray(ne.modelGroups)||ne.modelGroups.length===0)&&(ne.modelWeightSum=0,ne.modelGroups.every(function(de){return!(typeof de.modelWeight!="number"||!Z(de)||(ne.modelWeightSum+=de.modelWeight,0))}))}};function N(ne){return typeof ne=="object"&&(ne.floorsSchemaVersion=ne.floorsSchemaVersion||1,typeof j[ne.floorsSchemaVersion]!="function"?((0,l.vV)("".concat(R,": Unknown floorsSchemaVersion: "),ne.floorsSchemaVersion),0):j[ne.floorsSchemaVersion](ne))}function q(ne,de){if(ne&&typeof ne=="object"&&N(ne))return(0,l.fH)("".concat(R,": A ").concat(de," set the auction floor data set to "),ne),F(F({},ne),{location:de});(0,l.vV)("".concat(R,": The floors data did not contain correct values"),ne)}var he=(0,D.Ak)("priceFloors",function(ne,de){var ce={reqBidsConfigObj:de,context:this,nextFn:ne,hasExited:!1,timer:null};0<T.auctionDelay&&u?m.submit(T.auctionDelay,function(){return W(ce)},function(){(0,l.JE)("".concat(R,": Fetch attempt did not return in time for auction")),T.fetchStatus="timeout",W(ce)}):W(ce)});function ue(ne){var de;u=!1,T.fetchStatus="success";try{de=JSON.parse(ne)}catch{de=ne}var ce=q(de,"fetch");ce&&(T.data=ce,T.skipRate=((0,l.Et)(ce.skipRate)?ce:T).skipRate,T.floorProvider=ce.floorProvider||T.floorProvider),m.resume()}function me(ne){u=!1,T.fetchStatus="error",(0,l.vV)("".concat(R,": Fetch errored with: "),ne),m.resume()}var Oe=(0,D.NL)("priceFloors",function(ne,de,ce,ve){var pe=E[ce.auctionId];if(!pe||!ce||pe.skipped)return ne.call(this,de,ce,ve);var we=C.n.index.getBidRequest(ce),te=B(pe.data,we,F(F({},ce),{size:[ce.width,ce.height]}));if(!te.matchingFloor)return te.matchingFloor!==0&&(0,l.JE)("".concat(R,": unable to determine a matching price floor for bidResponse"),ce),ne.call(this,de,ce,ve);var H,ye,Ce,Se,De=pe.data.currency.toUpperCase(),_e=ce.currency||"USD";if(De===_e.toUpperCase())H=ce.cpm;else if(ce.originalCurrency&&De===ce.originalCurrency.toUpperCase())H=ce.originalCpm;else try{H=(0,e.m)().convertCurrency(ce.cpm,_e.toUpperCase(),De)}catch{return(0,l.vV)("".concat(R,": Unable do get currency conversion for bidResponse to Floor Currency. Do you have Currency module enabled? ").concat(ce)),ne.call(this,de,ce,ve)}return H=oe(H,ce,we),ye=pe,Ce=te,_e=H,(Se=ce).floorData={floorValue:Ce.matchingFloor,floorRule:Ce.matchingRule,floorRuleValue:Ce.floorRuleValue,floorCurrency:ye.data.currency,cpmAfterAdjustments:_e,enforcements:F({},ye.enforcement),matchedFields:{}},ye.data.schema.fields.forEach(function(Pe,Ne){Ne=Ce.matchingData.split(ye.data.schema.delimiter)[Ne],Se.floorData.matchedFields[Pe]=Ne}),De=pe,we=te,H=ce,_e=(0,I.A)(De,"enforcement.enforceJS")!==!1,De=(0,I.A)(De,"enforcement.floorDeals")===!0||!H.dealId,H=H.floorData.cpmAfterAdjustments<we.matchingFloor,_e&&H&&De?(ve(ee.Tf.FLOOR_NOT_MET),void(0,l.JE)("".concat(R,": ").concat(ce.bidderCode,"'s Bid Response for ").concat(de," was rejected due to floor not met (adjusted cpm: ").concat((pe=ce==null?void 0:ce.floorData)==null?void 0:pe.cpmAfterAdjustments,", floor: ").concat(te==null?void 0:te.matchingFloor,")"),ce)):ne.call(this,de,ce,ve)});function se(ne,de,ce){var ve,pe=de.currency,pe=pe===void 0?L.$W.getConfig("currency.adServerCurrency")||"USD":pe,we=de.mediaType,we=we===void 0?"*":we,te=de.size,te=te===void 0?"*":te;if(typeof ne.getFloor=="function"){try{ve=ne.getFloor({currency:pe,mediaType:we,size:te})||{}}catch{return(0,l.JE)("Cannot compute floor for bid",ne)}ve.floor=parseFloat(ve.floor),ve.currency!=null&&ve.floor&&!isNaN(ve.floor)&&ce(ve.floor,ve.currency)}}L.$W.getConfig("floors",function(ne){var de;de=ne.floors,(T=(0,l.Up)(de,["floorMin","enabled",function(ce){return ce!==!1},"auctionDelay",function(ce){return ce||0},"floorProvider",function(ce){return(0,I.A)(de,"data.floorProvider",ce)},"endpoint",function(ce){return ce||{}},"skipRate",function(){return isNaN((0,I.A)(de,"data.skipRate"))?de.skipRate||0:de.data.skipRate},"enforcement",function(ce){return(0,l.Up)(ce||{},["enforceJS",function(ve){return ve!==!1},"enforcePBS",function(ve){return ve===!0},"floorDeals",function(ve){return ve===!0},"bidAdjustment",function(ve){return ve!==!1},"noFloorSignalBidders",function(ve){return ve||[]}])},"additionalSchemaFields",function(ce){return typeof ce=="object"&&0<Object.keys(ce).length?(ve=ce,void Object.keys(ve).forEach(function(pe){w.indexOf(pe)===-1&&typeof ve[pe]=="function"&&(w.push(pe),A[pe]=ve[pe])})):void 0;var ve},"data",function(ce){return ce&&q(ce,"setConfig")||void 0}])).enabled?((ne=T.endpoint).url&&!u?(ne.method||"GET")!=="GET"?(0,l.vV)("".concat(R,": 'GET' is the only request method supported at this time!")):(K(ne.url,{success:ue,error:me},null,{method:"GET"}),u=!0):u&&(0,l.JE)("".concat(R,": A fetch is already occuring. Skipping.")),p||(ie.on(ee.qY.AUCTION_END,function(ce){setTimeout(function(){return delete E[ce.auctionId]},3e3)}),(0,e.m)().requestBids.before(he,50),(0,O.Yn)("addBidResponse").before(Oe,(0,l.dp)()?4:50),p=!0)):((0,l.fH)("".concat(R,": Turning off module")),T={},E={},(0,O.Yn)("addBidResponse").getHooks({hook:Oe}).remove(),(0,e.m)().requestBids.getHooks({hook:he}).remove(),p=!1)}),(0,h.pS)({type:h.Tb,name:"bidfloor",fn:function(ne,de,ce){se(de,{currency:ce.currency,mediaType:ce.mediaType||"*",size:"*"},function(ve,pe){Object.assign(ne,{bidfloor:ve,bidfloorcur:pe})})}}),(0,h.pS)({type:h.Tb,name:"extBidfloor",fn:function(ne,de,ce){var ve;function pe(we,te){we===ne.bidfloor&&te===ne.bidfloorcur||((0,x.J)(this,"ext.bidfloor",we),(0,x.J)(this,"ext.bidfloorcur",te))}Object.values(X.GE).filter(function(we){return ne[we]!=null}).forEach(function(we){se(de,{currency:ne.bidfloorcur||(ce==null?void 0:ce.currency),mediaType:we},pe.bind(ne[we]))}),(((ve=ne[X.D4])==null?void 0:ve.format)||[]).filter(function(we){return we.w!=null&&we.h!=null}).forEach(function(we){se(de,{currency:ne.bidfloorcur||(ce==null?void 0:ce.currency),mediaType:X.D4,size:[we.w,we.h]},pe.bind(we))})},priority:-10}),(0,h.pS)({type:h.Tb,name:"extPrebidFloors",fn:function(ne,de,ce){var ve,pe,we,te,H;ne.bidfloor!=null&&(ve=(pe=ce.reqContext.floorMin||{}).floorMinCur,pe=pe.floorMin,ve==null&&(ve=ne.bidfloorcur),H=((H=(H=(H=ne.ext)==null?void 0:H.prebid)==null?void 0:H.floors)==null?void 0:H.floorMinCur)||((H=(H=ne.ext)==null?void 0:H.prebid)==null?void 0:H.floorMinCur)||ve,te=((te=(te=(te=ne.ext)==null?void 0:te.prebid)==null?void 0:te.floors)==null?void 0:te.floorMin)||((te=(te=ne.ext)==null?void 0:te.prebid)==null?void 0:te.floorMin),we=(0,M.hZ)(ne.bidfloor,ne.bidfloorcur,ve),te=!(!te||!H)&&(0,M.hZ)(te,H,ve),(0,x.J)(ne,"ext.prebid.floors.floorMin",H=te&&te<we?te:we),ce.reqContext.floorMin={floorMin:pe=pe==null||H<pe?H:pe,floorMinCur:ve})},dialects:[h.e4],priority:-1}),(0,h.pS)({type:h.S3,name:"extPrebidFloors",fn:function(ne,de,ce){var ve;p&&(0,x.J)(ne,"ext.prebid.floors.enabled",((ve=(ve=(ve=ne.ext)==null?void 0:ve.prebid)==null?void 0:ve.floors)==null?void 0:ve.enabled)||!1),ce!=null&&ce.floorMin&&(0,l.D9)(ne,{ext:{prebid:{floors:ce.floorMin}}})},dialects:[h.e4]}),(0,e.E)("priceFloors")}},function(s){s.O(0,[802,3005,1225,5957,2139,1085],function(){return s(s.s=9433)}),s.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[1252],{3990:function(s,$,a){var o,r=a(7873),e=a(1069),l=a(433),I=a(3172),x=a(7377),L=a(1371),g=a(3272),ie=a(5789),ee=a(2693),O=a(8969),f="PubMatic: ",c=void 0,_="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),C="Video.plcmt param missing",h={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},D={NUMBER:"number",STRING:"string",BOOLEAN:"boolean",ARRAY:"array",OBJECT:"object"},U={mimes:D.ARRAY,minduration:D.NUMBER,maxduration:D.NUMBER,startdelay:D.NUMBER,playbackmethod:D.ARRAY,api:D.ARRAY,protocols:D.ARRAY,w:D.NUMBER,h:D.NUMBER,battr:D.ARRAY,linearity:D.NUMBER,placement:D.NUMBER,plcmt:D.NUMBER,minbitrate:D.NUMBER,maxbitrate:D.NUMBER,skip:D.NUMBER,pos:D.NUMBER},k={ICON:1,IMAGE:3},M={battr:D.ARRAY,pos:D.NUMBER},Y={1:"PMP",5:"PREF",6:"PMPG"},X={bootstrapPlayer:function(J){var z={code:J.adUnitCode};if(J.vastXml?z.vastXml=J.vastXml:J.vastUrl&&(z.vastUrl=J.vastUrl),J.vastXml||J.vastUrl){for(var re,ge=X.getRendererId("pubmatic",J.rendererCode),J=document.getElementById(J.adUnitCode),W=0;W<window.bluebillywig.renderers.length;W++)if(window.bluebillywig.renderers[W]._id===ge){re=window.bluebillywig.renderers[W];break}re?re.bootstrap(z,J):(0,e.JE)("".concat(f,": Couldn't find a renderer with ").concat(ge))}else(0,e.JE)("".concat(f,": No vastXml or vastUrl on bid, bailing..."))},newRenderer:function(J,z){var re=_.replace("$RENDERER",J),re=ie.A4.install({url:re,loaded:!1,adUnitCode:z});try{re.setRender(X.outstreamRender)}catch(ge){(0,e.JE)("".concat(f,": Error tying to setRender on renderer"),ge)}return re},outstreamRender:function(J){J.renderer.push(function(){X.bootstrapPlayer(J)})},getRendererId:function(J,z){return"".concat(J,"-").concat(z)}},P=[L.D4,L.G_,L.s6],R={banner:360,video:1800,native:1800},K=0,Q=!1,w=["pubmatic"],u=["all"];function p(J,z){if(!(0,e.O8)(z))return z&&(0,e.JE)(f+"Ignoring param key: "+J+", expects string-value, found "+typeof z),c;switch(J){case"pmzoneid":return z.split(",").slice(0,50).map(function(re){return re.trim()}).join();case"kadfloor":case"lat":case"lon":return parseFloat(z)||c;case"yob":return parseInt(z)||c;default:return z}}function T(W,z,re){var ge,W="Ignoring param key: "+W+", expects "+re+", found "+typeof z;switch(re){case D.BOOLEAN:ge=e.Lm;break;case D.NUMBER:ge=e.Et;break;case D.STRING:ge=e.O8;break;case D.ARRAY:ge=e.cy}return ge(z)?z:((0,e.JE)(f+W),c)}var m={desc:"desc",desc2:"desc2",body:"desc",body2:"desc2",sponsoredBy:"sponsored",cta:"ctatext",rating:"rating",address:"address",downloads:"downloads",likes:"likes",phone:"phone",price:"price",salePrice:"saleprice",displayUrl:"displayurl",saleprice:"saleprice",displayurl:"displayurl"},E=Object.values(m);function S(J){if(J.ortb){J=J.ortb;var z=F(F({ver:"1.2"},J),{assets:[]}),re=J.assets,ge=function(W){return W.title||W.img||W.data||W.video};if(re.length<1||!re.some(ge))return(0,e.JE)("".concat(f,": Native assets object is empty or contains some invalid object")),Q=!0,z;re.forEach(function(W){W.img&&(W.img.type==k.IMAGE?(W.w=W.w||W.width||(W.sizes?W.sizes[0]:c),W.h=W.h||W.height||(W.sizes?W.sizes[1]:c),W.wmin=W.wmin||W.minimumWidth||(W.minsizes?W.minsizes[0]:c),W.hmin=W.hmin||W.minimumHeight||(W.minsizes?W.minsizes[1]:c)):W.img.type==k.ICON&&(W.w=W.w||W.width||(W.sizes?W.sizes[0]:c),W.h=W.h||W.height||(W.sizes?W.sizes[1]:c))),W&&W.id!==void 0&&ge(W)&&z.assets.push(W)})}else z=(W=>{if(W||(0,e.Qd)(W)){var Z,j,N,q,he,ue={ver:"1.2",assets:[]};for(Z in W)O._B.includes(Z)||(O.x5.hasOwnProperty(Z)||E.includes(Z)?(N=0,(j=W[Z]).required&&(0,e.Lm)(j.required)&&(N=Number(j.required)),N={id:ue.assets.length,required:N},Z in m?(N.data={type:O.jO[m[Z]]},(j.len||j.length)&&(N.data.len=j.len||j.length),j.ext&&(N.data.ext=j.ext)):Z==="icon"||Z==="image"?(N.img={type:Z==="icon"?O.oA.ICON:O.oA.MAIN},j.aspect_ratios&&((0,e.cy)(j.aspect_ratios)?j.aspect_ratios.length?(he=(q=j.aspect_ratios[0]).min_width,q=q.min_height,(0,e.Fq)(he)&&(0,e.Fq)(q)?(N.img.wmin=he,N.img.hmin=q):(0,e.JE)("".concat(f,": image.aspect_ratios min_width or min_height are invalid: ").concat(he,", ").concat(q)),0<(he=j.aspect_ratios.filter(function(me){return me.ratio_width&&me.ratio_height}).map(function(me){return"".concat(me.ratio_width,":").concat(me.ratio_height)})).length&&(N.img.ext={aspectratios:he})):(0,e.JE)("".concat(f,": image.aspect_ratios was passed, but it's empty: ").concat(j.aspect_ratios)):(0,e.JE)("".concat(f,": image.aspect_ratios was passed, but it's not a an array: ").concat(j.aspect_ratios))),N.img.w=j.w||j.width,N.img.h=j.h||j.height,N.img.wmin=j.wmin||j.minimumWidth||(j.minsizes?j.minsizes[0]:c),N.img.hmin=j.hmin||j.minimumHeight||(j.minsizes?j.minsizes[1]:c),j.sizes&&(j.sizes.length===2&&(0,e.Fq)(j.sizes[0])&&(0,e.Fq)(j.sizes[1])?((0,e.fH)("".concat(f,": if asset.sizes exist, by OpenRTB spec we should remove wmin and hmin")),N.img.w=j.sizes[0],N.img.h=j.sizes[1],delete N.img.hmin,delete N.img.wmin):(0,e.JE)("".concat(f,": image.sizes was passed, but its value is not an array of integers: ").concat(j.sizes))),j.ext&&(N.img.ext=j.ext),j.mimes&&(N.img.mimes=j.mimes)):Z==="title"?(N.title={len:j.len||j.length||140},j.ext&&(N.title.ext=j.ext)):Z==="ext"&&(N.ext=j,delete N.required),ue.assets.push(N)):(0,e.JE)("".concat(f,": Unrecognized native asset code: ").concat(Z,". Asset will be ignored.")));return ue.assets.length<1?((0,e.JE)("".concat(f,": Could not find any valid asset")),void(Q=!0)):ue}(0,e.JE)("".concat(f,": Native assets object is empty or not an object: ").concat(W)),Q=!0})(J);return z}function A(J,te){var re,ge,W,Z,j,N,q,he,ue,me,Oe,se,ne,de={},ce={},ve=J.hasOwnProperty("sizes")?J.sizes:[],pe="",we=[],te=(te=te==null?void 0:te.paapi)==null?void 0:te.enabled,H=(Z=de={id:J.bidId,tagid:J.params.adUnit||void 0,bidfloor:p("kadfloor",J.params.kadfloor),secure:1,ext:{pmZoneId:p("pmzoneid",J.params.pmzoneid)},bidfloorcur:J.params.currency?p("currency",J.params.currency):"USD",displaymanager:"Prebid.js",displaymanagerver:"9.37.0",pmp:((se=J.ortb2Imp)==null?void 0:se.pmp)||void 0},(se=J).params.deals&&((0,e.cy)(se.params.deals)?se.params.deals.forEach(function(_e){(0,e.O8)(_e)&&3<_e.length?(Z.pmp||(Z.pmp={private_auction:0,deals:[]}),Z.pmp.deals.push({id:_e})):(0,e.JE)(f+"Error: deal-id present in array bid.params.deals should be a strings with more than 3 charaters length, deal-id ignored: "+_e)}):(0,e.JE)(f+"Error: bid.params.deals should be an array of strings.")),se=de,W="",J.params.dctr&&(W=J.params.dctr,(0,e.O8)(W)&&0<W.length?(H=W.split("|"),W="",H.forEach(function(_e){W+=0<_e.length?_e.trim()+"|":""}),H=W.length,W.substring(H,H-1)==="|"&&(W=W.substring(0,H-1)),se.ext.key_val=W.trim()):(0,e.JE)(f+"Ignoring param : dctr with value : "+W+", expects string-value, found empty or non-string value")),de),ye=J.rtd&&J.rtd.jwplayer&&J.rtd.jwplayer.targeting||void 0,Ce="";if(ye!==void 0&&ye!==""&&ye.hasOwnProperty("segments")){var Se=ye.segments.length;Ce+="jw-id="+ye.content.id;for(var De=0;De<Se;De++)Ce+="|jw-"+ye.segments[De]+"=1";(H=H.ext)&&H.key_val===void 0?H.key_val=Ce:H.key_val+="|"+Ce}if(J.hasOwnProperty("mediaTypes"))for(pe in J.mediaTypes)switch(pe){case L.D4:(re=(_e=>{var Pe,Ne=_e.mediaTypes.banner.sizes,We=[];if(Ne!==c&&(0,e.cy)(Ne)){if(Pe={},_e.params.width||_e.params.height)Pe.w=_e.params.width,Pe.h=_e.params.height;else{if(Ne.length===0)return Pe=c,(0,e.JE)(f+"Error: mediaTypes.banner.size missing for adunit: "+_e.params.adUnit+". Ignoring the banner impression in the adunit."),Pe;Pe.w=parseInt(Ne[0][0],10),Pe.h=parseInt(Ne[0][1],10),Ne=Ne.splice(1,Ne.length-1)}0<Ne.length&&(We=[],Ne.forEach(function(Me){1<Me.length&&We.push({w:Me[0],h:Me[1]})}),0<We.length)&&(Pe.format=We),Pe.pos=0,Pe.topframe=(0,e.al)()?0:1;var Ue,xe=F({},(0,l.A)(_e,"ortb2Imp.banner"));for(Ue in M)xe.hasOwnProperty(Ue)&&(Pe[Ue]=T(Ue,xe[Ue],M[Ue]))}else(0,e.JE)(f+"Error: mediaTypes.banner.size missing for adunit: "+_e.params.adUnit+". Ignoring the banner impression in the adunit."),Pe=c;return Pe})(J))!==c&&(de.banner=re);break;case L.s6:ce.request=JSON.stringify(S(J.nativeParams)),Q?((0,e.JE)(f+"Error: Error in Native adunit "+J.params.adUnit+". Ignoring the adunit. Refer to http://prebid.org/dev-docs/show-native-ads.html for more details."),Q=!1):de.native=ce;break;case L.G_:(ge=(_e=>{var Pe,Ne,We=(0,e.D9)((0,l.A)(_e.mediaTypes,"video"),_e.params.video);if(We!==c){for(var Ue in Pe={},Ne=_e.adUnitCode,(0,l.A)(We,"plcmt")||(0,e.JE)(C+" for "+Ne),U)We.hasOwnProperty(Ue)&&(Pe[Ue]=T(Ue,We[Ue],U[Ue]));(0,e.cy)(_e.mediaTypes.video.playerSize[0])?(Pe.w=parseInt(_e.mediaTypes.video.playerSize[0][0],10),Pe.h=parseInt(_e.mediaTypes.video.playerSize[0][1],10)):(0,e.Et)(_e.mediaTypes.video.playerSize[0])&&(Pe.w=parseInt(_e.mediaTypes.video.playerSize[0],10),Pe.h=parseInt(_e.mediaTypes.video.playerSize[1],10))}else Pe=c,(0,e.JE)(f+"Error: Video config params missing for adunit: "+_e.params.adUnit+" with mediaType set as video. Ignoring video impression in the adunit.");return Pe})(J))!==c&&(de.video=ge)}else re={pos:0,w:J.params.width,h:J.params.height,topframe:(0,e.al)()?0:1},(0,e.cy)(ve)&&1<ve.length&&((ve=ve.splice(1,ve.length-1)).forEach(function(_e){we.push({w:_e[0],h:_e[1]})}),re.format=we),de.banner=re;return Oe=de,se=J,ne=F({},(0,l.A)(se,"ortb2Imp.ext.data")),Object.keys(ne).forEach(function(_e){_e==="pbadslot"?typeof ne[_e]=="string"&&ne[_e]&&(0,I.J)(Oe,"ext.data.pbadslot",ne[_e]):_e==="adserver"?["name","adslot"].forEach(function(Pe){var Ne=(0,l.A)(ne,"adserver.".concat(Pe));typeof Ne=="string"&&Ne&&((0,I.J)(Oe,"ext.data.adserver.".concat(Pe.toLowerCase()),Ne),Pe==="adslot")&&(0,I.J)(Oe,"ext.dfp_ad_unit_code",Ne)}):(0,I.J)(Oe,"ext.data.".concat(_e),ne[_e])}),(se=(0,l.A)(se,"ortb2Imp.ext.gpid"))&&(0,I.J)(Oe,"ext.gpid",se),N=de,q=J,ue=-1,ve=Object.keys(q.mediaTypes),me=1<ve.length,typeof q.getFloor!="function"||g.$W.getConfig("pubmatic.disableFloors")||[L.D4,L.G_,L.s6].forEach(function(_e){var Pe;N.hasOwnProperty(_e)&&(Pe=[],_e==="banner"&&(N[_e].w&&N[_e].h&&Pe.push([N[_e].w,N[_e].h]),(0,e.cy)(N[_e].format))&&N[_e].format.forEach(function(Ne){return Pe.push([Ne.w,Ne.h])}),Pe.length===0&&Pe.push("*"),Pe.forEach(function(Ne){var We=q.getFloor({currency:N.bidfloorcur,mediaType:_e,size:Ne});(0,e.fH)(f,"floor from floor module returned for mediatype:",_e," and size:",Ne," is: currency",We.currency,"floor",We.floor),(0,e.Qd)(We)&&We.currency===N.bidfloorcur&&!isNaN(parseInt(We.floor))&&(Ne=parseFloat(We.floor),me&&_e!==L.D4&&((0,e.fH)(f,"floor from floor module returned for mediatype:",_e,"is : ",Ne,"with currency :",N.bidfloorcur),N[_e].ext={bidfloor:Ne,bidfloorcur:N.bidfloorcur}),(0,e.fH)(f,"floor from floor module:",Ne,"previous floor value",ue,"Min:",Math.min(Ne,ue)),ue=ue===-1?Ne:Math.min(Ne,ue),(0,e.fH)(f,"new floor value:",ue))}),me)&&_e===L.D4&&(N[_e].ext={bidfloor:ue,bidfloorcur:N.bidfloorcur})}),N.bidfloor&&((0,e.fH)(f,"floor from floor module:",ue,"impObj.bidfloor",N.bidfloor,"Max:",Math.max(ue,N.bidfloor)),ue=Math.max(ue,N.bidfloor)),N.bidfloor=!isNaN(ue)&&0<ue?ue:c,(0,e.fH)(f,"new impObj.bidfloor value:",N.bidfloor),me&&(he=N,ve.forEach(function(_e){var Pe;(Pe=he[_e])!=null&&Pe.ext&&he[_e].ext.bidfloor===he.bidfloor&&he[_e].ext.bidfloorcur===he.bidfloorcur&&delete he[_e].ext})),se=de,ve=J,te?(se.ext=se.ext||{},((j=(j=ve==null?void 0:ve.ortb2Imp)==null?void 0:j.ext)==null?void 0:j.ae)!==void 0&&(se.ext.ae=ve.ortb2Imp.ext.ae)):(j=se.ext)!=null&&j.ae&&delete se.ext.ae,de.hasOwnProperty(L.D4)||de.hasOwnProperty(L.s6)||de.hasOwnProperty(L.G_)?de:c}function B(J,z){0<(z=z.filter(function(re){return typeof re=="string"||((0,e.JE)(f+"acat: Each category should be a string, ignoring category: "+re),!1)}).map(function(re){return re.trim()}).filter(function(re,ge,W){return W.indexOf(re)===ge})).length&&((0,e.JE)(f+"acat: Selected: ",z),J.ext.acat=z)}function oe(J){return(0,e.cy)(J)===!0&&0<J.length}a={code:"pubmatic",gvlid:76,supportedMediaTypes:[L.D4,L.G_,L.s6],isBidRequestValid:function(J){if(J&&J.params){if(!(0,e.O8)(J.params.publisherId))return(0,e.JE)(f+"Error: publisherId is mandatory and cannot be numeric (wrap it in quotes in your config). Call to OpenBid will not be sent for ad unit: "+JSON.stringify(J)),!1;if(J.hasOwnProperty("mediaTypes")&&J.mediaTypes.hasOwnProperty(L.G_)){var z=(0,l.A)(J.mediaTypes,"video.mimes"),re=(0,l.A)(J,"params.video.mimes");if(oe(z)===!1&&oe(re)===!1)return(0,e.JE)(f+"Error: For video ads, bid.mediaTypes.video.mimes OR bid.params.video.mimes should be present and must be a non-empty array. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(J)),!1;if(!J.mediaTypes[L.G_].hasOwnProperty("context"))return(0,e.vV)("".concat(f,": no context specified in bid. Rejecting bid: "),J),!1;if(J.mediaTypes[L.G_].context==="outstream"&&!(0,e.O8)(J.params.outstreamAU)&&!J.hasOwnProperty("renderer")&&!J.mediaTypes[L.G_].hasOwnProperty("renderer"))return J.mediaTypes.hasOwnProperty(L.D4)||J.mediaTypes.hasOwnProperty(L.s6)?(delete J.mediaTypes[L.G_],(0,e.JE)("".concat(f,': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting mediatype Video of bid: '),J),!0):((0,e.vV)("".concat(f,': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting bid: '),J),!1)}return!0}return!1},buildRequests:function(J,z){var re;z&&z.refererInfo&&(re=z.refererInfo);var ge,W,Z,j,N,q,he,ue,me,Oe={pageURL:((ue=re)==null?void 0:ue.page)||window.location.href,refURL:(ue==null?void 0:ue.ref)||window.document.referrer},se=(ue=Oe,{id:""+new Date().getTime(),at:1,cur:["USD"],imp:[],site:{page:ue.pageURL,ref:ue.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:navigator.doNotTrack=="yes"||navigator.doNotTrack=="1"||navigator.msDoNotTrack=="1"?1:0,h:screen.height,w:screen.width,language:navigator.language,connectiontype:(()=>{var we=window.navigator&&(window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection);switch(we==null?void 0:we.effectiveType){case"ethernet":return 1;case"wifi":return 2;case"slow-2g":case"2g":return 4;case"3g":return 5;case"4g":return 6;default:return 0}})()},user:{},ext:{}}),ne="",de=[],ce=[],ve=[],pe=(0,e.lk)();if(J.forEach(function(we){we.params.wiid=we.params.wiid||z.auctionId||pe,(ge=(0,e.Go)(we)).params.adSlot=ge.params.adSlot||"",(te=>{te.params.adUnit="",te.params.adUnitIndex="0",te.params.width=0,te.params.height=0,te.params.adSlot=(ye=te.params.adSlot,(0,e.O8)(ye)?ye.replace(/^\s+/g,"").replace(/\s+$/g,""):(ye&&(0,e.JE)("pubmatic: adSlot must be a string. Ignoring adSlot"),""));var H=(ye=te.params.adSlot).split(":"),ye=H[0];if(H.length==2&&(te.params.adUnitIndex=H[1]),H=ye.split("@"),te.params.adUnit=H[0],1<H.length){if((H=H[1].split("x")).length!=2)return(0,e.JE)(f+"AdSlot Error: adSlot not in required format");te.params.width=parseInt(H[0],10),te.params.height=parseInt(H[1],10)}else if(te.hasOwnProperty("mediaTypes")&&te.mediaTypes.hasOwnProperty(L.D4)&&te.mediaTypes.banner.hasOwnProperty("sizes")){for(var Ce=0,Se=[];Ce<te.mediaTypes.banner.sizes.length;Ce++)te.mediaTypes.banner.sizes[Ce].length===2&&Se.push(te.mediaTypes.banner.sizes[Ce]);te.mediaTypes.banner.sizes=Se,1<=te.mediaTypes.banner.sizes.length&&(te.params.width=te.mediaTypes.banner.sizes[0][0],te.params.height=te.mediaTypes.banner.sizes[0][1],te.mediaTypes.banner.sizes=te.mediaTypes.banner.sizes.splice(1,te.mediaTypes.banner.sizes.length-1))}})(ge),ge.mediaTypes&&ge.mediaTypes.hasOwnProperty("video")||ge.params.hasOwnProperty("video")||ge.hasOwnProperty("mediaTypes")&&ge.mediaTypes.hasOwnProperty(L.s6)||ge.params.width!==0||ge.params.height!==0?(Oe.pubId=Oe.pubId||ge.params.publisherId,(Oe=((te,H)=>{var ye,Ce,Se;for(ye in H.kadpageurl||(H.kadpageurl=H.pageURL),h)h.hasOwnProperty(ye)&&(Ce=te[ye])&&(typeof(Se=h[ye])=="object"&&(Ce=Se.f(Ce,H)),(0,e.O8)(Ce)?H[ye]=Ce:(0,e.JE)(f+"Ignoring param : "+ye+" with value : "+h[ye]+", expects string-value, found "+typeof Ce));return H})(ge.params,Oe)).transactionId=(we=(we=ge.ortb2Imp)==null?void 0:we.ext)==null?void 0:we.tid,ne===""?ne=ge.params.currency||c:ge.params.hasOwnProperty("currency")&&ne!==ge.params.currency&&(0,e.JE)(f+"Currency specifier ignored. Only one currency permitted."),ge.params.currency=ne,ge.params.hasOwnProperty("dctr")&&(0,e.O8)(ge.params.dctr)&&de.push(ge.params.dctr),ge.params.hasOwnProperty("bcat")&&(0,e.cy)(ge.params.bcat)&&(ce=ce.concat(ge.params.bcat)),ge.params.hasOwnProperty("acat")&&(0,e.cy)(ge.params.acat)&&(ve=ve.concat(ge.params.acat)),(we=A(ge,z))&&se.imp.push(we)):(0,e.JE)(f+"Skipping the non-standard adslot: ",ge.params.adSlot,JSON.stringify(ge))}),se.imp.length!=0)return se.site.publisher.id=Oe.pubId.trim(),K=Oe.pubId.trim(),se.ext.wrapper={},se.ext.wrapper.profile=parseInt(Oe.profId)||c,se.ext.wrapper.version=parseInt(Oe.verId)||c,se.ext.wrapper.wiid=Oe.wiid||z.auctionId,se.ext.wrapper.wv="prebid_prebid_9.37.0",se.ext.wrapper.transactionId=Oe.transactionId,se.ext.wrapper.wp="pbjs",se.ext.cpmAdjustment=o,(ue=z?ee.u.get(z.bidderCode,"allowAlternateBidderCodes"):void 0)!==void 0&&(se.ext.marketplace={},z&&ue==1&&(ue=ee.u.get(z.bidderCode,"allowedAlternateBidderCodes"),w=!(0,e.cy)(ue)||(ue=ue.map(function(we){return we.trim().toLowerCase()}).filter(function(we){return!!we}).filter(e.hj)).includes("*")?u:be(be([],w,!0),ue,!0)),se.ext.marketplace.allowedbidders=w.filter(e.hj)),se.user.gender=Oe.gender?Oe.gender.trim():c,se.user.geo={},se.user.yob=p("yob",Oe.yob),se.site.page=Oe.kadpageurl.trim()||se.site.page.trim(),se.site.domain=(ue=se.site.page,(me=document.createElement("a")).href=ue,me.hostname),typeof g.$W.getConfig("content")=="object"&&(se.site.content=g.$W.getConfig("content")),typeof g.$W.getConfig("device")=="object"&&(se.device=Object.assign(se.device,g.$W.getConfig("device"))),se.device.language=se.device.language&&se.device.language.split("-")[0],(0,I.J)(se,"source.tid",(me=(ue=z==null?void 0:z.ortb2)==null?void 0:ue.source)==null?void 0:me.tid),window.location.href.indexOf("pubmaticTest=true")!==-1&&(se.test=1),J[0].schain&&(0,I.J)(se,"source.ext.schain",J[0].schain),z&&z.gdprConsent&&((0,I.J)(se,"user.ext.consent",z.gdprConsent.consentString),(0,I.J)(se,"regs.ext.gdpr",z.gdprConsent.gdprApplies?1:0)),z&&z.uspConsent&&(0,I.J)(se,"regs.ext.us_privacy",z.uspConsent),(ue=z==null?void 0:z.gppConsent)!=null&&ue.gppString?((0,I.J)(se,"regs.gpp",z.gppConsent.gppString),(0,I.J)(se,"regs.gpp_sid",z.gppConsent.applicableSections)):(ue=(me=z==null?void 0:z.ortb2)==null?void 0:me.regs)!=null&&ue.gpp&&((0,I.J)(se,"regs.gpp",z.ortb2.regs.gpp),(0,I.J)(se,"regs.gpp_sid",z.ortb2.regs.gpp_sid)),g.$W.getConfig("coppa")===!0&&(0,I.J)(se,"regs.coppa",1),(me=(ue=(me=z==null?void 0:z.ortb2)==null?void 0:me.regs)==null?void 0:ue.ext)!=null&&me.dsa&&(0,I.J)(se,"regs.ext.dsa",z.ortb2.regs.ext.dsa),ue=se,me=(0,l.A)(J,"0.userIdAsEids"),(0,e.cy)(me)&&0<me.length&&(0,I.J)(ue,"user.eids",me),ue=(J=z&&z.ortb2||{}).user,me=J.device,W=J.bcat,Z=J.badv,(he=J.site)&&(j=(q=se.site).page,N=q.domain,q=q.ref,(0,e.D9)(se,{site:he}),se.site.page=j,se.site.domain=N,se.site.ref=q),ue&&(0,e.D9)(se,{user:ue}),Z&&(0,e.D9)(se,{badv:Z}),W&&(ce=ce.concat(W)),me!=null&&me.sua&&(se.device.sua=me==null?void 0:me.sua),(he=me==null?void 0:me.ext)!=null&&he.cdep&&(0,I.J)(se,"device.ext.cdep",me.ext.cdep),ue!=null&&ue.geo&&me!=null&&me.geo?(se.device.geo=F(F({},se.device.geo),me.geo),se.user.geo=F(F({},se.user.geo),ue.geo)):(ue!=null&&ue.geo||me!=null&&me.geo)&&(se.user.geo=se.device.geo=ue!=null&&ue.geo?F(F({},se.user.geo),ue.geo):F(F({},se.user.geo),me.geo)),(j=z==null?void 0:z.ortb2)!=null&&j.device&&(0,e.D9)(se.device,z.ortb2.device),(W=(Z=(q=(N=J.ext)==null?void 0:N.prebid)==null?void 0:q.bidderparams)==null?void 0:Z[z.bidderCode])!=null&&W.acat?(he=J.ext.prebid.bidderparams[z.bidderCode].acat,B(se,he)):ve.length&&B(se,ve),ue=se,0<(me=(me=ce).filter(function(we){return typeof we=="string"||((0,e.JE)(f+"bcat: Each category should be a string, ignoring category: "+we),!1)}).map(function(we){return we.trim()}).filter(function(we,te,H){if(3<we.length)return H.indexOf(we)===te;(0,e.JE)(f+"bcat: Each category should have a value of a length of more than 3 characters, ignoring category: "+we)})).length&&((0,e.JE)(f+"bcat: Selected: ",me),ue.bcat=me),se.tmax=z!=null&&z.timeout?z.timeout:(N=(j=window==null?void 0:window.PWT)==null?void 0:j.versionDetails)==null?void 0:N.timeout,se.ext.epoch=new Date().getTime(),typeof g.$W.getConfig("app")=="object"&&(se.app=g.$W.getConfig("app"),se.app.publisher=se.site.publisher,se.app.ext=se.site.ext||c,typeof se.app.content!="object"&&(se.app.content=se.site.content||c),delete se.site),{method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(se),bidderRequest:z}},interpretResponse:function(J,z){var re,ge=[],W=JSON.parse(z.data),Z=W.site&&W.site.ref?W.site.ref:"";try{J.body&&J.body.seatbid&&(0,e.cy)(J.body.seatbid)&&(re=J.body.cur||"USD",J.body.seatbid.forEach(function(N){N.bid&&(0,e.cy)(N.bid)&&N.bid.forEach(function(q){var he={requestId:q.impid,cpm:parseFloat((q.price||0).toFixed(2)),width:q.w,height:q.h,creativeId:q.crid||q.id,dealId:q.dealid,currency:re,netRevenue:!0,ttl:360,referrer:Z,ad:q.adm,pm_seat:N.seat||null,pm_dspid:q.ext&&q.ext.dspid?q.ext.dspid:null,partnerImpId:q.id||""},ue=(W.imp&&0<W.imp.length&&W.imp.forEach(function(se){if(q.impid===se.id)switch(((Pe,Ne)=>{if(Pe.ext&&Pe.ext.bidtype!=null)Ne.mediaType=P[Pe.ext.bidtype];else{(0,e.fH)(f+"bid.ext.bidtype does not exist, checking alternatively for mediaType");var We,Ue=Pe.adm,xe=new RegExp(/VAST\s+version/);if(0<=Ue.indexOf('span class="PubAPIAd"'))Ne.mediaType=L.D4;else if(xe.test(Ue))Ne.mediaType=L.G_;else try{(We=JSON.parse(Ue.replace(/\\/g,"")))&&We.native&&(Ne.mediaType=L.s6)}catch{(0,e.JE)(f+"Error: Cannot parse native reponse for ad response: "+Ue)}}})(q,he),De=he,_e=R[De==null?void 0:De.mediaType]||360,De.ttl=q.exp||_e,he.mediaType){case L.D4:break;case L.G_:he.width=(q.hasOwnProperty("w")?q:se.video).w,he.height=(q.hasOwnProperty("h")?q:se.video).h,he.vastXml=q.adm;var ne,de,ce,ve=he,pe=z;if(pe.bidderRequest&&pe.bidderRequest.bids){for(var we=0;we<pe.bidderRequest.bids.length;we++)pe.bidderRequest.bids[we].bidId===ve.requestId&&(ne=pe.bidderRequest.bids[we].params,de=pe.bidderRequest.bids[we].mediaTypes[L.G_].context,ce=pe.bidderRequest.bids[we].adUnitCode);de&&de==="outstream"&&ne&&ne.outstreamAU&&ce&&(ve.rendererCode=ne.outstreamAU,ve.renderer=X.newRenderer(ve.rendererCode,ce))}H=he,(Ce=(ye=q)==null?void 0:ye.ext)!=null&&Ce.prebiddealpriority&&(Ce=(0,e.D4)(H.requestId,[z.bidderRequest]),((Ce=(0,l.A)(Ce,"mediaTypes.video"))==null?void 0:Ce.context)==L.LM)&&(Se=((Se=(Se=ye==null?void 0:ye.ext)==null?void 0:Se.video)==null?void 0:Se.duration)||(Ce==null?void 0:Ce.maxduration),H.video={context:L.LM,durationSeconds:Se,dealTier:ye.ext.prebiddealpriority});break;case L.s6:var te=q,Ce=he;if(te.hasOwnProperty("adm")){H="";try{H=JSON.parse(te.adm.replace(/\\/g,""))}catch{return void(0,e.JE)(f+"Error: Cannot parse native reponse for ad response: "+Ce.adm)}Ce.native={ortb:F({},H.native)},Ce.mediaType=L.s6,Ce.width||(Ce.width=0),Ce.height||(Ce.height=0)}return}var H,ye,Ce,Se,De,_e}),he),me=q,Oe=N.seat;ue.meta=ue.meta||{},me.ext&&me.ext.dspid&&(ue.meta.networkId=me.ext.dspid,ue.meta.demandSource=me.ext.dspid),me.ext&&me.ext.dchain&&(ue.meta.dchain=me.ext.dchain),(Oe=Oe||me.ext&&me.ext.advid)&&(ue.meta.advertiserId=Oe,ue.meta.agencyId=Oe,ue.meta.buyerId=Oe),me.adomain&&oe(me.adomain)&&(ue.meta.advertiserDomains=me.adomain,ue.meta.clickUrl=me.adomain[0],ue.meta.brandId=me.adomain[0]),me.cat&&oe(me.cat)&&(ue.meta.secondaryCatIds=me.cat,ue.meta.primaryCatId=me.cat[0]),me.ext&&me.ext.dsa&&Object.keys(me.ext.dsa).length&&(ue.meta.dsa=me.ext.dsa),ue.mediaType&&(ue.meta.mediaType=ue.mediaType),Oe=he,(ue=(me=q)==null?void 0:me.ext)!=null&&ue.ibv&&(Oe.ext=Oe.ext||{},Oe.ext.ibv=me.ext.ibv,Oe.meta=Oe.meta||{},Oe.meta.mediaType=L.G_),q.ext&&q.ext.deal_channel&&(he.dealChannel=Y[q.ext.deal_channel]||null),N.ext&&N.ext.buyid&&(he.adserverTargeting={hb_buyid_pubmatic:N.ext.buyid}),q.ext&&q.ext.marketplace&&(he.bidderCode=q.ext.marketplace),ge.push(he)})}));var j=(0,l.A)(J.body,"ext.fledge_auction_configs");if(j)return j=Object.entries(j).map(function(N){return{bidId:N[0],config:Object.assign({auctionSignals:{}},N[1])}}),{bids:ge,paapi:j}}catch(N){(0,e.vV)(N)}return ge},getUserSyncs:function(J,z,re,ge,W){var Z=""+K;return re&&(Z=(Z+="&gdpr="+(re.gdprApplies?1:0))+("&gdpr_consent="+encodeURIComponent(re.consentString||""))),ge&&(Z+="&us_privacy="+encodeURIComponent(ge)),W!=null&&W.gppString&&(re=W==null?void 0:W.applicableSections)!=null&&re.length&&(Z=(Z+="&gpp="+encodeURIComponent(W.gppString))+("&gpp_sid="+encodeURIComponent((ge=W==null?void 0:W.applicableSections)==null?void 0:ge.join(",")))),g.$W.getConfig("coppa")===!0&&(Z+="&coppa=1"),J.iframeEnabled?[{type:"iframe",url:"https://ads.pubmatic.com/AdServer/js/user_sync.html?kdntuid=1&p="+Z}]:[{type:"image",url:"https://image8.pubmatic.com/AdServer/ImgSync?p="+Z}]},onBidWon:function(J){var z,re,ge,W,Z,j,N;(J=J)&&(z=J.originalCurrency,W=J.cpm,re=J.originalCpm,ge=J.meta,W=z!==(N=J.currency)&&(0,e.fp)(J.getCpmInNewCurrency)?J.getCpmInNewCurrency(z):W,Z=J.mediaType,j=ge==null?void 0:ge.mediaType,o=o||{currency:N,originalCurrency:z,adjustment:[]},J={cpmAdjustment:Number(((re-W)/re).toFixed(2)),mediaType:Z,metaMediaType:j,cpm:W,originalCpm:re},(N=(ge=o==null?void 0:o.adjustment)==null?void 0:ge.findIndex(function(q){return(q==null?void 0:q.mediaType)===Z&&(q==null?void 0:q.metaMediaType)===j}))!==-1?o.adjustment.splice(N,1,J):o.adjustment.push(J))}},(0,x.a$)(a),(0,r.E)("pubmaticBidAdapter")}},function(s){s.O(0,[802,2139,1085],function(){return s(s.s=3990)}),s.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[2711],{9293:function(s,$,a){var o=a(7873),r=a(9766),e=a(981),l=a(7377),I=a(3272),x=a(1371),L=a(5789),g=a(1069),ie=a(3172),ee=a(433),O=a(8656),f=a(8702),c=I.$W.getConfig("rubicon")||{},_=(I.$W.getConfig("rubicon",function(w){(0,g.D9)(c,w.rubicon)}),{}),C={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",261:"480x480",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380",484:"720x1280",524:"1x2",548:"500x1000",550:"980x480",552:"300x200",558:"640x640",562:"300x431",564:"320x431",566:"320x300",568:"300x150",570:"300x125",572:"250x350",574:"620x891",576:"610x877",578:"980x552",580:"505x656",622:"192x160",632:"1200x450",634:"340x450",680:"970x570",682:"300x240",684:"970x550",686:"300x210",688:"300x220",690:"970x170",710:"600x250",712:"340x430"},h=((0,g.bu)(C,function(w,u){return C[w]=u}),(0,r.A)({request:function(A,u,p,B){var m,E,S=B.bidRequests,A=A(u,p,B),B=(A.cur=["USD"],A.test=I.$W.getConfig("debug")?1:0,(0,ie.J)(A,"ext.prebid.cache",{vastxml:{returnCreative:c.returnVast===!0}}),(0,ie.J)(A,"ext.prebid.bidders",{rubicon:{integration:c.int_type||"pbjs"}}),(0,ie.J)(A,"ext.prebid.targeting.pricegranularity",{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:(u=I.$W).getConfig("customPriceBucket")&&u.getConfig("customPriceBucket").buckets}[u.getConfig("priceGranularity")]}),(0,o.m)().installedModules);return!B||B.length&&B.indexOf("rubiconAnalyticsAdapter")===-1||(0,ie.J)(A,"ext.prebid.analytics",{rubicon:{"client-analytics":!0}}),m=A,u=S,B=p.ortb2,E={},B=O.D.apply(void 0,be([B],u.map(function(oe){return oe.params.keywords}),!1)),u.forEach(function(oe){var J={user:{ext:{data:F({},oe.params.visitor)}},site:{ext:{data:F({},oe.params.inventory)}}},z=m.imp.find(function(re){return(re=(re=(re=(re=(re=re.ext)==null?void 0:re.prebid)==null?void 0:re.bidder)==null?void 0:re.rubicon)==null?void 0:re.video)==null?void 0:re.language}),z=(z&&(J.site.content={language:(z=(z=(z=(z=(z=z.ext)==null?void 0:z.prebid)==null?void 0:z.bidder)==null?void 0:z.rubicon)==null?void 0:z.video)==null?void 0:z.language}),E=(0,g.D9)(E,oe.ortb2||{},J),I.$W.getConfig("user.id"));E.user.id=E.user.id||z}),(0,g.D9)(m,E),B&&B.length&&(0,ie.J)(m,"site.keywords",B.join(",")),(B=(u=m==null?void 0:m.ext)==null?void 0:u.prebid)!=null&&delete B.storedrequest,(u=(p=A==null?void 0:A.ext)==null?void 0:p.prebid)!=null&&delete u.storedrequest,c.disableFloors===!0&&delete A.ext.prebid.floors,0<S.filter(function(oe){return typeof oe.floorData=="object"}).length&&(A.ext.prebid.floors={enabled:!1}),A},imp:function(w,u,p){var T=X(u);if(!T.includes(x.D4)||T.length!=1)return(w=w(u,p)).id=u.adUnitCode,delete w.banner,u.params.position==="atf"&&w.video&&(w.video.pos=1),u.params.position==="btf"&&w.video&&(w.video.pos=3),(p=(p=w.ext)==null?void 0:p.prebid)!=null&&delete p.storedrequest,u.params.bidonmultiformat===!0&&1<T.length&&(0,ie.J)(w,"ext.prebid.bidder.rubicon.formats",T),p=u,(T=w).bidfloorcur!="USD"&&(delete T.bidfloor,delete T.bidfloorcur),T.bidfloor||(p=parseFloat((0,ee.A)(p,"params.floor")),isNaN(p))||(T.bidfloor=p,T.bidfloorcur="USD"),w.id=_[w.id]?w.id+_[w.id]++:(_[w.id]=2,w.id),w},bidResponse:function(m,u,S){var T=m(u,S),m=(T.meta.mediaType=(0,ee.A)(u,"ext.prebid.type"),S.bidRequest),S=((S=m.mediaTypes.video)==null?void 0:S.context)==="outstream"?k(m,x.G_):[void 0,void 0],E=S[0],S=S[1];return T.width=u.w||E||T.playerWidth||0,T.height=u.h||S||T.playerHeight||0,T.mediaType===x.G_&&m.mediaTypes.video.context==="outstream"&&(T.renderer=(()=>{var A=L.A4.install({id:T.adId,url:c.rendererUrl||"https://video-outstream.rubiconproject.com/apex-2.2.1.js",config:c.rendererConfig||{},loaded:!1,adUnitCode:T.adUnitCode});try{A.setRender(U)}catch(B){(0,g.JE)("Prebid Error calling setRender on renderer",B)}return A})()),(0,ee.A)(u,"ext.bidder.rp.advid")&&(0,ie.J)(T,"meta.advertiserId",u.ext.bidder.rp.advid),T},context:{netRevenue:c.netRevenue!==!1,ttl:360},processors:e.m})),D={code:"rubicon",gvlid:52,supportedMediaTypes:[x.D4,x.G_,x.s6],isBidRequestValid:function(w){var u=!0;if(typeof w.params!="object")return!1;for(var p=0,T=["accountId","siteId","zoneId"];p<T.length;p++)if(w.params[T[p]]=parseInt(w.params[T[p]]),isNaN(w.params[T[p]]))return(0,g.vV)("Rubicon: wrong format of accountId or siteId or zoneId."),!1;var m,E,S,A=X(w,!0);if(!A.length)return!1;A.includes(x.G_)&&(m=w,E=!0,B=Object.prototype.toString.call([]),S={mimes:B,protocols:B,linearity:Object.prototype.toString.call(0)},Object.keys(S).forEach(function(oe){Object.prototype.toString.call((0,ee.A)(m,"mediaTypes.video."+oe))!==S[oe]&&(E=!1,g.vV)("Rubicon: mediaTypes.video."+oe+" is required and must be of type: "+S[oe])}),u=E);var B=0<[x.D4,x.s6].filter(function(oe){return A.includes(oe)}).length;return B?u&&B:u},buildRequests:function(w,u){var p,T,m=[],E=((p=w.filter(function(J){var A=X(J)||[],B=A.length,J=J.params||{},oe=J.bidonmultiformat,J=J.video;return B===1&&(A.includes(x.G_)||A.includes(x.s6))||B===2&&!A.includes(x.D4)||J&&A.includes(x.G_)||oe&&(A.includes(x.G_)||A.includes(x.s6))}))&&p.length&&(E=h.toORTB({bidRequests:p,bidderRequest:u}),P(),m.push({method:"POST",url:"https://".concat(c.videoHost||"prebid-server",".rubiconproject.com/openrtb2/auction"),data:E,bidRequest:p})),w.filter(function(oe){var A=X(oe)||[],oe=oe.params||{},B=oe.bidonmultiformat,oe=oe.video;return A.includes(x.D4)&&(A.length===1||B||!B&&!oe||!B&&oe&&!A.includes(x.G_))}));return c.singleRequest!==!0?m.concat(E.map(function(S){var A=D.createSlotParams(S,u);return{method:"GET",url:"https://".concat(c.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:D.getOrderedParams(A).reduce(function(B,oe){var J=A[oe];return(0,g.O8)(J)&&J!==""||(0,g.Et)(J)?"".concat(B).concat(K(oe,J),"&"):B},"")+"slots=1&rand=".concat(Math.random()),bidRequest:S}})):(T=E.reduce(function(S,A){return(S[A.params.siteId]=S[A.params.siteId]||[]).push(A),S},{}),m.concat(Object.keys(T).reduce(function(S,A){var B=T[A];return B.map(function(oe,J){return J%10==0?B.slice(J,J+10):null}).filter(function(oe){return oe}).forEach(function(oe){var J=D.combineSlotUrlParams(oe.map(function(z){return D.createSlotParams(z,u)}));S.push({method:"GET",url:"https://".concat(c.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:D.getOrderedParams(J).reduce(function(z,re){var ge=J[re];return(0,g.O8)(ge)&&ge!==""||(0,g.Et)(ge)?"".concat(z).concat(K(re,ge),"&"):z},"")+"slots=".concat(oe.length,"&rand=").concat(Math.random()),bidRequest:oe})}),S},[])))},getOrderedParams:function(w){var u=/^tg_v/,p=/^tg_i/,T=/^eid_|^tpid_/,m=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","gpp","gpp_sid","rp_schain"].concat(Object.keys(w).filter(function(E){return T.test(E)})).concat(["x_liverampidl","ppuid","rf","p_geo.latitude","p_geo.longitude","kw"]).concat(Object.keys(w).filter(function(E){return u.test(E)})).concat(Object.keys(w).filter(function(E){return p.test(E)})).concat(["tk_flint","x_source.tid","l_pb_bid_id","p_screen_res","o_ae","o_cdep","rp_floor","rp_secure","tk_user_key"]);return m.concat(Object.keys(w).filter(function(E){return m.indexOf(E)===-1}))},combineSlotUrlParams:function(w){var u,p;return w.length===1?w[0]:(u=w.reduce(function(T,m,E){return Object.keys(m).forEach(function(S){T.hasOwnProperty(S)||(T[S]=new Array(w.length)),T[S].splice(E,1,m[S])}),T},{}),p=new RegExp("^([^;]*)(;\\1)+$"),Object.keys(u).forEach(function(T){var m=u[T].join(";"),E=m.match(p);u[T]=E?E[1]:m}),u)},createSlotParams:function(w,u){w.startTime=new Date().getTime();var p=w.params,T=k(w,"banner"),z=p.latLong||[],re=z[0],z=z[1],m={account_id:p.accountId,site_id:p.siteId,zone_id:p.zoneId,size_id:T[0],alt_size_ids:T.slice(1).join(",")||void 0,rp_floor:.01<=(p.floor=parseFloat(p.floor))?p.floor:void 0,rp_secure:"1",tk_flint:"".concat(c.int_type||"pbjs_lite","_v9.37.0"),"x_source.tid":(T=(T=u.ortb2)==null?void 0:T.source)==null?void 0:T.tid,"x_imp.ext.tid":(T=(T=w.ortb2Imp)==null?void 0:T.ext)==null?void 0:T.tid,l_pb_bid_id:w.bidId,o_cdep:(T=(T=(T=w.ortb2)==null?void 0:T.device)==null?void 0:T.ext)==null?void 0:T.cdep,ip:(T=(T=w.ortb2)==null?void 0:T.device)==null?void 0:T.ip,ipv6:(T=(T=w.ortb2)==null?void 0:T.device)==null?void 0:T.ipv6,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:p.userId,"p_geo.latitude":isNaN(parseFloat(re))?void 0:parseFloat(re).toFixed(4),"p_geo.longitude":isNaN(parseFloat(z))?void 0:parseFloat(z).toFixed(4),"tg_fl.eid":w.code,rf:(T=u,T=(re=w).params.referrer||T.refererInfo.page,re.params.secure?T.replace(/^http:/i,"https:"):T)};if(typeof w.getFloor=="function"&&!c.disableFloors){try{J=w.getFloor({currency:"USD",mediaType:"banner",size:"*"})}catch(W){(0,g.vV)("Rubicon: getFloor threw an error: ",W)}m.rp_hard_floor=(0,g.Qd)(J)&&J.currency==="USD"&&!isNaN(parseInt(J.floor))?J.floor:void 0}p.bidonmultiformat===!0&&(0,ee.A)(w,"mediaTypes")&&1<Object.keys(w.mediaTypes).length&&(m.p_formats=Object.keys(w.mediaTypes).join(","));var E,S,A,B,oe,J,z={1:"atf",3:"btf"}[(0,ee.A)(w,"mediaTypes.banner.pos")]||"",re=(m.p_pos=p.position==="atf"||p.position==="btf"?p.position:z,I.$W.getConfig("user.id"));return re&&(m.ppuid=re),(J=(T=w==null?void 0:w.ortb2Imp)==null?void 0:T.ext)!=null&&J.ae&&(m.o_ae=1),typeof((z=(p=w==null?void 0:w.ortb2)==null?void 0:p.site)==null?void 0:z.mobile)=="number"&&(m["p_site.mobile"]=w.ortb2.site.mobile),re=u,T=m,c.readTopics!==!1&&(J=[1,2,5,6,7,507].concat(((J=c.sendSiteSegtax)==null?void 0:J.map(function(W){return Number(W)}))||[]),p=[4,508].concat(((p=c.sendUserSegtax)==null?void 0:p.map(function(W){return Number(W)}))||[]),z=((z=(z=re.ortb2)==null?void 0:z.user)==null?void 0:z.data)||[],re=((re=(re=(re=re.ortb2)==null?void 0:re.site)==null?void 0:re.content)==null?void 0:re.data)||[],z.forEach(M(T,"v",p)),re.forEach(M(T,"i",J))),(re=(p=(z=w==null?void 0:w.ortb2)==null?void 0:z.user)==null?void 0:p.ext)!=null&&re.eids&&w.ortb2.user.ext.eids.forEach(function(W){var Z,j,N=W.source,q=W.uids,q=q===void 0?[]:q,he=W.inserter,ue=W.matcher,me=W.mm;try{var Oe,se,ne=q[0];ne&&(Oe=[(Z=ne).id,Z.atype||"","",he||"",ue||"",me||"",((j=Z==null?void 0:Z.ext)==null?void 0:j.rtiPartner)||((j=Z==null?void 0:Z.ext)==null?void 0:j.rtipartner)||""].join("^"),m["eid_".concat(N)]=Oe,m.ppuid||(se=q.find(function(de){return((de=de.ext)==null?void 0:de.stype)==="ppuid"}))!=null&&se.id&&(m.ppuid=se.id))}catch(de){(0,g.JE)("Rubicon: error reading eid:",{source:N,uids:q},de)}}),u.gdprConsent&&(typeof u.gdprConsent.gdprApplies=="boolean"&&(m.gdpr=Number(u.gdprConsent.gdprApplies)),m.gdpr_consent=u.gdprConsent.consentString),u.uspConsent&&(m.us_privacy=encodeURIComponent(u.uspConsent)),(T=u.gppConsent)!=null&&T.gppString&&(m.gpp=u.gppConsent.gppString,m.gpp_sid=(p=(z=u.gppConsent)==null?void 0:z.applicableSections)==null?void 0:p.toString()),m.rp_maxbids=u.bidLimit||1,re=w,T=x.D4,E=m,z={user:{ext:{data:F({},re.params.visitor)}},site:{ext:{data:F({},re.params.inventory)}}},re.params.keywords&&(z.site.keywords=(0,g.cy)(re.params.keywords)?re.params.keywords.join(","):re.params.keywords),S=(0,g.D9)({},re.ortb2||{},z),z=(0,ee.A)(re.ortb2Imp,"ext")||{},A=(0,ee.A)(re.ortb2Imp,"ext.data")||{},re=(0,ee.A)(re,"ortb2Imp.ext.gpid"),p=(0,ee.A)(S,"regs.ext.dsa"),B={user:[4],site:[1,2,5,6,7]},oe={user:"tg_v.",site:"tg_i.",adserver:"tg_i.dfp_ad_unit_code",pbadslot:"tg_i.pbadslot",keywords:"kw"},T===x.D4?(["site","user"].forEach(function(W){Object.keys(S[W]).forEach(function(Z){W==="site"&&Z==="content"&&S[W][Z].data?ge(S[W][Z].data,W,"data"):Z!=="ext"?ge(S[W][Z],W,Z):S[W][Z].data&&Object.keys(S[W].ext.data).forEach(function(j){ge(S[W].ext.data[j],W,j,!1)})})}),Object.keys(A).forEach(function(W){W!=="adserver"?ge(A[W],"site",W):A[W].name==="gam"&&ge(A[W].adslot,name,W)}),re&&(E.p_gpid=re),p&&Object.keys(p).length&&(0,g.Up)(p,["dsainfo",function(W){return E.dsainfo=W},"dsarequired",function(W){return E.dsarequired=W},"pubrender",function(W){return E.dsapubrender=W},"datatopub",function(W){return E.dsadatatopubs=W},"transparency",function(W){Array.isArray(W)&&W.length&&(E.dsatransparency=W.reduce(function(Z,j){var N=j.domain||"";return N&&(j=j.dsaparams||j.params,Array.isArray(j))&&j.length!==0?(Z&&(Z+="~~"),Z+"".concat(N,"~").concat(j.join("_"))):Z},""))}]),E["tg_i.pbadslot"]&&delete E["tg_i.dfp_ad_unit_code"],(T=(0,ee.A)(S,"device.sua"))&&c.chEnabled!==!1&&(0,g.Up)(T,["architecture",function(W){return E.m_ch_arch=W},"bitness",function(W){return E.m_ch_bitness=W},"browsers",function(W){var Z,j;Array.isArray(W)&&(j=(W=W.reduce(function(N,q){var he;return N[0].push('"'.concat(q==null?void 0:q.brand,'"|v="').concat((he=q==null?void 0:q.version)==null?void 0:he[0],'"')),1<q.version.length&&N[1].push('"'.concat(q==null?void 0:q.brand,'"|v="').concat((q=(he=q==null?void 0:q.version)==null?void 0:he.join)==null?void 0:q.call(he,"."),'"')),N},[[],[]]))[0],W=W[1],E.m_ch_ua=(Z=j==null?void 0:j.join)==null?void 0:Z.call(j,","),E.m_ch_full_ver=(Z=W==null?void 0:W.join)==null?void 0:Z.call(W,","))},"mobile",function(W){return E.m_ch_mobile="?".concat(W)},"model",function(W){return E.m_ch_model=W},"platform",function(W){var Z;E.m_ch_platform=W==null?void 0:W.brand,E.m_ch_platform_ver=(Z=(W=W==null?void 0:W.version)==null?void 0:W.join)==null?void 0:Z.call(W,".")}])):(Object.keys(z).length&&(0,g.D9)(E.imp[0].ext,z),re&&(E.imp[0].ext.gpid=re),(0,g.D9)(E,S)),I.$W.getConfig("coppa")===!0&&(m.coppa=1),w.schain&&R(w.schain)&&(m.rp_schain=D.serializeSupplyChain(w.schain)),m;function ge(he,Z,j){var N,q,ue=!(3<arguments.length&&arguments[3]!==void 0)||arguments[3],he=(he=he,q=Z,(N=j)==="data"&&Array.isArray(he)?he.filter(function(me){return me.segment&&(0,ee.A)(me,"ext.segtax")&&B[q]&&B[q].indexOf((0,ee.A)(me,"ext.segtax"))!==-1}).map(function(me){if(me=me.segment.filter(function(Oe){return Oe.id}).reduce(function(Oe,se){return Oe.push(se.id),Oe},[]),0<me.length)return me.toString()}).toString():typeof he=="object"&&!Array.isArray(he)||he===void 0?void 0:(Array.isArray(he)?he.filter(function(me){if(typeof me!="object"&&me!==void 0)return me.toString();(0,g.JE)("Rubicon: Filtered value: ",me,"for key",N,": Expected value to be string, integer, or an array of strings/ints")}):he).toString()),ue=oe[j]&&ue?"".concat(oe[j]):j==="data"?"".concat(oe[Z],"iab"):"".concat(oe[Z]).concat(j);E[ue]=E[ue]?E[ue].concat(",",he):he}},serializeSupplyChain:function(w){var u,p;return R(w)?(u=w.ver,p=w.complete,w=w.nodes,"".concat(u,",").concat(p,"!").concat(D.serializeSupplyChainNodes(w))):""},serializeSupplyChainNodes:function(w){var u=["asi","sid","hp","rid","name","domain"];return w.map(function(p){return u.map(function(T){return encodeURIComponent(p[T]||"")}).join(",")}).join("!")},interpretResponse:function(w,u){w=w.body;var p,T,m,E,S=u.data;return w&&typeof w=="object"?w.seatbid?(E=(0,ee.A)(w,"ext.errors.rubicon"),Array.isArray(E)&&0<E.length&&(0,g.JE)("Rubicon: Error in video response"),h.fromORTB({request:S,response:w}).bids):(E=w.ads,T=0,typeof(m=u.bidRequest)=="object"&&!Array.isArray(m)&&X(m).includes(x.G_)&&typeof E=="object"&&(E=E[m.adUnitCode]),!Array.isArray(E)||E.length<1?[]:(S=E.reduce(function(A,B,oe){var J,z,re;return B.impression_id&&p===B.impression_id?T++:p=B.impression_id,B.status==="ok"&&((J=Array.isArray(m)?m[oe-T]:m)&&typeof J=="object"?(z={requestId:J.bidId,currency:"USD",creativeId:B.creative_id||"".concat(B.network||"","-").concat(B.advertiser||""),cpm:B.cpm||0,dealId:B.deal,ttl:360,netRevenue:c.netRevenue!==!1,rubicon:{advertiserId:B.advertiser,networkId:B.network},meta:{advertiserId:B.advertiser,networkId:B.network,mediaType:x.D4}},B.creative_type&&(z.mediaType=B.creative_type),B.dsa&&Object.keys(B.dsa).length&&(z.meta.dsa=B.dsa),B.adomain&&(z.meta.advertiserDomains=Array.isArray(B.adomain)?B.adomain:[B.adomain]),B.emulated_format&&(z.meta.mediaType=B.emulated_format),B.creative_type===x.G_?(z.width=J.params.video.playerWidth,z.height=J.params.video.playerHeight,z.vastUrl=B.creative_depot_url,z.impression_id=B.impression_id,z.videoCacheKey=B.impression_id):(z.ad=(re=B.script,"<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n<!-- Rubicon Project Ad Tag -->\n<div data-rp-impression-id='".concat(B.impression_id,"'>\n<script type='text/javascript'>").concat(re,"<\/script>\n</div>\n</body>\n</html>")),re=C[B.size_id].split("x").map(function(ge){return Number(ge)}),z.width=re[0],z.height=re[1]),z.rubiconTargeting=(Array.isArray(B.targeting)?B.targeting:[]).reduce(function(ge,W){return ge[W.key]=W.values[0],ge},{rpfl_elemid:J.adUnitCode}),A.push(z)):(0,g.vV)("Rubicon: bidRequest undefined at index position:".concat(oe),m,w)),A},[]).sort(function(A,B){return(B.cpm||0)-(A.cpm||0)}),(E=(u=w.component_auction_config)==null?void 0:u.map(function(A){return{config:A,bidId:A.bidId}}))?{bids:S,paapi:E}:S)):[]},getUserSyncs:function(w,u,p,T,m){if(!Q&&w.iframeEnabled)return w=(0,f.d)(p,T,m),w=Object.keys(w).length?"?".concat((0,g.eP)(w)):"",Q=!0,{type:"iframe",url:"https://".concat(c.syncHost||"eus",".rubiconproject.com/usync.html")+w}}};function U(w){var u,p=document.getElementById(w.adUnitCode),T=((u=p.querySelector("div[id^='google_ads']"))&&u.style.setProperty("display","none"),(u=(u=p.querySelector("script[id^='sas_script']"))&&u.nextSibling)&&u.localName==="iframe"&&u.style.setProperty("display","none"),F({align:"center",position:"append",closeButton:!1,label:void 0,collapse:!0},w.renderer.getConfig()));w.renderer.push(function(){window.MagniteApex.renderAd({width:w.width,height:w.height,vastUrl:w.vastUrl,placement:{attachTo:"#".concat(w.adUnitCode),align:T.align,position:T.position},closeButton:T.closeButton,label:T.label,collapse:T.collapse})})}function k(w,u){var p,T=w.params;return u===x.G_?(u=[],T.video&&T.video.playerWidth&&T.video.playerHeight?u=[T.video.playerWidth,T.video.playerHeight]:Array.isArray((0,ee.A)(w,"mediaTypes.video.playerSize"))&&w.mediaTypes.video.playerSize.length===1?u=w.mediaTypes.video.playerSize[0]:Array.isArray(w.sizes)&&0<w.sizes.length&&Array.isArray(w.sizes[0])&&1<w.sizes[0].length&&(u=w.sizes[0]),u):(u=[],Array.isArray(T.sizes)?u=T.sizes:(0,ee.A)(w,"mediaTypes.banner.sizes")!==void 0?u=Y(w.mediaTypes.banner.sizes):Array.isArray(w.sizes)&&0<w.sizes.length?u=Y(w.sizes):(0,g.JE)("Rubicon: no sizes are setup or found"),p=[15,2,9],u.sort(function(m,E){var S=p.indexOf(m),A=p.indexOf(E);return-1<S||-1<A?S===-1?1:A===-1?-1:S-A:m-E}))}function M(w,u,p){return function(T){var m=Number((m=T.ext)==null?void 0:m.segtax);p.includes(m)&&(w["tg_".concat(u,".tax").concat(m)]=(m=T.segment)==null?void 0:m.map(function(E){return E.id}).join(","))}}function Y(w){return(0,g.kK)(w).reduce(function(u,p){return p=parseInt(C[p],10),p&&u.push(p),u},[])}function X(w,A){var p,T,m,E,S,A=1<arguments.length&&A!==void 0&&A,B=[];if(p=w,T=(0,ee.A)(p,"mediaTypes.".concat(x.G_))!==void 0,m=(0,ee.A)(p,"mediaTypes.".concat(x.D4))!==void 0,E=(0,ee.A)(p,"params.bidonmultiformat")!==void 0,S=typeof(0,ee.A)(p,"params.video")!="object",T&&E||((T=m&&S?!1:T)&&S&&(0,ie.J)(p,"params.video",{}),T)){if(["outstream","instream"].indexOf((0,ee.A)(w,"mediaTypes.".concat(x.G_,".context")))===-1)return A&&(0,g.vV)("Rubicon: mediaTypes.video.context must be outstream or instream"),B;if(k(w,x.G_).length<2)return A&&(0,g.vV)("Rubicon: could not determine the playerSize of the video"),B;A&&(0,g.OG)("Rubicon: making video request for adUnit",w.adUnitCode),B.push(x.G_)}if((0,ee.A)(w,"mediaTypes.".concat(x.s6))!==void 0&&B.push(x.s6),(0,ee.A)(w,"mediaTypes.".concat(x.D4))!==void 0){if(k(w,x.D4).length===0)return A&&(0,g.vV)("Rubicon: could not determine the sizes for banner request"),B;A&&(0,g.OG)("Rubicon: making banner request for adUnit",w.adUnitCode),B.push(x.D4)}return B}var P=function(){return _={}};function R(w){var u=!1,p=["asi","sid","hp"];return w.nodes&&((u=w.nodes.reduce(function(T,m){return T&&p.every(function(E){return m.hasOwnProperty(E)})},!0))||(0,g.vV)("Rubicon: required schain params missing")),u}function K(w,u){return w==="rp_schain"?"rp_schain=".concat(u):"".concat(w,"=").concat(encodeURIComponent(u))}var Q=!1;(0,l.a$)(D),(0,o.E)("rubiconBidAdapter")}},function(s){s.O(0,[802,8498,7618,7247,6550,2139,1085],function(){return s(s.s=9293)}),s.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[5496],{5862:function(s,$,L){var o=L(7873),r=L(1069),e=L(9214),l=L(2938),I=L(6916),x=L(5569),L=L(2339),g=(0,l.vM)({moduleType:x.fW,moduleName:"sharedId"}),ie="cookie",ee="html5",O="_pubcid_optout",f="PublisherCommonId";function c(h,D){return D===ie?g.getCookie(h):D===ee&&g.hasLocalStorage()?(!(D=g.getDataFromLocalStorage("".concat(h,"_exp")))||0<new Date(D).getTime()-Date.now())&&g.getDataFromLocalStorage(h):void 0}function _(h,M,U){var k,M=1<arguments.length&&M!==void 0?M:"",Y=2<arguments.length?U:void 0;if(h)return(U=(0,r.Dl)(h)).search.id=encodeURIComponent("pubcid:"+M),k=(0,r.c$)(U),function(){(0,r.z$)(k,Y)}}function C(){return g.cookiesAreEnabled()&&c(O,ie)||g.hasLocalStorage()&&c(O,ee)}l={name:"sharedId",aliasName:"pubCommonId",gvlid:I.B1,decode:function(h,D){if(!C())return(0,r.fH)(" Decoded value PubCommonId "+h),{pubcid:h};(0,r.fH)("PubCommonId decode: Has opted-out")},getId:function(){var h=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},D=1<arguments.length?arguments[1]:void 0,U=2<arguments.length?arguments[2]:void 0;if(C())(0,r.fH)("PubCommonId: Has opted-out");else{if(D==null||!D.coppa){var k,M,D=h.params,D=D===void 0?{}:D,Y=D.create,Y=Y===void 0||Y,D=D.pixelUrl;if(!U){try{typeof window[f]=="object"&&(U=window[f].getId())}catch{}U=U||(Y&&(0,r.N9)()?(0,r.lk)():void 0)}return{id:U,callback:(k=U,M=D,function(P,R){M?_(M,k,function(){P(R()||k)})():P(k)})}}(0,r.fH)("PubCommonId: IDs not provided for coppa requests, exiting PubCommonId")}},extendId:function(){var h=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},D=1<arguments.length?arguments[1]:void 0,U=2<arguments.length?arguments[2]:void 0;return C()?((0,r.fH)("PubCommonId: Has opted-out"),{id:void 0}):D!=null&&D.coppa?void(0,r.fH)("PubCommonId: IDs not provided for coppa requests, exiting PubCommonId"):(D=(h=(D=h.params)===void 0?{}:D).extend,h=h.pixelUrl,D!==void 0&&D?h?{callback:_(h,U)}:{id:U}:void 0)},domainOverride:(0,L.w)(g,"sharedId"),eids:{pubcid:function(k,D){var U,k={source:"pubcid.org",uids:k.map(function(M){return{id:M,atype:1}})};return((U=D==null?void 0:D.params)==null?void 0:U.inserter)!=null&&(k.inserter=D.params.inserter),k}}},(0,e.bz)("userId",l),(0,o.E)("sharedIdSystem")}},function(s){s.O(0,[2764,802,2139,1085],function(){return s(s.s=5862)}),s.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[89],{5745:function(s,$,g){var o=g(7873),r=g(7377),e=g(3272),l=g(1371),I=g(1069),x=g(433),L=function(){return window.location.protocol},g={code:"sharethrough",supportedMediaTypes:[l.G_,l.D4],gvlid:80,isBidRequestValid:function(ee){return!!ee.params.pkey},buildRequests:function(ee,O){var f=O.timeout,c=O.ortb2||{},_=L().indexOf("http")<0||-1<L().indexOf("https"),C={id:(0,I.lk)(),at:1,cur:["USD"],tmax:f,site:F({domain:(0,x.A)(O,"refererInfo.domain",window.location.hostname),page:(0,x.A)(O,"refererInfo.page",window.location.href),ref:(0,x.A)(O,"refererInfo.ref")},c.site),device:{ua:navigator.userAgent,language:navigator.language,js:1,dnt:navigator.doNotTrack==="1"?1:0,h:window.screen.height,w:window.screen.width,ext:{}},regs:{coppa:e.$W.getConfig("coppa")===!0?1:0,ext:{}},source:{tid:(f=(f=O.ortb2)==null?void 0:f.source)==null?void 0:f.tid,ext:{version:"9.37.0",str:"4.3.0",schain:ee[0].schain}},bcat:(0,x.A)(O.ortb2,"bcat")||ee[0].params.bcat||[],badv:(0,x.A)(O.ortb2,"badv")||ee[0].params.badv||[],test:0};return(f=(f=(f=O.ortb2)==null?void 0:f.device)==null?void 0:f.ext)!=null&&f.cdep&&(C.device.ext.cdep=O.ortb2.device.ext.cdep),(f=O==null?void 0:O.ortb2)!=null&&f.device&&(0,I.D9)(C.device,O.ortb2.device),C.user=ie(c.user,{}),C.user.ext||(C.user.ext={}),C.user.ext.eids=ee[0].userIdAsEids||[],O.gdprConsent&&(f=O.gdprConsent.gdprApplies===!0,C.regs.ext.gdpr=f?1:0,f)&&(C.user.ext.consent=O.gdprConsent.consentString),O.uspConsent&&(C.regs.ext.us_privacy=O.uspConsent),(c=O==null?void 0:O.gppConsent)!=null&&c.gppString?(C.regs.gpp=O.gppConsent.gppString,C.regs.gpp_sid=O.gppConsent.applicableSections):(c=(f=O==null?void 0:O.ortb2)==null?void 0:f.regs)!=null&&c.gpp&&(C.regs.ext.gpp=O.ortb2.regs.gpp,C.regs.ext.gpp_sid=O.ortb2.regs.gpp_sid),(f=(c=(f=O==null?void 0:O.ortb2)==null?void 0:f.regs)==null?void 0:c.ext)!=null&&f.dsa&&(C.regs.ext.dsa=O.ortb2.regs.ext.dsa),ee.map(function(h){var D,U,k={ext:{}},M=(0,x.A)(h,"ortb2Imp.ext.tid"),M=(M&&(k.ext.tid=M),(0,x.A)(h,"ortb2Imp.ext.gpid")||(0,x.A)(h,"ortb2Imp.ext.data.pbadslot")),Y=(M&&(k.ext.gpid=M),(0,x.A)(h,"mediaTypes.video"));return(M=O.paapi)!=null&&M.enabled&&h.mediaTypes.banner&&(0,I.D9)(k,{ext:{ae:1}}),Y?(D=(M=[640,360])[0],M=M[1],Y.playerSize&&Y.playerSize[0]&&Y.playerSize[0][0]&&Y.playerSize[0][1]&&(D=(U=Y.playerSize[0])[0],M=U[1]),k.video={pos:ie(Y.pos,0),topframe:(0,I.al)()?0:1,w:D,h:M},["api","battr","companionad","companiontype","delivery","linearity","maxduration","mimes","minduration","placement","playbackmethod","plcmt","protocols","skip","skipafter","skipmin","startdelay"].forEach(function(X){var P,R;P=Y,R=k,!["api","battr","mimes","playbackmethod","protocols"].includes(X=X)||Array.isArray(P[X])&&P[X].length!==0||!P[X]?P[X]&&(R.video[X]=P[X]):(0,I.JE)('Sharethrough: Invalid video request property: "'.concat(X,'" must be an array with at least 1 entry.  Value supplied: "').concat(P[X],'".  This will not be added to the bid request.'))})):(k.banner={pos:(0,x.A)(h,"mediaTypes.banner.pos",0),topframe:(0,I.al)()?0:1,format:h.sizes.map(function(X){return{w:+X[0],h:+X[1]}})},(U=(0,x.A)(h,"mediaTypes.banner.battr",null)||(0,x.A)(h,"ortb2Imp.banner.battr"))&&(k.banner.battr=U)),F({id:h.bidId,tagid:String(h.params.pkey),secure:_?1:0,bidfloor:(X=>{var P,R=null;return(R=typeof X.getFloor=="function"&&(P=X.getFloor({currency:"USD",mediaType:X.mediaTypes&&X.mediaTypes.video?"video":"banner",size:X.sizes.map(function(K){return{w:K[0],h:K[1]}})}),(0,I.Qd)(P))&&P.currency==="USD"&&!isNaN(parseFloat(P.floor))?parseFloat(P.floor):R)!==null?R:X.params.floor})(h)},k)}).filter(function(h){return!!h}).map(function(h){return{method:"POST",url:"https://btlr.sharethrough.com/universal/v1?supply_id=WYu2BXv1",data:F(F({},C),{imp:[h]})}})},interpretResponse:function(ee,O){var f,c=ee.body;return c&&c.seatbid&&c.seatbid.length!==0&&c.seatbid[0].bid&&c.seatbid[0].bid.length!==0?(ee=(ee=c.ext)==null?void 0:ee.auctionConfigs,f=c.seatbid[0].bid.map(function(_){var C={requestId:_.impid,width:+_.w,height:+_.h,cpm:+_.price,creativeId:_.crid,dealId:_.dealid||null,mediaType:O.data.imp[0].video?l.G_:l.D4,currency:c.cur||"USD",netRevenue:!0,ttl:360,ad:_.adm,nurl:_.nurl,meta:{advertiserDomains:_.adomain||[],networkId:((C=_.ext)==null?void 0:C.networkId)||null,networkName:((C=_.ext)==null?void 0:C.networkName)||null,agencyId:((C=_.ext)==null?void 0:C.agencyId)||null,agencyName:((C=_.ext)==null?void 0:C.agencyName)||null,advertiserId:((C=_.ext)==null?void 0:C.advertiserId)||null,advertiserName:((C=_.ext)==null?void 0:C.advertiserName)||null,brandId:((C=_.ext)==null?void 0:C.brandId)||null,brandName:((C=_.ext)==null?void 0:C.brandName)||null,demandSource:((C=_.ext)==null?void 0:C.demandSource)||null,dchain:((C=_.ext)==null?void 0:C.dchain)||null,primaryCatId:((C=_.ext)==null?void 0:C.primaryCatId)||null,secondaryCatIds:((C=_.ext)==null?void 0:C.secondaryCatIds)||null,mediaType:((C=_.ext)==null?void 0:C.mediaType)||null}};return C.mediaType===l.G_&&(C.ttl=3600,C.vastXml=_.adm),C}),ee?{bids:f,paapi:((ee=c.ext)==null?void 0:ee.auctionConfigs)||{}}:f):[]},getUserSyncs:function(ee,O){return ee.pixelEnabled&&(0,x.A)(O,"0.body.cookieSyncUrls")!==void 0?O[0].body.cookieSyncUrls.map(function(f){return{type:"image",url:f}}):[]},onTimeout:function(ee){},onBidWon:function(ee){},onSetTargeting:function(ee){}};function ie(ee,O){return ee==null?O:ee}(0,r.a$)(g),(0,o.E)("sharethroughBidAdapter")}},function(s){s.O(0,[802,2139,1085],function(){return s(s.s=5745)}),s.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[8746],{7454:function(s,$,a){var o=a(7873),r=a(1069),e=a(433),l=a(7377),I=a(2938),x=a(2285),L=a(4538),g=a(4122),ie=(0,I.vM)({bidderCode:"teads"});function ee(f){var c,_,C,h,D={},U=f.params.placementId,k=f.params.pageId,M=(M=(M=f==null?void 0:f.ortb2Imp)==null?void 0:M.ext)==null?void 0:M.gpid,Y=(Y=(Y=f==null?void 0:f.mediaTypes)==null?void 0:Y.video)==null?void 0:Y.plcmt;return D.sizes=(0,r.kK)((_=(_=(_=(c=f)==null?void 0:c.mediaTypes)==null?void 0:_.video)==null?void 0:_.playerSize,C=(C=(C=c==null?void 0:c.mediaTypes)==null?void 0:C.video)==null?void 0:C.sizes,h=(h=(h=c==null?void 0:c.mediaTypes)==null?void 0:h.banner)==null?void 0:h.sizes,(0,r.cy)(h)||(0,r.cy)(_)||(0,r.cy)(C)?[h,C,_].reduce(function(X,P){return(0,r.cy)(P)&&((0,r.cy)(P[0])?P.forEach(function(R){X.push(R)}):X.push(P)),X},[]):c.sizes)),D.bidId=(0,r.u5)("bidId",f),D.bidderRequestId=(0,r.u5)("bidderRequestId",f),D.placementId=parseInt(U,10),D.pageId=parseInt(k,10),D.adUnitCode=(0,r.u5)("adUnitCode",f),D.transactionId=((C=(h=f.ortb2Imp)==null?void 0:h.ext)==null?void 0:C.tid)||"",M&&(D.gpid=M),Y&&(D.videoPlcmt=Y),D}function O(f){return 0<parseInt(f)}(0,l.a$)({code:"teads",gvlid:132,supportedMediaTypes:["video","banner"],isBidRequestValid:function(f){var c,_=!1;return f.params!==void 0&&(c=O(f.params.placementId),f=O(f.params.pageId),_=c&&f),_||(0,r.vV)("Teads placementId and pageId parameters are required. Bid aborted."),_},buildRequests:function(f,c){var _,C,h=f.map(ee),k=window.top,h=F(F(F({referrer:(U="",U=(D=c)&&D.refererInfo&&D.refererInfo.page?D.refererInfo.page:U),pageReferrer:document.referrer,pageTitle:(()=>{try{var M=window.top.document.querySelector('meta[property="og:title"]');return window.top.document.title||M&&M.content||""}catch{return M=document.querySelector('meta[property="og:title"]'),document.title||M&&M.content||""}})().slice(0,300),pageDescription:(()=>{var M;try{M=window.top.document.querySelector('meta[name="description"]')||window.top.document.querySelector('meta[property="og:description"]')}catch{M=document.querySelector('meta[name="description"]')||document.querySelector('meta[property="og:description"]')}return M&&M.content||""})().slice(0,300),networkBandwidth:(D=window.navigator)&&D.connection&&0<=D.connection.downlink?D.connection.downlink.toString():"",networkQuality:(U=(U=(U=window.navigator).connection||U.mozConnection||U.webkitConnection)==null?void 0:U.effectiveType)!=null?U:"",timeToFirstByte:(0,g.v)(window),data:h,domComplexity:(D=(D=(D=document)==null?void 0:D.querySelectorAll("*"))==null?void 0:D.length)!=null?D:-1,device:((U=c==null?void 0:c.ortb2)==null?void 0:U.device)||{},deviceWidth:screen.width,deviceHeight:screen.height,devicePixelRatio:k.devicePixelRatio,screenOrientation:(h=screen.orientation)==null?void 0:h.type,historyLength:(0,L.GA)(),viewportHeight:(D=k.visualViewport)==null?void 0:D.height,viewportWidth:(U=k.visualViewport)==null?void 0:U.width,hardwareConcurrency:(0,L.iz)(),deviceMemory:(0,L.qM)(),hb_version:"9.37.0"},(M=>{var Y,X={unifiedId2:"uid2.id",liveRampId:"idl_env",lotamePanoramaId:"lotamePanoramaId",id5Id:"id5id.uid",criteoId:"criteoId",yahooConnectId:"connectId",quantcastId:"quantcastId",epsilonPublisherLinkId:"publinkId",publisherFirstPartyViewerId:"pubcid",merkleId:"merkleId.id",kinessoId:"kpuid"},P={};for(Y in X){var R=X[Y],R=(0,e.A)(M,"0.userId.".concat(R));R&&(P[Y]=R)}return P})(f)),{outbrainId:ie.getDataFromLocalStorage("OB-USER-TOKEN")}),(M=>(M=(M=(M=M==null?void 0:M[0])==null?void 0:M.userId)==null?void 0:M.teadsId)?{firstPartyCookieTeadsId:M}:ie.cookiesAreEnabled(null)&&(M=ie.getCookie("_tfpvi",null),M)?{firstPartyCookieTeadsId:M}:{})(f)),D=f[0],k=(D.schain&&(h.schain=D.schain),c.gppConsent),U=(c&&k&&(U=typeof k.gppString=="string",f=Array.isArray(k.applicableSections)&&k.applicableSections.every(function(M){return typeof M=="number"}),h.gpp={consentString:U?k.gppString:"",applicableSectionIds:f?k.applicableSections:[]}),c.gdprConsent),k=(c&&U&&(f=typeof U.gdprApplies=="boolean",k=typeof U.consentString=="string",f=f?(f=U.gdprApplies,_=U.vendorData,C=12,f?_&&!_.isServiceSpecific&&(C=11):C=0,C):22,h.gdpr_iab={consent:k?U.consentString:"",status:f,apiVersion:U.apiVersion}),c&&c.uspConsent&&(h.us_privacy=c.uspConsent),(C=(_=D==null?void 0:D.ortb2)==null?void 0:_.device)==null?void 0:C.sua),k=(k&&(h.userAgentClientHints=k),(D=(U=(f=c==null?void 0:c.ortb2)==null?void 0:f.regs)==null?void 0:U.ext)==null?void 0:D.dsa);return k&&(h.dsa=k),{method:"POST",url:"https://a.teads.tv/hb/bid-request",data:JSON.stringify(h)}},interpretResponse:function(f,c){var _;return(f=f.body).responses?(_=(0,x.T)(),f.responses.filter(function(C){return!C.needAutoplay||_}).map(function(C){var h,D={cpm:C.cpm,width:C.width,height:C.height,currency:C.currency,netRevenue:!0,ttl:C.ttl,meta:{advertiserDomains:C&&C.adomain?C.adomain:[]},ad:C.ad,requestId:C.bidId,creativeId:C.creativeId,placementId:C.placementId};return C.dealId&&(D.dealId=C.dealId),(h=C==null?void 0:C.ext)!=null&&h.dsa&&(D.meta.dsa=C.ext.dsa),D})):[]}}),(0,o.E)("teadsBidAdapter")}},function(s){s.O(0,[7639,6762,2809,802,2139,1085],function(){return s(s.s=7454)}),s.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[8282],{6504:function(s,$,g){var o=g(7873),r=g(433),e=g(1069),l=g(1371),I=g(7377),x=g(3272),f=g(2938),L=g(6568),g="triplelift",ie=null,ee=null,O=(0,f.vM)({bidderCode:g}),f={gvlid:28,code:g,supportedMediaTypes:[l.D4,l.G_],isBidRequestValid:function(U){return U.params.inventoryCode!==void 0},buildRequests:function(K,k){var M,Y,X,P,R="https://tlx.3lift.com/header/auction?",K=(M=k,Y={},P=(K=K)[0].schain,X=(()=>{var Q={},w={},u={},m=M.ortb2||{},p=(()=>{var E=O.getDataFromLocalStorage("opecloud_ctx");if(!E)return null;try{return JSON.parse(E)}catch(S){return(0,e.vV)("Triplelift: error parsing JSON: ",S),null}})(),T=Object.assign({},m.site),m=Object.assign({},m.user);if(p){m.data=m.data||[];try{m.data.push({name:"www.1plusx.com",ext:p})}catch(E){(0,e.vV)("Triplelift: error adding 1plusX segments: ",E)}}return h(w,T),h(u,m),(0,e.Im)(w)||(Q.context=w),(0,e.Im)(u)||(Q.user=u),Q})(),Y.imp=K.map(function(Q,T){var u,p,T={id:T,tagid:Q.params.inventoryCode,floor:(m=>{var E=null;if(typeof m.getFloor=="function")try{var S=m.getFloor({currency:"USD",mediaType:c(m)?"video":"banner",size:"*"});e.Qd(S)&&S.currency==="USD"&&!isNaN(parseFloat(S.floor))&&(E=parseFloat(S.floor))}catch(A){(0,e.vV)("Triplelift: getFloor threw an error: ",A)}return E!==null?E:m.params.floor})(Q)};return c(Q)&&(T.video=(m=>{var E=F(F({},m.params.video),m.mediaTypes.video);try{E.w||(E.w=E.playerSize[0][0]),E.h||(E.h=E.playerSize[0][1])}catch(S){(0,e.JE)("Video size not defined",S)}return E.playbackmethod&&Number.isInteger(E.playbackmethod)&&(E.playbackmethod=Array.from(String(E.playbackmethod),Number)),delete E.playerSize,E})(Q)),Q.mediaTypes.banner&&!_(Q)&&(T.banner={format:Q.sizes.filter(D).map(function(m){return{w:m[0],h:m[1]}})}),(0,e.Im)(Q.ortb2Imp)||(T.fpd=(u={},h(p={},Q.ortb2Imp.ext),(0,e.Im)(p)||(u.context=p),u),(0,e.Im)(Q.ortb2Imp.ext))||(T.ext=F({},Q.ortb2Imp.ext)),T}),K[0].userIdAsEids&&(K=r.A(K[0],"userIdAsEids"),Y.user={ext:{eids:K}}),K=P,P=X,X={},(0,e.Im)(K)||(X.schain=F({},K)),(0,e.Im)(P)||(X.fpd=F({},P)),K=X,(0,e.Im)(K)||(Y.ext=K),(X=(P=M==null?void 0:M.ortb2)==null?void 0:P.regs)!=null&&X.gpp&&(Y.regs=Object.assign({},M.ortb2.regs)),M!=null&&M.ortb2&&(Y.ext.ortb2=Object.assign({},M.ortb2)),Y);return R=(0,L.v)(R,"lib","prebid"),R=(0,L.v)(R,"v","9.37.0"),k&&k.refererInfo&&(P=k.refererInfo.page,R=(0,L.v)(R,"referrer",P)),k&&k.timeout&&(R=(0,L.v)(R,"tmax",k.timeout)),k&&k.gdprConsent&&(ie=k.gdprConsent.gdprApplies===void 0||k.gdprConsent.gdprApplies,R=(0,L.v)(R,"gdpr",ie.toString()),k.gdprConsent.consentString!==void 0)&&(ee=k.gdprConsent.consentString,R=(0,L.v)(R,"cmp_cs",ee)),k&&k.uspConsent&&(R=(0,L.v)(R,"us_privacy",k.uspConsent)),(X=k==null?void 0:k.paapi)!=null&&X.enabled&&(R=(0,L.v)(R,"fledge",k.paapi.enabled)),(R=x.$W.getConfig("coppa")===!0?(0,L.v)(R,"coppa",!0):R).lastIndexOf("&")===R.length-1&&(R=R.substring(0,R.length-1)),(0,e.OG)("tlCall request built: "+R),{method:"POST",url:R,data:K,bidderRequest:k}},interpretResponse:function(Y,X){var M=X.bidderRequest,X=Y.body.bids||[],Y=Y.body.paapi||[],X=X.map(function(P){return R={},K=(P=P).width||1,Q=P.crid||"",w=M.bids[P.imp_id],P.cpm!=0&&P.ad&&(R={requestId:w.bidId,cpm:P.cpm,width:K,height:P.height||1,netRevenue:!0,ad:P.ad,creativeId:Q,dealId:P.deal_id||"",currency:"USD",ttl:300,tl_source:P.tl_source,meta:{}},c(w)&&P.media_type==="video"&&(R.vastXml=P.ad,R.mediaType="video",R.ttl=3600),P.advertiser_name&&(R.meta.advertiserName=P.advertiser_name),P.adomain&&P.adomain.length&&(R.meta.advertiserDomains=P.adomain),P.tl_source&&P.tl_source=="hdx"&&(c(w)&&P.media_type==="video"?R.meta.mediaType="video":R.meta.mediaType="banner"),P.tl_source&&P.tl_source=="tlx"&&(R.meta.mediaType="native"),Q)&&(R.meta.networkId=Q.slice(0,Q.indexOf("_"))),R;var R,K,Q,w});return 0<Y.length?(Y=Y.map(function(P){return{bidId:M.bids[P.imp_id].bidId,config:P.auctionConfig}}),(0,e.OG)("Response with FLEDGE:",{bids:X,fledgeAuctionConfigs:Y}),{bids:X,paapi:Y}):X},getUserSyncs:function(U,k,M,Y,X){var P,R=(()=>{if(U)return U.iframeEnabled?"iframe":U.pixelEnabled?"image":void 0})();if(R)return P="https://eb2.3lift.com/sync?",R==="image"&&(P=(0,L.v)(P,"px",1),P=(0,L.v)(P,"src","prebid")),ee===null&&!ie||(P=(0,L.v)(P,"gdpr",ie),P=(0,L.v)(P,"cmp_cs",ee)),Y&&(P=(0,L.v)(P,"us_privacy",Y)),[{type:R,url:P=X&&(X.gppString&&(P=(0,L.v)(P,"gpp",X.gppString)),X.applicableSections)&&X.applicableSections.length!==0?(0,L.v)(P,"gpp_sid",X.applicableSections.filter(function(K){return Number.isInteger(K)}).join(",")):P}]}};function c(U){return C(U)&&(_(U)||C(U=U)&&U.mediaTypes.video.context.toLowerCase()==="outstream")}function _(U){return C(U)&&U.mediaTypes.video.context.toLowerCase()==="instream"}function C(U){return U.mediaTypes.video&&U.mediaTypes.video.context}function h(U,k){(0,e.Im)(k)||Object.keys(k).forEach(function(M){k[M]!=null&&(U[M]=k[M])})}function D(U){return U.length===2&&typeof U[0]=="number"&&typeof U[1]=="number"}(0,I.a$)(f),(0,o.E)("tripleliftBidAdapter")}},function(s){s.O(0,[4577,802,2139,1085],function(){return s(s.s=6504)}),s.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[4183],{3429:function(s,$,ie){var o=ie(7873),r=ie(3172),e=ie(1069),l=ie(433),I=ie(3272),x=ie(7377),L=ie(1371),g=ie(1223),ie="ttd";ie={code:ie,gvlid:21,aliases:["thetradedesk"],supportedMediaTypes:[L.D4,L.G_],isBidRequestValid:function(ee){if(!ee||!ee.params)return e.JE("ttd: Missing bid parameters"),!1;if(!ee.params.supplySourceId)return e.JE("ttd: Missing required parameter params.supplySourceId"),!1;if(!/^[\w+]+$/.test(ee.params.supplySourceId))return e.JE("ttd: supplySourceId must only contain alphabetic characters"),!1;if(!ee.params.publisherId)return e.JE("ttd: Missing required parameter params.publisherId"),!1;if(32<ee.params.publisherId.length)return e.JE("ttd: params.publisherId must be 32 characters or less"),!1;if(ee.params.bidfloor&&isNaN(parseFloat(ee.params.bidfloor)))return!1;var O=l.A(ee,"ortb2Imp.ext.gpid");if(!ee.params.placementId&&!O)return e.JE("ttd: one of params.placementId or gpid (via the GPT module https://docs.prebid.org/dev-docs/modules/gpt-pre-auction.html) must be passed"),!1;if(O=l.A(ee,"mediaTypes.banner"),ee=l.A(ee,"mediaTypes.video"),!O&&!ee)return e.JE("ttd: one of mediaTypes.banner or mediaTypes.video must be passed"),!1;if(ee){if(!ee.maxduration||!e.Fq(ee.maxduration))return e.JE("ttd: mediaTypes.video.maxduration must be set to the maximum video ad duration in seconds"),!1;if(!ee.api||ee.api.length===0)return e.JE("ttd: mediaTypes.video.api should be an array of supported api frameworks. See the Open RTB v2.5 spec for valid values"),!1;if(!ee.mimes||ee.mimes.length===0)return e.JE("ttd: mediaTypes.video.mimes should be an array of supported mime types"),!1;if(!ee.protocols)return e.JE("ttd: mediaTypes.video.protocols should be an array of supported protocols. See the Open RTB v2.5 spec for valid values"),!1}return!0},buildRequests:function(ee,O){var f,c,_=O.ortb2||{},C=O.ortb2Imp||{},h={id:O.bidderRequestId,imp:ee.map(function(D){return E={id:(D=D).bidId},(S=l.A(D,"ortb2Imp.ext.gpid")||D.params.placementId)&&(E.tagid=S),S=l.A(D,"mediaTypes.video"),A={},l.A(D,"mediaTypes.banner")&&(A[L.D4]=(u=(w=D).mediaTypes.banner.sizes,u=e.kK(u).filter(function(J){return J}).map(function(J){return J.split("x")}).map(function(J){return{width:parseInt(J[0]),height:parseInt(J[1])}}).map(function(J){return{w:J.width,h:J.height}}),p=parseInt(l.A(w,"mediaTypes.banner.pos")),T=l.A(w,"params.banner.expdir"),m={},p&&(m.pos=p),T&&Array.isArray(T)&&(m.expdir=T),p=Object.assign({w:u[0].w,h:u[0].h,format:u},m),(T=l.A(w,"ortb2Imp.banner.battr"))&&(p.battr=T),p)),S&&(A[L.G_]=(u=D,m=l.A(u,"mediaTypes.video.minduration"),w=l.A(u,"mediaTypes.video.maxduration"),T=l.A(u,"mediaTypes.video.playerSize"),p=l.A(u,"mediaTypes.video.api"),S=l.A(u,"mediaTypes.video.mimes"),B=l.A(u,"mediaTypes.video.placement"),U=l.A(u,"mediaTypes.video.plcmt"),oe=l.A(u,"mediaTypes.video.protocols"),k=l.A(u,"mediaTypes.video.playbackmethod"),M=l.A(u,"mediaTypes.video.pos"),Y=l.A(u,"mediaTypes.video.startdelay"),X=l.A(u,"mediaTypes.video.skip"),P=l.A(u,"mediaTypes.video.skipmin"),R=l.A(u,"mediaTypes.video.skipafter"),K=l.A(u,"mediaTypes.video.minbitrate"),Q=l.A(u,"mediaTypes.video.maxbitrate"),m={minduration:m=m&&e.Fq(m)?m:0,maxduration:w,api:p,mimes:S,placement:B,protocols:oe},T!==void 0&&(e.cy(T[0])?(m.w=parseInt(T[0][0]),m.h=parseInt(T[0][1])):e.Et(T[0])&&(m.w=parseInt(T[0]),m.h=parseInt(T[1]))),k&&(m.playbackmethod=k),U&&(m.plcmt=U),M&&(m.pos=M),Y&&e.Fq(Y)&&(m.startdelay=Y),!X||X!==0&&X!==1||(m.skip=X),P&&e.Fq(P)&&(m.skipmin=P),R&&e.Fq(R)&&(m.skipafter=R),K&&e.Fq(K)&&(m.minbitrate=K),Q&&e.Fq(Q)&&(m.maxbitrate=Q),(w=l.A(u,"ortb2Imp.video.battr"))&&(m.battr=w),m)),Object.assign(E,A),(B=(S=D).params.bidfloor||(e.fp(S.getFloor)&&(S=S.getFloor({currency:"USD",mediaType:"*",size:"*"}),e.Qd(S))&&!isNaN(S.floor)&&S.currency==="USD"?S.floor:null))&&(E.bidfloor=parseFloat(B),E.bidfloorcur="USD"),oe=l.A(D,"ortb2Imp.secure"),E.secure=(0,e.Et)(oe)?oe:1,e.D9(E,D.ortb2Imp),E;var U,k,M,Y,X,P,R,K,Q,w,u,p,T,m,E,S,A,B,oe}),site:(c=O,h=_,h=e.D9({page:l.A(c,"refererInfo.page"),ref:l.A(c,"refererInfo.ref"),publisher:{id:l.A(c,"bids.0.params.publisherId")}},h.site),(c=c.refererInfo.domain)&&r.J(h,"publisher.domain",c),h),device:(c=_,h=navigator.language||navigator.browserLanguage||navigator.userLanguage||navigator.systemLanguage,h={ua:navigator.userAgent,dnt:e.l9()?1:0,language:h,connectiontype:(0,g.Z)()},e.D9(h,c.device),h),user:(c=_,h={},(f=O).gdprConsent&&r.J(h,"ext.consent",f.gdprConsent.consentString),e.O8(l.A(f,"bids.0.userId.tdid"))&&(h.buyeruid=f.bids[0].userId.tdid),(f=l.A(f,"bids.0.userIdAsEids"))&&f.length&&r.J(h,"ext.eids",f),e.D9(h,c.user),h),at:1,cur:["USD"],regs:(f={},(c=O).gdprConsent&&typeof c.gdprConsent.gdprApplies=="boolean"&&r.J(f,"ext.gdpr",c.gdprConsent.gdprApplies?1:0),c.uspConsent&&r.J(f,"ext.us_privacy",c.uspConsent),I.$W.getConfig("coppa")===!0&&(f.coppa=1),(h=c.ortb2)!=null&&h.regs&&e.D9(f,c.ortb2.regs),f),source:(h=ee,c={tid:(c=(c=(c=O)==null?void 0:c.ortb2)==null?void 0:c.source)==null?void 0:c.tid},h[0].schain&&r.J(c,"ext.schain",h[0].schain),c),ext:{ttdprebid:{ver:"TTD-PREBID-2024.07.28",pbjs:"9.37.0",keywords:(ee=(f=_).site)!=null&&ee.keywords?f.site.keywords.split(",").map(function(D){return D.trim()}):[]}}};return _&&_.bcat&&(h.bcat=_.bcat),_&&_.badv&&(h.badv=_.badv),_&&_.app&&(h.app=_.app),(_&&_.pmp||C&&C.pmp)&&h.imp.forEach(function(D){D.pmp=e.D9({},D.pmp||{},(_===null?void 0:_.pmp)||{},(C===null?void 0:C.pmp)||{})}),{method:"POST",url:(O.bids[0].params.useHttp2?"https://d2.adsrvr.org/bid/bidder/":"https://direct.adsrvr.org/bid/bidder/")+O.bids[0].params.supplySourceId,data:h,options:{withCredentials:!0}}},interpretResponse:function(ee,O){var f,c,_=l.A(ee,"body.seatbid"),C=l.A(ee,"body.cur");return _&&_.length!==0?(f=[],c=l.A(O,"data.imp"),_.forEach(function(h){h.bid.forEach(function(D){var U=c.find(function(Y){return Y.id===D.impid}),k=D.price||0,M={requestId:D.impid,cpm:k,creativeId:D.crid,dealId:D.dealid||null,currency:C||"USD",netRevenue:!0,ttl:D.ttl||360,meta:{}};D.adomain&&0<D.adomain.length&&(M.meta.advertiserDomains=D.adomain),D.ext.mediatype===1?Object.assign(M,{width:D.w,height:D.h,ad:e.ZU(D.adm,k),mediaType:L.D4}):D.ext.mediatype===2&&(Object.assign(M,{width:U.video.w,height:U.video.h,mediaType:L.G_}),D.nurl?M.vastUrl=e.ZU(D.nurl,k):M.vastXml=e.ZU(D.adm,k)),f.push(M)})}),f):[]},getUserSyncs:function(ee,O){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},_=3<arguments.length&&arguments[3]!==void 0?arguments[3]:"",f=[],c="&gdpr=".concat(c.gdprApplies?1:0,"&gdpr_consent=").concat(encodeURIComponent(c.consentString)),_="https://match.adsrvr.org/track/usersync?us_privacy=".concat(encodeURIComponent(_)).concat(c);return ee.pixelEnabled?f.push({type:"image",url:_+"&ust=image"}):ee.iframeEnabled&&f.push({type:"iframe",url:_+"&ust=iframe"}),f}},(0,x.a$)(ie),(0,o.E)("ttdBidAdapter")}},function(s){s.O(0,[259,802,2139,1085],function(){return s(s.s=3429)}),s.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[8907],{7281:function(s,$,a){var o=a(7873),r=a(1069),e=a(9214),w=a(2938),l=a(5569),I=a(8044);function x(u){return!!(typeof u=="object"&&u!==null&&u.advertising_token&&u.identity_expires&&u.refresh_from&&u.refresh_token&&u.refresh_expires)}function L(u){return"UID2 shared library - ".concat(u)}function g(u){for(var p=arguments.length,T=new Array(1<p?p-1:0),m=1;m<p;m++)T[m-1]=arguments[m];u.apply(void 0,be([L(T[0])],T.slice(1),!1))}ee.prototype.createArrayBuffer=function(u){for(var p=new Uint8Array(u.length),T=0;T<u.length;T++)p[T]=u.charCodeAt(T);return p},ee.prototype.hasStatusResponse=function(u){return typeof u=="object"&&u&&u.status},ee.prototype.isValidRefreshResponse=function(u){return this.hasStatusResponse(u)&&(u.status==="optout"||u.status==="expired_token"||u.status==="success"&&u.body&&x(u.body))},ee.prototype.ResponseToRefreshResult=function(u){return this.isValidRefreshResponse(u)?u.status==="success"?{status:u.status,identity:u.body}:u:L("Response didn't contain a valid status")},ee.prototype.callRefreshApi=function(u){var p,T,m=this,E=this._baseUrl+"/v2/token/refresh",S=new Promise(function(A,B){p=A,T=B});return this._logInfo("Sending refresh request",u),(0,I.RD)(E,{success:function(A){try{var B,oe,J;u.refresh_response_key?(m._logInfo("Decrypting refresh API response"),B=m.createArrayBuffer(atob(A)),window.crypto.subtle.importKey("raw",m.createArrayBuffer(atob(u.refresh_response_key)),{name:"AES-GCM"},!1,["decrypt"]).then(function(z){m._logInfo("Imported decryption key"),window.crypto.subtle.decrypt({name:"AES-GCM",iv:B.slice(0,12),tagLength:128},z,B.slice(12)).then(function(re){re=String.fromCharCode.apply(String,new Uint8Array(re)),m._logInfo("Decrypted to:",re),re=JSON.parse(re),re=m.ResponseToRefreshResult(re),typeof re=="string"?T(L(re)):p(re)},function(re){return m._logWarn(L("Call to UID2 API failed"),re)})},function(z){return m._logWarn(L("Call to UID2 API failed"),z)})):(m._logInfo("No response decryption key available, assuming unencrypted JSON"),oe=JSON.parse(A),typeof(J=m.ResponseToRefreshResult(oe))=="string"?T(L(J)):p(J))}catch{T(L(A))}},error:function(A,B){try{m._logInfo("Error status, assuming unencrypted JSON");var oe=JSON.parse(B.responseText),J=m.ResponseToRefreshResult(oe);typeof J=="string"?T(L(J)):p(J)}catch{T(L(A))}}},u.refresh_token,{method:"POST",customHeaders:{"X-UID2-Client-Version":this._clientVersion}}),S};var ie=ee;function ee(u,p,T,m){this._baseUrl=u.baseUrl,this._clientVersion=p,this._logInfo=function(){for(var E=arguments.length,S=new Array(E),A=0;A<E;A++)S[A]=arguments[A];return g.apply(void 0,be([T],S,!1))},this._logWarn=m}f.prototype.readCookie=function(u){return this._storage.cookiesAreEnabled()?this._storage.getCookie(u):null},f.prototype.readLocalStorage=function(u){return this._storage.localStorageIsEnabled()?this._storage.getDataFromLocalStorage(u):null},f.prototype.readModuleCookie=function(){return this.parseIfContainsBraces(this.readCookie(this._storageName))},f.prototype.writeModuleCookie=function(u){this._storage.setCookie(this._storageName,JSON.stringify(u),Date.now()+864e5)},f.prototype.readModuleStorage=function(){return this.parseIfContainsBraces(this.readLocalStorage(this._storageName))},f.prototype.writeModuleStorage=function(u){this._storage.setDataInLocalStorage(this._storageName,JSON.stringify(u))},f.prototype.readProvidedCookie=function(u){return JSON.parse(this.readCookie(u))},f.prototype.parseIfContainsBraces=function(u){return u!=null&&u.includes("{")?JSON.parse(u):u},f.prototype.storeValue=function(u){this._preferLocalStorage?this.writeModuleStorage(u):this.writeModuleCookie(u)},f.prototype.getStoredValueWithFallback=function(){var u=this._preferLocalStorage?"local storage":"cookie",m=(this._preferLocalStorage?this.readModuleStorage:this.readModuleCookie).bind(this),p=(this._preferLocalStorage?this.writeModuleStorage:this.writeModuleCookie).bind(this),T=(this._preferLocalStorage?this.readModuleCookie:this.readModuleStorage).bind(this),m=m();if(m){if(typeof m=="string"){var E=T();if(E&&typeof E=="object")return this._logInfo("".concat(u," contained a basic token, but found a refreshable token fallback. Copying the fallback value to ").concat(u,".")),p(E),E}}else if(E=T(),E)return this._logInfo("".concat(u," was empty, but found a fallback value.")),typeof E=="object"&&(this._logInfo("Copying the fallback value to ".concat(u,".")),p(E)),E;return m};var O=f;function f(u,p,T,m){this._storage=u,this._preferLocalStorage=p,this._storageName=T,this._logInfo=function(){for(var E=arguments.length,S=new Array(E),A=0;A<E;A++)S[A]=arguments[A];return g.apply(void 0,be([m],S,!1))}}function c(u,p,T,m,E,S){return E("UID2 base url provided: ",u),new ie({baseUrl:u},T,E,S).callRefreshApi(p).then(function(B){E("Refresh endpoint responded with:",B);var B={originalToken:p,latestToken:B.identity},oe=m.getStoredValueWithFallback();return oe!=null&&oe.originalIdentity&&(B.originalIdentity=oe.originalIdentity),m.storeValue(B),B})}var _={isCSTGOptionsValid:function(u,p){var T;return typeof u!="object"||u===null?(p('CSTG is not being used, but is included in the Prebid.js bundle. You can reduce the bundle size by passing "--disable UID2_CSTG" to the Prebid.js build.'),!1):(u=u).serverPublicKey||u.subscriptionId?typeof u.serverPublicKey!="string"?(p("CSTG opts.serverPublicKey must be a string"),!1):(T=/^(UID2|EUID)-X-[A-Z]-.+/).test(u.serverPublicKey)?typeof u.subscriptionId!="string"?(p("CSTG opts.subscriptionId must be a string"),!1):u.subscriptionId.length!==0||(p("CSTG opts.subscriptionId is empty"),!1):(p("CSTG opts.serverPublicKey must match the regular expression ".concat(T)),!1):(p("CSTG has been enabled but its parameters have not been set."),!1)},getValidIdentity:function(u,p){var T;return u.emailHash?C.isBase64Hash(u.emailHash)?{email_hash:u.emailHash}:void p("CSTG opts.emailHash is invalid"):u.phoneHash?C.isBase64Hash(u.phoneHash)?{phone_hash:u.phoneHash}:void p("CSTG opts.phoneHash is invalid"):u.email?(T=C.normalizeEmail(u.email))===void 0?void p("CSTG opts.email is invalid"):{email:T}:u.phone?C.isNormalizedPhone(u.phone)?{phone:u.phone}:void p("CSTG opts.phone is invalid"):void 0},isStoredTokenInvalid:function(u,p,T,m){if(p){if(p.latestToken==="optout")return!0;var E=Object.values(u)[0];if(!this.isStoredTokenFromSameIdentity(p,E))return T("CSTG supplied new identity - ignoring stored value.",p.originalIdentity,u),!0}return!1},generateTokenAndStore:function(u,p,T,m,E,S){return Fe(this,void 0,void 0,function(){var A;return Ee(this,function(B){switch(B.label){case 0:return E("UID2 cstg opts provided: ",JSON.stringify(p)),[4,new h({baseUrl:u,cstg:p},E,S).generateToken(T)];case 1:return A=B.sent(),E("CSTG endpoint responded with:",A),A={originalIdentity:this.encodeOriginalIdentity(T),latestToken:A.identity},[2,(m.storeValue(A),A)]}})})},isStoredTokenFromSameIdentity:function(u,p){return!!u.originalIdentity&&(0,r.PB)(p,u.originalIdentity.salt)===u.originalIdentity.identity},encodeOriginalIdentity:function(p){var p=Object.values(p)[0],T=Math.floor(Math.random()*Math.pow(2,32));return{identity:(0,r.PB)(p,T),salt:T}}},C=(X.isBase64Hash=function(u){if(!u||u.length!==44)return!1;try{return btoa(atob(u))===u}catch{return!1}},X.isNormalizedPhone=function(u){return/^\+[0-9]{10,15}$/.test(u)},X.normalizeEmail=function(u){if(u&&u.length&&(u=u.trim().toLowerCase(),!(0<u.indexOf(" ")))){var p,T,u=this.splitEmailIntoAddressAndDomain(u);if(u)return T=u.address,p=this.isGmail(u=u.domain),(T=this.normalizeAddressPart(T,p,p))?"".concat(T,"@").concat(u):void 0}},X.splitEmailIntoAddressAndDomain=function(u){if(u=u.split("@"),u.length===2&&!u.some(function(p){return p===""}))return{address:u[0],domain:u[1]}},X.isGmail=function(u){return u===this.GMAIL_DOMAIN},X.dropExtension=function(u){var p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.EMAIL_EXTENSION_SYMBOL;return u.split(p)[0]},X.normalizeAddressPart=function(u,p,T){return p&&(u=u.replaceAll(this.EMAIL_DOT,"")),u=T?this.dropExtension(u):u},X.EMAIL_EXTENSION_SYMBOL="+",X.EMAIL_DOT=".",X.GMAIL_DOMAIN="gmail.com",X),h=(Y.prototype.hasStatusResponse=function(u){return typeof u=="object"&&u&&u.status},Y.prototype.isCstgApiSuccessResponse=function(u){return this.hasStatusResponse(u)&&u.status==="success"&&x(u.body)},Y.prototype.isCstgApiOptoutResponse=function(u){return this.hasStatusResponse(u)&&u.status==="optout"},Y.prototype.isCstgApiClientErrorResponse=function(u){return this.hasStatusResponse(u)&&u.status==="client_error"&&typeof u.message=="string"},Y.prototype.isCstgApiForbiddenResponse=function(u){return this.hasStatusResponse(u)&&u.status==="invalid_http_origin"&&typeof u.message=="string"},Y.prototype.stripPublicKeyPrefix=function(u){return u.substring(9)},Y.prototype.generateCstgRequest=function(u){return Fe(this,void 0,void 0,function(){var p,T;return Ee(this,function(m){switch(m.label){case 0:return"email_hash"in u||"phone_hash"in u?[2,u]:"email"in u?(p={},[4,U.hash(u.email)]):[3,2];case 1:return[2,(p.email_hash=m.sent(),p)];case 2:return"phone"in u?(T={},[4,U.hash(u.phone)]):[3,4];case 3:return[2,(T.phone_hash=m.sent(),T)];case 4:return[2]}})})},Y.prototype.generateToken=function(u){return Fe(this,void 0,void 0,function(){var p,T,m,E,S,A,B;return Ee(this,function(oe){switch(oe.label){case 0:return[4,this.generateCstgRequest(u)];case 1:return p=oe.sent(),this._logInfo("Building CSTG request for",p),[4,D.build(this.stripPublicKeyPrefix(this._serverPublicKey))];case 2:return T=oe.sent(),E=new TextEncoder,m=Date.now(),[4,T.encrypt(E.encode(JSON.stringify(p)),E.encode(JSON.stringify([m])))];case 3:return E=oe.sent(),S=E.iv,A=E.ciphertext,[4,U.exportPublicKey(T.clientPublicKey)];case 4:return B=oe.sent(),B={payload:U.bytesToBase64(new Uint8Array(A)),iv:U.bytesToBase64(new Uint8Array(S)),public_key:U.bytesToBase64(new Uint8Array(B)),timestamp:m,subscription_id:this._subscriptionId},[2,this.callCstgApi(B,T)]}})})},Y.prototype.callCstgApi=function(u,p){return Fe(this,void 0,void 0,function(){var T,m,E,S,A=this;return Ee(this,function(B){return T=this._baseUrl+"/v2/token/client-generate",S=new Promise(function(oe,J){m=oe,E=J}),[2,(this._logInfo("Sending CSTG request",u),(0,I.RD)(T,{success:function(oe,J){return Fe(A,void 0,void 0,function(){var z,re,ge;return Ee(this,function(W){switch(W.label){case 0:return W.trys.push([0,2,,3]),z=U.base64ToBytes(oe),[4,p.decrypt(z.slice(0,12),z.slice(12))];case 1:return z=W.sent(),re=new TextDecoder().decode(z),ge=JSON.parse(re),this.isCstgApiSuccessResponse(ge)?m({status:"success",identity:ge.body}):this.isCstgApiOptoutResponse(ge)?m({status:"optout",identity:"optout"}):E(L("API error: Response body was invalid for HTTP status 200: ".concat(re))),[3,3];case 2:return ge=W.sent(),E(L(ge)),[3,3];case 3:return[2]}})})},error:function(oe,J){try{var z,re;J.status===400?(z=JSON.parse(J.responseText),A.isCstgApiClientErrorResponse(z)?E(L("Client error: ".concat(z.message))):E(L("UID2 API error: Response body was invalid for HTTP status 400: ".concat(J.responseText)))):J.status===403?(re=JSON.parse(J.responseText),A.isCstgApiForbiddenResponse(J)?E(L("Forbidden: ".concat(re.message))):E(L("UID2 API error: Response body was invalid for HTTP status 403: ".concat(J.responseText)))):E(L("UID2 API error: Unexpected HTTP status ".concat(J.status,": ").concat(oe)))}catch{E(L(oe))}}},JSON.stringify(u),{method:"POST"}),S)]})})},Y),D=(M.build=function(u){return Fe(this,void 0,void 0,function(){var p,T;return Ee(this,function(m){switch(m.label){case 0:return[4,U.generateKeyPair(M._namedCurve)];case 1:return p=m.sent(),[4,U.importPublicKey(u,this._namedCurve)];case 2:return T=m.sent(),[4,U.deriveKey(T,p.privateKey)];case 3:return T=m.sent(),[2,new M(p.publicKey,T)]}})})},M.prototype.encrypt=function(u,p){return Fe(this,void 0,void 0,function(){var T,m;return Ee(this,function(E){switch(E.label){case 0:return T=window.crypto.getRandomValues(new Uint8Array(12)),m={iv:T},[4,window.crypto.subtle.encrypt({name:"AES-GCM",iv:T,additionalData:p},this._sharedKey,u)];case 1:return[2,(m.ciphertext=E.sent(),m)]}})})},M.prototype.decrypt=function(u,p){return Fe(this,void 0,void 0,function(){return Ee(this,function(T){return[2,window.crypto.subtle.decrypt({name:"AES-GCM",iv:u},this._sharedKey,p)]})})},Object.defineProperty(M.prototype,"clientPublicKey",{get:function(){return this._clientPublicKey},enumerable:!1,configurable:!0}),M._namedCurve="P-256",M),U=(k.base64ToBytes=function(u){return u=atob(u),Uint8Array.from(u,function(p){return p.codePointAt(0)})},k.bytesToBase64=function(u){return u=Array.from(u,function(p){return String.fromCodePoint(p)}).join(""),btoa(u)},k.generateKeyPair=function(u){return Fe(this,void 0,void 0,function(){var p;return Ee(this,function(T){return p={name:"ECDH",namedCurve:u},[2,window.crypto.subtle.generateKey(p,!1,["deriveKey"])]})})},k.importPublicKey=function(u,p){return Fe(this,void 0,void 0,function(){var T;return Ee(this,function(m){return T={name:"ECDH",namedCurve:p},[2,window.crypto.subtle.importKey("spki",this.base64ToBytes(u),T,!1,[])]})})},k.exportPublicKey=function(u){return window.crypto.subtle.exportKey("spki",u)},k.deriveKey=function(u,p){return Fe(this,void 0,void 0,function(){return Ee(this,function(T){return[2,window.crypto.subtle.deriveKey({name:"ECDH",public:u},p,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])]})})},k.hash=function(u){return Fe(this,void 0,void 0,function(){var p;return Ee(this,function(T){switch(T.label){case 0:return[4,window.crypto.subtle.digest("SHA-256",new TextEncoder().encode(u))];case 1:return p=T.sent(),[2,this.bytesToBase64(new Uint8Array(p))]}})})},k);function k(){}function M(u,p){this._clientPublicKey=u,this._sharedKey=p}function Y(u,p,T){this._baseUrl=u.baseUrl,this._serverPublicKey=u.cstg.serverPublicKey,this._subscriptionId=u.cstg.subscriptionId,this._logInfo=function(){for(var m=arguments.length,E=new Array(m),S=0;S<m;S++)E[S]=arguments[S];return g.apply(void 0,be([p],E,!1))},this._logWarn=T}function X(){}(0,o.E)("uid2IdSystem_shared"),a=a(646);function P(u,p){return function(){for(var T=arguments.length,m=new Array(T),E=0;E<T;E++)m[E]=arguments[E];u.apply(void 0,be([p+" "],m,!1))}}var R=P(r.fH,"UID2: "),K=P(r.JE,"UID2: "),Q=(0,w.vM)({moduleType:l.fW,moduleName:"uid2"}),w={name:"uid2",decode:function(u){return u=typeof(u=u)=="string"?(R("Found server-only token. Refresh is unavailable for this token."),{uid2:{id:u}}):u.latestToken==="optout"?(R("Found optout token.  Refresh is unavailable for this token."),{uid2:{optout:!0}}):Date.now()<u.latestToken.identity_expires?{uid2:{id:u.latestToken.advertising_token}}:null,R("UID2 decode returned",u),u},getId:function(u,p){var T;if(((p=p==null?void 0:p.gdpr)==null?void 0:p.gdprApplies)!==!0)return(p={apiBaseUrl:(p=(p=u==null?void 0:u.params)==null?void 0:p.uid2ApiBase)!=null?p:"https://prod.uidapi.com",paramToken:(p=u==null?void 0:u.params)==null?void 0:p.uid2Token,serverCookieName:(p=(p=u==null?void 0:u.params)==null?void 0:p.uid2Cookie)!=null?p:(p=u==null?void 0:u.params)==null?void 0:p.uid2ServerCookie,storage:(p=(p=u==null?void 0:u.params)==null?void 0:p.storage)!=null?p:"localStorage",clientId:"PrebidJS-9.37.0-UID2Module-1.1",internalStorage:"__uid2_advertising_token"}).cstg=F({serverPublicKey:(T=u==null?void 0:u.params)==null?void 0:T.serverPublicKey,subscriptionId:(T=u==null?void 0:u.params)==null?void 0:T.subscriptionId},(m=>{for(var E,S=0,A=["emailHash","phoneHash","email","phone"];S<A.length;S++){var B=A[S];if(m.hasOwnProperty(B))return(E={})[B]=m[B],E}return{}})((T=u==null?void 0:u.params)!=null?T:{})),R("UID2 configuration loaded and mapped.",p),u=((m,E,S)=>{function A(){for(var j=arguments.length,N=new Array(j),q=0;q<j;q++)N[q]=arguments[q];return g.apply(void 0,be([E],N,!1))}var B=null,oe=m.storage!=="cookie",J=new O(Q,oe,m.internalStorage,A);A("Module is using ".concat(oe?"local storage":"cookies"," for internal storage.")),(oe=_&&_.isCSTGOptionsValid(m.cstg,S))?(A("Module is using client-side token generation."),B=null):m.paramToken?A("Read token from params",B=m.paramToken):m.serverCookieName&&(B=J.readProvidedCookie(m.serverCookieName),A("Read token from server-supplied cookie",B));var z=J.getStoredValueWithFallback();if(A("Loaded module-stored tokens:",z),z&&typeof z=="string"){if(!B&&!oe)return A("Returning legacy cookie value."),{id:z};A("Discarding superseded legacy cookie."),z=null}if(B&&z&&((ge=z.originalToken)==null?void 0:ge.advertising_token)!==B.advertising_token&&(A("Server supplied new token - ignoring stored value.",(ge=z.originalToken)==null?void 0:ge.advertising_token,B.advertising_token),z=null),oe){var re,ge=_.getValidIdentity(m.cstg,S);if(ge&&(!(z=z&&_.isStoredTokenInvalid(ge,z,A,S)?null:z)||Date.now()>z.latestToken.refresh_expires))return re=_.generateTokenAndStore(m.apiBaseUrl,m.cstg,ge,J,A,S),A("Generate token using CSTG"),{callback:function(j){re.then(function(N){A("Token generation responded, passing the new token on.",N),j(N)})}}}var W,Z=(ge=!(z!=null&&z.latestToken)||B&&B.identity_expires>z.latestToken.identity_expires)?B:z.latestToken;return A("UID2 module selected latest token",ge,Z),!Z||Date.now()>Z.refresh_expires?(A("Newest available token is expired and not refreshable."),{id:null}):Date.now()>Z.identity_expires?(W=c(m.apiBaseUrl,Z,m.clientId,J,A,S),A("Token is expired but can be refreshed, attempting refresh."),{callback:function(j){W.then(function(N){A("Refresh reponded, passing the updated token on.",N),j(N)})}}):(Date.now()>Z.refresh_from&&(A("Refreshing token in background with low priority."),c(m.apiBaseUrl,Z,m.clientId,J,A,S)),ge={originalToken:B!=null?B:z==null?void 0:z.originalToken,latestToken:Z},oe&&(ge.originalIdentity=z==null?void 0:z.originalIdentity),J.storeValue(ge),{id:ge})})(p,R,K),R("UID2 getId returned",u),u;K("UID2 is not intended for use where GDPR applies. The UID2 module will not run.")},eids:a.x};(0,e.bz)("userId",w),(0,o.E)("uid2IdSystem")}},function(s){s.O(0,[4950,802,2139,1085],function(){return s(s.s=7281)}),s.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[891],{8413:function(s,$,I){var o=I(7873),r=I(1069),e=I(8044),l=I(9214),I=I(2660),I={name:"unifiedId",gvlid:21,decode:function(x){return x&&typeof x.TDID=="string"?{tdid:x.TDID}:void 0},getId:function(g){var L,g=g&&g.params||{};if(g&&(typeof g.partner=="string"||typeof g.url=="string"))return L=g.url||"https://match.adsrvr.org/track/rid?ttd_pid=".concat(g.partner,"&fmt=json"),{callback:function(ie){(0,e.RD)(L,{success:function(ee){var O;if(ee)try{O=JSON.parse(ee)}catch(f){(0,r.vV)(f)}ie(O)},error:function(ee){(0,r.vV)("".concat("unifiedId",": ID fetch encountered an error"),ee),ie()}},void 0,{method:"GET",withCredentials:!0})}};(0,r.vV)("User ID - unifiedId submodule requires either partner or url to be defined")},eids:F({},I.M)};(0,l.bz)("userId",I),(0,o.E)("unifiedIdSystem")}},function(s){s.O(0,[7045,802,2139,1085],function(){return s(s.s=8413)}),s.O()}]),(self.pbjsChunk=self.pbjsChunk||[]).push([[3469],{4836:function(s,$,a){var o=a(7873),r=a(5901),e=a(3272),l=a(5023),I=a(1445),x=a(8969),L=a(9214),g=a(1069),ie=new Map;function ee(Be,Ge){var $e=1<arguments.length&&Ge!==void 0?Ge:ie,Je={};function Ke(qe){var ze,Ye=JSON.stringify(be([(Ye=qe.source)==null?void 0:Ye.toLowerCase()],Object.keys(qe).filter(function(Ze){return!["uids","source"].includes(Ze)}).sort().map(function(Ze){return qe[Ze]}),!0));Je.hasOwnProperty(Ye)?(ze=Je[Ye].uids).push.apply(ze,qe.uids):Je[Ye]=qe}return Object.entries(Be).forEach(function(qe){var ze,Ye=qe[0],Ze=qe[1],Ze=Array.isArray(Ze)?Ze:[Ze],rt=$e.get(Ye);if(Ye==="pubProvidedId")ze=(0,g.Go)(Ze);else if(typeof rt=="function")try{ze=rt(Ze),(ze=Array.isArray(ze)?ze:[ze]).forEach(function(tt){return tt.uids=tt.uids.filter(function(nt){return nt=nt.id,(0,g.O8)(nt)})}),ze=ze.filter(function(tt){return tt=tt.uids,0<(tt==null?void 0:tt.length)})}catch(tt){(0,g.vV)('Could not generate EID for "'.concat(Ye,'"'),tt)}else ze=Ze.map(function(tt){var nt=rt;if(nt&&tt){var at,pt={},ht=(pt.source=(0,g.fp)(nt.getSource)?nt.getSource(tt):nt.source,(0,g.fp)(nt.getValue)?nt.getValue(tt):tt);if((0,g.O8)(ht))return ht={id:ht,atype:nt.atype},(0,g.fp)(nt.getUidExt)&&(at=nt.getUidExt(tt))&&(ht.ext=at),pt.uids=[ht],(0,g.fp)(nt.getEidExt)&&(at=nt.getEidExt(tt))&&(pt.ext=at),pt}return null});Array.isArray(ze)&&ze.filter(function(tt){return tt!=null}).forEach(Ke)}),Object.values(Je)}function O(Be){var Ge=new Map,$e={};return Object.entries(Be).forEach(function(Je){var Ke,qe=Je[0],ze=(0,Je[1])();ze&&($e[qe]=ze.idObj[qe],typeof(Je=(Je=ze.submodule.eids)==null?void 0:Je[qe])=="function"&&(Ke=Je,Je=function(){for(var Ye=arguments.length,Ze=new Array(Ye),rt=0;rt<Ye;rt++)Ze[rt]=arguments[rt];return Ke.apply(void 0,be(be([],Ze,!1),[ze.config],!1))}),Ge.set(qe,Je))}),ee($e,Ge)}var f,c,_,C,h,D,U,k=a(2938),M=a(3172),Y=a(1692),X=a(5555),P=a(6894),R=a(5973),K=a(6916),Q=a(5569),w=a(5139),u=a(6811),p=a(3441),T=a(8230),m=a(7332),E="User ID",S=k.X0,A=k.qk,B="_pbjs_id_optout",oe=(0,k.CK)("userId"),J={isAllowed:w.io},z=[],re=[],ge={},W=[],Z=function(){return U=U==null?(0,P.K7)():U};function j(Be){return Z().fork().renameWith(function(Ge){return["userId.mod.".concat(Ge),"userId.mods.".concat(Be,".").concat(Ge)]})}function N(Be,Ge){Ge=Ge||Be.storageMgr;var $e=typeof Be.submodule.domainOverride=="function"?Be.submodule.domainOverride():null,Je=Be.config.storage.name;return function(Ke,qe,ze){Ge.setCookie(Je+(Ke||""),qe,ze,"Lax",$e)}}function q(Be,Ge){var $e=Be.config.storage;try{var Je=new Date(Date.now()+864e5*$e.expires).toUTCString(),Ke=(0,g.Qd)(Ge)?JSON.stringify(Ge):Ge;Be.enabledStorageTypes.forEach(function(qe){switch(qe){case S:ze=Ke,Ye=Je,Ze=Be.config.storage,(rt=N(Be))(null,ze,Ye),rt("_cst",xe(),Ye),typeof Ze.refreshInSeconds=="number"&&rt("_last",new Date().toUTCString(),Ye);break;case A:ze=Ke,Ze=Je,rt=Be.config.storage,(Ye=Be.storageMgr).setDataInLocalStorage("".concat(rt.name,"_exp"),Ze),Ye.setDataInLocalStorage("".concat(rt.name,"_cst"),xe()),Ye.setDataInLocalStorage(rt.name,encodeURIComponent(ze)),typeof rt.refreshInSeconds=="number"&&Ye.setDataInLocalStorage("".concat(rt.name,"_last"),new Date().toUTCString())}var ze,Ye,Ze,rt})}catch(qe){(0,g.vV)(qe)}}function he(Be){et(Be),Be.enabledStorageTypes.forEach(function(Ge){switch(Ge){case S:Je=N(Be,oe),Ke=new Date(Date.now()-864e5).toUTCString(),["","_last","_cst"].forEach(function(qe){try{Je(qe,"",Ke)}catch(ze){(0,g.vV)(ze)}});break;case A:$e=Be,["","_last","_exp","_cst"].forEach(function(qe){try{oe.removeDataFromLocalStorage($e.config.storage.name+qe)}catch(ze){(0,g.vV)(ze)}})}var $e,Je,Ke})}function ue(Be){var Ge,$e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:void 0,Je=Be.config.storage,Ke=$e?"".concat(Je.name,"_").concat($e):Je.name;try{Be.enabledStorageTypes.find(function(qe){switch(qe){case S:Ge=Be.storageMgr.getCookie(Ke);break;case A:ze=Ke,Ye=Be.storageMgr,Ze=Be.config.storage,Ze=Ye.getDataFromLocalStorage("".concat(Ze.name,"_exp")),Ge=Ze===""?Ye.getDataFromLocalStorage(ze):Ze&&0<new Date(Ze).getTime()-Date.now()?decodeURIComponent(Ye.getDataFromLocalStorage(ze)):void 0}var ze,Ye,Ze;return!!Ge}),typeof Ge=="string"&&Ge.trim().charAt(0)==="{"&&(Ge=JSON.parse(Ge))}catch(qe){(0,g.vV)(qe)}return Ge}function me(Be,Ge,$e){Ge=Z().fork().startTiming("userId.callbacks.total").stopBefore(Ge);var Je=(0,g.U6)(function(){clearTimeout(c),Ge()},Be.length);Be.forEach(function(Ke){var qe=j(Ke.submodule.name).startTiming("callback").stopBefore(Je);try{Ke.callback(function(ze){ze?(Ke.config.storage&&q(Ke,ze),Ke.idObj=Ke.submodule.decode(ze,Ke.config),$e.refresh(),Me($e)):(0,g.fH)("".concat(E,": ").concat(Ke.submodule.name," - request id responded with an empty value")),qe()},ue.bind(null,Ke))}catch(ze){(0,g.vV)("Error in userID module '".concat(Ke.submodule.name,"':"),ze),qe()}Ke.callback=void 0})}function Oe(Be){return Object.fromEntries(Object.entries(Be).map(function(Ge){var $e=Ge[0];return[$e,(Ge=(Ge=(0,Ge[1])())==null?void 0:Ge.idObj)==null?void 0:Ge[$e]]}).filter(function(Ge){return Ge[0],Ge[1]!=null}))}function se(Be,Ge,$e){var Je={};return Be.forEach(function(Ke){var qe=$e(Ke),ze=(Ye=>{if(Ye.primaryIds)return Ye.primaryIds;var Ze=Object.keys((Ze=Ye.eids)!=null?Ze:{});if(1<Ze.length)throw new Error("ID submodule ".concat(Ye.name," can provide multiple IDs, but does not specify 'primaryIds'"));return Ze})(qe);Ge(Ke).forEach(function(Ye){var Ze=Je[Ye]=(Ze=Je[Ye])!=null?Ze:[],rt=(tt=(tt=ge[Ye])==null?void 0:tt.indexOf(qe.name))!=null?tt:ze.includes(Ye)?0:-1,tt=Ze.findIndex(function(nt){return nt[0]<rt});Ze.splice(tt===-1?Ze.length:tt,0,[rt,Ke])})}),Object.fromEntries(Object.entries(Je).map(function(Ke){return[Ke[0],Ke[1].map(function(qe){return qe[0],qe[1]})]}))}function ne(){var Be={submodules:[],global:{},bidder:{},combined:{},refresh:function(){var $e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],Ge=new Set($e.map(function(ze){return ze.submodule})),$e=(Be.submodules=Be.submodules.filter(function(ze){return!Ge.has(ze.submodule)}).concat($e),se(Be.submodules,function(ze){return Object.keys((ze=ze.idObj)!=null?ze:{})},function(ze){return ze.submodule})),Je={},Ke={};function qe(ze,Ye,Ze){return function(){for(var rt=0,tt=Ze;rt<tt.length;rt++){var nt,ht=tt[rt],at=ht.allowed,pt=ht.bidders,ht=ht.module;if(((nt=ht.idObj)==null?void 0:nt[ze])!=null){if(at)return ht;if(Ye)return(0,g.JE)("userID modules ".concat((nt=function(yt){return yt.map(function(It){return It.module.submodule.name}).join(", ")})(Ze)," provide the same ID ('").concat(ze,"'); ").concat(ht.submodule.name," is the preferred source, but it's configured only for some bidders, unlike ").concat(nt(Ze.filter(function(yt){return yt.bidders==null})),'. Other bidders will not see the "').concat(ze,'" ID.')),null;if(pt==null)return null}}return null}}Object.entries($e).forEach(function(ze){var Ye=ze[0],tt=ze[1],Ze=!0,rt=new Set,tt=tt.map(function(nt){var at=null;return Array.isArray(nt.config.bidders)&&0<nt.config.bidders.length?(at=nt.config.bidders).forEach(function(pt){return rt.add(pt)}):Ze=!1,{module:nt,bidders:at}});Ze||(Je[Ye]=qe(Ye,!0,tt.map(function(nt){var at=nt.bidders;return{allowed:at==null,bidders:at,module:nt.module}}))),rt.forEach(function(nt){var at;Ke[nt]=(at=Ke[nt])!=null?at:{},Ke[nt][Ye]=qe(Ye,!1,tt.map(function(yt){var ht=yt.bidders,yt=yt.module;return{allowed:ht==null?void 0:ht.includes(nt),bidders:ht,module:yt}}))})}),$e=Object.values(Ke).concat([Je]).reduce(function(ze,Ye){return Object.assign(ze,Ye)},{}),Object.assign(Be,{global:Je,bidder:Ke,combined:$e})}};return Be}function de(Be){var Ge,$e,Je,Ke,qe,ze=Be.adUnits,Ye=Be.ortb2Fragments;Be=(Ye=Ye!=null?Ye:{global:{},bidder:{}}).global,Ge=Ye.bidder,$e=f.global,Je=f.bidder,0<($e=O($e)).length&&(0,M.J)(Be,"user.ext.eids",((Be=(Be=(Be=Be.user)==null?void 0:Be.ext)==null?void 0:Be.eids)!=null?Be:[]).concat($e)),Object.entries(Je).forEach(function(tt){var rt=tt[0],tt=O(tt[1]);0<tt.length&&(0,M.J)(Ge,"".concat(rt,".user.ext.eids"),((rt=(rt=(rt=(rt=Ge[rt])==null?void 0:rt.user)==null?void 0:rt.ext)==null?void 0:rt.eids)!=null?rt:[]).concat(tt))}),[ze].some(function(Ze){return!Array.isArray(Ze)||!Ze.length})||(Ke=Oe(f.global),qe=(($e=(Be=Ye.global.user)==null?void 0:Be.ext)==null?void 0:$e.eids)||[],ze.forEach(function(Ze){Ze.bids&&(0,g.cy)(Ze.bids)&&Ze.bids.forEach(function(rt){var tt=Object.assign({},Ke,Oe((tt=f.bidder[rt.bidder])!=null?tt:{})),nt=qe.concat(((nt=(nt=(nt=(nt=Ye.bidder)==null?void 0:nt[rt.bidder])==null?void 0:nt.user)==null?void 0:nt.ext)==null?void 0:nt.eids)||[]);0<Object.keys(tt).length&&(rt.userId=tt),0<nt.length&&(rt.userIdAsEids=nt)})}))}var ce,ve={};function pe(Be){if(Be=0<arguments.length&&Be!==void 0?Be:Ce()||[],Be=h&&Be.find(function($e){return $e.source===h}),Be&&typeof((Ge=(Ge=Be==null?void 0:Be.uids)==null?void 0:Ge[0])==null?void 0:Ge.id)=="string"){var Ge=Be.uids[0].id.replace(/[\W_]/g,"");if(32<=Ge.length&&Ge.length<=150)return Ge;(0,g.JE)("User ID - Googletag Publisher Provided ID for ".concat(h," is not between 32 and 150 characters - ").concat(Ge))}}var we=(0,P.Ak)("userId",function(Be,Ge){var $e=this,Ke=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},Je=Ke.mkDelay,Je=Je===void 0?X.cb:Je,Ke=Ke.getIds,Ke=Ke===void 0?Ue:Ke;X.U9.race([Ke().catch(function(){return null}),Je(C)]).then(function(){de(Ge),Z().join((0,P.BO)(Ge.metrics),{propagate:!1,includeGroups:!0}),Be.call($e,Ge)})}),te=(0,P.Ak)("userId",function(Be,Ge){de(Ge),Be.call(this,Ge)});function H(){return m.gH.getHooks({hook:we}).length}function ye(){return Oe(f.combined)}function Ce(){return O(f.combined)}function Se(Be){return Ce().filter(function(Ge){return Ge.source===Be})[0]}function De(Be,Ge,$e){return Ne().then(function(){var Je,Ke={};return(0,g.fp)($e)?((0,g.fH)("".concat(E," - Getting encrypted signal from custom function : ").concat($e.name," & source : ").concat(Be," ")),Je=$e(Be),Ke[Be]=Je?_e(Je):null):(Je=Se(Be),(0,g.fH)("".concat(E," - Getting encrypted signal for eids :").concat(JSON.stringify(Je))),(0,g.Im)(Je)||(Ke[Je.source]=Ge===!0?_e(Je):Je.uids[0].id)),(0,g.fH)("".concat(E," - Fetching encrypted eids: ").concat(Ke[Be])),Ke[Be]})}function _e(Be,$e){var $e=1<arguments.length&&$e!==void 0?$e:1,Je="";return $e===1&&(Je=typeof Be=="object"?window.btoa(JSON.stringify(Be)):window.btoa(Be)),"".concat($e,"||").concat(Je)}function Pe(){var Be,Ge;(0,g.II)()&&(window.googletag.secureSignalProviders=window.googletag.secureSignalProviders||[],(Be=e.$W.getConfig("userSync.encryptedSignalSources"))?(Ge=Be.registerDelay||0,setTimeout(function(){Be.sources&&Be.sources.forEach(function($e){var Je=$e.source,Ke=$e.encrypt,qe=$e.customFunc;Je.forEach(function(ze){window.googletag.secureSignalProviders.push({id:ze,collectorFunction:function(){return De(ze,Ke,qe)}})})})},Ge)):(0,g.JE)("".concat(E," - ESP : encryptedSignalSources config not defined under userSync Object")))}function Ne(Be){return ce(Be).then(ye,function(Ge){return Ge===ve?Promise.resolve().then(Ue):((0,g.vV)("Error initializing userId",Ge),X.U9.reject(Ge))})}function We(){var Be=(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{}).submoduleNames,Ge=1<arguments.length?arguments[1]:void 0;return Ne({refresh:!0,submoduleNames:Be}).then(function($e){return Ge&&(0,g.fp)(Ge)&&Ge(),$e})}function Ue(){return Ne()}function xe(){for(var Be=Number(K.SL.hash),Ge=[];0<Be;)Ge.push(String.fromCharCode(255&Be)),Be>>>=8;return btoa(Ge.join())}function Me($e){var Ge,$e=O($e.combined);$e.length&&h&&(Ge=pe($e))&&((0,g.II)()?window.googletag.pubads().setPublisherProvidedId(Ge):(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push(function(){window.googletag.pubads().setPublisherProvidedId(Ge)})))}function ke(Be,Ge,$e){var Je=2<arguments.length&&$e!==void 0&&$e;return Z().fork().measureTime("userId.init.modules",function(){var Ke;return Ge.length?(Ge.forEach(et),(Ge=Ge.filter(function(qe){return(!qe.config.storage||!!qe.enabledStorageTypes.length)&&J.isAllowed(u.yl,(0,p.s)(Q.fW,qe.config.name))})).length?(Ke=Ge.reduce(function(qe,ze){return j(ze.submodule.name).measureTime("init",function(){try{Ye=ze,Ze=Je,pt=K.SL.getConsentData(),Ye.config.storage?(rt=ue(Ye),tt=!1,typeof Ye.config.storage.refreshInSeconds=="number"&&(tt=(at=new Date(ue(Ye,"last")))&&Date.now()-at.getTime()>1e3*Ye.config.storage.refreshInSeconds),!rt||tt||Ze||!(at=ue(Ye,"cst"))||at!==xe()?(tt=Object.assign({enabledStorageTypes:Ye.enabledStorageTypes},Ye.config),nt=Ye.submodule.getId(tt,pt,rt)):typeof Ye.submodule.extendId=="function"&&(nt=Ye.submodule.extendId(Ye.config,pt,rt)),(0,g.Qd)(nt)&&(nt.id&&(q(Ye,nt.id),rt=nt.id),typeof nt.callback=="function")&&(Ye.callback=nt.callback),rt&&(Ye.idObj=Ye.submodule.decode(rt,Ye.config))):Ye.config.value?Ye.idObj=Ye.config.value:(Ze=Ye.submodule.getId(Ye.config,pt),(0,g.Qd)(Ze)&&(typeof Ze.callback=="function"&&(Ye.callback=Ze.callback),Ze.id)&&(Ye.idObj=Ye.submodule.decode(Ze.id,Ye.config))),qe.push(ze)}catch(ht){(0,g.vV)("Error in userID module '".concat(ze.submodule.name,"':"),ht)}var Ye,Ze,rt,tt,nt,at,pt;return qe})},[]),Be.refresh(Ke),Me(Be),Ke):((0,g.JE)("".concat(E," - no ID module configured")),[])):[]})}function Qe(Be){return((Be=(Be=Be==null?void 0:Be.storage)==null?void 0:Be.type)==null?void 0:Be.trim().split(/\s*&\s*/))||[]}var He=new Set([A,S]);function et(Be){var Ge;Be.enabledStorageTypes||(Ge=Qe(Be.config),Be.enabledStorageTypes=Ge.filter(function($e){switch($e){case A:return!(!Be.storageMgr.localStorageIsEnabled()||oe.getDataFromLocalStorage(B)&&((0,g.fH)("".concat(E," - opt-out localStorage found, storage disabled")),1));case S:return!(!Be.storageMgr.cookiesAreEnabled()||oe.getCookie(B)&&((0,g.fH)("".concat(E," - opt-out cookie found, storage disabled")),1))}return!1}))}function st(Be){ie.clear(),Object.entries(se(Be,function(Ge){return Object.keys(Ge.eids||{})},function(Ge){return Ge})).forEach(function(Ge){var $e=Ge[0];return ie.set($e,Ge[1][0].eids[$e])})}function lt(){st(W),Be=re;var Be,Ge=Array.isArray(Be)?Be.filter(function(Je){if(Je==null||!Je.name)return $e('must specify "name"',Je);if(Je.storage){if(!Je.storage.name||!Je.storage.type)return $e('must specify "storage.name" and "storage.type"',Je);if(!Qe(Je).every(function(Ke){return He.has(Ke)}))return $e('invalid "storage.type"',Je);["expires","refreshInSeconds"].forEach(function(Ke){var qe=Je.storage[Ke];qe!=null&&typeof qe!="number"&&(qe=Number(qe),isNaN(qe)?($e("storage.".concat(Ke," must be a number and will be ignored"),Je),delete Je.storage[Ke]):Je.storage[Ke]=qe)})}return!0}):(Be!=null&&$e("must be an array",Be),[]);function $e(Je){for(var Ke=arguments.length,qe=new Array(1<Ke?Ke-1:0),ze=1;ze<Ke;ze++)qe[ze-1]=arguments[ze];g.JE.apply(void 0,be(["Invalid userSync.userId config: ".concat(Je)],qe,!1))}Ge.length&&(Be=W.filter(function(Je){return!(0,r.I6)(z,function(Ke){return Ke.name===Je.name})}),z.splice(0,z.length),Be.map(function(Je){var Ke=(0,r.I6)(Ge,function(qe){return qe.name&&(qe.name.toLowerCase()===Je.name.toLowerCase()||Je.aliasName&&qe.name.toLowerCase()===Je.aliasName.toLowerCase())});return Ke&&Je.name!==Ke.name&&(Ke.name=Je.name),Ke?{submodule:Je,config:Ke,callback:void 0,idObj:void 0,storageMgr:(0,k.vM)({moduleType:Q.fW,moduleName:Ke.name})}:null}).filter(function(Je){return Je!==null}).forEach(function(Je){return z.push(Je)}),z.length)&&(H()||(m.gH.getHooks({hook:te}).remove(),m.gH.before(we,100),I.Ay.callDataDeletionRequest.before(it),Y.Q.after(function(Je){return Je(pe())})),(0,g.fH)("".concat(E," - usersync config updated for ").concat(z.length," submodules: "),z.map(function(Je){return Je.submodule.name})))}function it(Be){for(var Ge=arguments.length,$e=new Array(1<Ge?Ge-1:0),Je=1;Je<Ge;Je++)$e[Je-1]=arguments[Je];(0,g.fH)("UserID: received data deletion request; deleting all stored IDs..."),z.forEach(function(Ke){var qe;if(typeof Ke.submodule.onDataDeletionRequest=="function")try{(qe=Ke.submodule).onDataDeletionRequest.apply(qe,be([Ke.config,Ke.idObj],$e,!1))}catch(ze){(0,g.vV)("Error calling onDataDeletionRequest for ID submodule ".concat(Ke.submodule.name),ze)}he(Ke)}),Be.apply(this,$e)}function dt(Be){return function(){return Promise.resolve(Be.apply(this,arguments))}}(function(Be,Ge){Ge=(Ge=(1<arguments.length&&Ge!==void 0?Ge:{}).mkDelay)===void 0?X.cb:Ge,h=void 0,z=[],re=[],f=ne(),ce=function(qe){var Je,Ke,qe=(0<arguments.length&&qe!==void 0?qe:{}).mkDelay,ze=qe===void 0?X.cb:qe,Ye=(0,X.v6)(),Ze=(0,X.v6)(),rt=!1;function tt(It){return Ke=Z().fork(),Je!=null&&Je.reject(ve),Je=(0,X.v6)(),X.U9.race([It,Je.promise]).finally(Ke.startTiming("userId.total"))}var nt=f,at=z;function pt(It){return function(){if(nt===f&&at===z)return It.apply(void 0,arguments)}}function ht(){return K.SL.promise.finally(Ke.startTiming("userId.init.consent"))}var yt=tt(X.U9.all([L.Gc,Ye.promise]).then(ht).then(pt(function(){ke(nt,at)})).then(function(){return Ze.promise.finally(Ke.startTiming("userId.callbacks.pending"))}).then(pt(function(){var It=nt.submodules.filter(function(Ot){return(0,g.fp)(Ot.callback)});if(It.length)return new X.U9(function(Ot){return me(It,Ot,nt)})})));return function(){var It=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},Ot=It.refresh,Ot=Ot!==void 0&&Ot,Ut=It.submoduleNames,kt=Ut===void 0?null:Ut,Ut=It.ready;return Ut!==void 0&&Ut&&!rt&&(rt=!0,Ye.resolve(),0<C?Ze.resolve():l.on(x.qY.AUCTION_END,function Nt(){l.AU(x.qY.AUCTION_END,Nt),ze(_).then(Ze.resolve)})),yt=Ot&&rt?tt(yt.catch(function(){return null}).then(ht).then(pt(function(){var Nt=ke(nt,at.filter(function(Pt){return kt==null||kt.includes(Pt.submodule.name)}),!0).filter(function(Pt){return Pt.callback!=null});if(Nt.length)return new X.U9(function(Pt){return me(Nt,Pt,nt)})}))):yt}}({mkDelay:Ge}),D!=null&&D(),W=[],D=Be.getConfig("userSync",function(ze){var Je,Ke,qe,ze=ze.userSync;ze&&(h=ze.ppid,ze.userIds)&&(re=ze.userIds,_=((0,g.Et)(ze.syncDelay)?ze:T.qh).syncDelay,C=((0,g.Et)(ze.auctionDelay)?ze:T.qh).auctionDelay,lt(),Je=ze.idPriority,ze=W,ge=Je?(Ke={},qe=new Map(ze.map(function(Ye){return Ye.aliasName?[Ye.aliasName,Ye.name]:[]})),Object.keys(Je).forEach(function(Ye){var Ze=(0,g.cy)(Je[Ye])?be([],Je[Ye],!0).reverse():[];Ke[Ye]=Ze.map(function(rt){return qe.has(rt)?qe.get(rt):rt})}),Ke):{},f.refresh(),st(ze),ce({ready:!0}))}),(0,o.m)().getUserIds=ye,(0,o.m)().getUserIdsAsEids=Ce,(0,o.m)().getEncryptedEidsForSource=dt(De),(0,o.m)().registerSignalSources=Pe,(0,o.m)().refreshUserIds=dt(We),(0,o.m)().getUserIdsAsync=dt(Ue),(0,o.m)().getUserIdsAsEidBySource=Se,H()||m.gH.before(te,100)})(e.$W),(0,L.xG)("userId",function(Be){Be.findRootDomain=R.S,(0,r.I6)(W,function(Ge){return Ge.name===Be.name})||(W.push(Be),K.o2.register(Q.fW,Be.name,Be.gvlid),lt(),ce({refresh:!0,submoduleNames:[Be.name]}))},{postInstallAllowed:!0}),(0,o.E)("userId")}},function(s){s.O(0,[802,2139,1085],function(){return s(s.s=4836)}),s.O()}]),pbjs.processQueue();function t(s){var $=i[s];return $!==void 0||($=i[s]={exports:{}},y[s]($,$.exports,t)),$.exports}function le(s,$){var a,o,r,e=$[0],l=$[1],I=$[2],x=0;if(e.some(function(L){return G[L]!==0})){for(a in l)t.o(l,a)&&(t.m[a]=l[a]);I&&(r=I(t))}for(s&&s($);x<e.length;x++)o=e[x],t.o(G,o)&&G[o]&&G[o][0](),G[o]=0;return t.O(r)}},{}],16:[function(v,ae,n){ae.exports={family:"TS",major:5,minor:0,revision:65}},{}]},{},[14])(14)})});var ed=Ve((Zs,er)=>{(function(v){typeof Zs=="object"&&typeof er<"u"?er.exports=v():typeof define=="function"&&define.amd?define([],v):(typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:this).A9=v()})(function(){return function v(ae,n,d){function b(i,V){if(!n[i]){if(!ae[i]){var Ie=typeof ut=="function"&&ut;if(!V&&Ie)return Ie(i,!0);if(G)return G(i,!0);throw(V=new Error("Cannot find module '"+i+"'")).code="MODULE_NOT_FOUND",V}Ie=n[i]={exports:{}},ae[i][0].call(Ie.exports,function(F){return b(ae[i][1][F]||F)},Ie,Ie.exports,v,ae,n,d)}return n[i].exports}for(var G=typeof ut=="function"&&ut,y=0;y<d.length;y++)b(d[y]);return b}({1:[function(i,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AAdFuelModule=n.ModuleFlags=void 0;var d,b=i("./Logger"),G=i("./promiseWithTimeout"),y=i("./localization"),i=((i=d=n.ModuleFlags||(n.ModuleFlags={}))[i.None=0]="None",i[i.EnableForDomestic=1]="EnableForDomestic",i[i.EnableForForeign=2]="EnableForForeign",i[i.RunWithoutAdFuel=4]="RunWithoutAdFuel",i[i.RunWithoutConsent=8]="RunWithoutConsent",i[i.HasVideoAPI=16]="HasVideoAPI",i[i.DisableForCanada=32]="DisableForCanada",Object.defineProperty(V.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),V);function V(Ie,F,Fe,Ee,Te,fe,Ae,be){fe===void 0&&(fe=d.EnableForDomestic|d.EnableForForeign),Ae===void 0&&(Ae=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var t=this;this.config=Ie,this.MODULE_NAME=F,this.MODULE_VERSION=Fe,this.MODULE_LOG_TAG=Ee,this.logStyle=Te,this.moduleFlags=fe,this.consentTags=Ae,this.MODULE_VIDEO_API_KEY=be,this.adFuelExists=!!window.AdFuel,this.userConsentLib=((Ie=window.WM)==null?void 0:Ie.UserConsent)||((F=window.WBD)==null?void 0:F.UserConsent),this.environmentMatchesFlags=function(){return(0,y.isIntl)()?(!(0,y.isCanada)()||(t.moduleFlags&d.DisableForCanada)!==d.DisableForCanada)&&(t.moduleFlags&d.EnableForForeign)===d.EnableForForeign:(t.moduleFlags&d.EnableForDomestic)===d.EnableForDomestic},this.callInit=function(){t.logger.log("Waiting for UserConsent..."),t.waitForUserConsent().then(function(){var le;t.logger.log("Checking Module Flags...",t.moduleFlags),(t.moduleFlags&d.RunWithoutConsent)==d.RunWithoutConsent||(le=t.userConsentLib)!=null&&le.inUserConsentState(t.consentTags,{id:t.MODULE_NAME})?(t.moduleFlags&&d.RunWithoutAdFuel)==d.RunWithoutAdFuel?((le=window.AdFuel)!=null&&le.registerModule(t)||document.addEventListener("AdFuelCreated",function(){var s;t.logger.log("Registering with AdFuel..."),(s=window.AdFuel)!=null&&s.registerModule(t)}),t.logger.log("Checking Environment..."),t.environmentMatchesFlags()?(t.logger.log("Calling Init..."),t.init().then(function(){var s;window.AdFuel?(t.logger.log("Setting Module Loaded..."),(s=window.AdFuel)!=null&&s.setModuleLoaded(t.MODULE_LOG_TAG)):(t.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var $;t.logger.log("Setting Module Loaded..."),($=window.AdFuel)!=null&&$.setModuleLoaded(t.MODULE_LOG_TAG)}))})):(t.logger.warn("Not initializing ".concat(t.MODULE_NAME," for environmental reasons."),t.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(t.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(t.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",function(){window.AdFuel.setModuleReady(t.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(t.MODULE_LOG_TAG)}))):(t.logger.log("Waiting for AdFuel..."),t.waitForAdFuel().then(function(){var s;(s=window.AdFuel)!=null&&s.registerModule(t)||document.addEventListener("AdFuelCreated",function(){var $;t.logger.log("Registering with AdFuel..."),($=window.AdFuel)!=null&&$.registerModule(t)}),t.logger.log("Checking Environment..."),t.environmentMatchesFlags()?(t.logger.log("Calling Init..."),t.init().then(function(){var $;window.AdFuel?(t.logger.log("Setting Module Loaded..."),($=window.AdFuel)!=null&&$.setModuleLoaded(t.MODULE_LOG_TAG)):(t.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var a;t.logger.log("Setting Module Loaded..."),(a=window.AdFuel)!=null&&a.setModuleLoaded(t.MODULE_LOG_TAG)}))})):t.logger.warn("Not initializing ".concat(t.MODULE_NAME," for environmental reasons."),t.moduleFlags)}).catch(function(s){t.logger.warn("".concat(t.MODULE_NAME," errored waiting for AdFuel."),s)})):(t.logger.info("User consent is not granted.",(le=t.userConsentLib)==null?void 0:le.inUserConsentState(t.consentTags)),(le=window.AdFuel)!=null&&le.setModuleLoaded(t.MODULE_LOG_TAG))}).catch(function(le){t.logger.warn("".concat(t.MODULE_NAME," errored waiting for consent."),le)})},this.waitForAdFuel=function(){return(t.moduleFlags&d.RunWithoutAdFuel)===d.RunWithoutAdFuel?Promise.resolve():(0,G.promiseWithTimeout)(5e3,new Promise(function(le){window.AdFuel?le():document.addEventListener("AdFuelCreated",function(){le()})}))},this.waitForUserConsent=function(){return!t.userConsentLib||(t.moduleFlags&d.RunWithoutConsent)==d.RunWithoutConsent?Promise.resolve():(0,G.promiseWithTimeout)(5e3,new Promise(function(le){var s;t._logger.log("Consent Promise with Timeout..."),(s=t.userConsentLib)!=null&&s.isReady()?(t._logger.log("Consent Is Ready..."),(s=t.userConsentLib)!=null&&s.isInRegion("gdpr")?(t._logger.log("Region is GDPR..."),(s=((s=t.userConsentLib)==null?void 0:s.isOneTrustLoaded())&&!((s=t.userConsentLib)!=null&&s.isOneTrustFailing()))!=null&&s?(t._logger.log("Optanon is Loaded..."),le()):(t._logger.log("Waiting for OneTrust..."),document.addEventListener("oneTrustLoaded",function(){t._logger.log("OneTrust is Loaded..."),le()}),document.addEventListener("oneTrustFailed",function(){t._logger.error("OneTrust Failed To Load..."),le()}),document.addEventListener("oneTrustBlocked",function(){t._logger.error("OneTrust Loading Was Blocked..."),le()}))):(t._logger.log("Region is not GDPR..."),le())):t.userConsentLib?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",function(){console.log("Consent Is Ready..."),le()})):(console.log("No User Consent..."),le())}))},this._logger=new b.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}n.AAdFuelModule=i},{"./Logger":4,"./localization":13,"./promiseWithTimeout":15}],2:[function(y,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Consent=void 0;var d=y("./Logger"),b=y("./CookieHelper"),G=y("./Version"),y=(Object.defineProperty(i.prototype,"consentChecked",{get:function(){return this._consentChecked},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"consentStatus",{get:function(){return this._consentChecked},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"getFullConsentState",{get:function(){var V;return(V=(V=this.userConsentLib)==null?void 0:V.getConsentState())!=null&&V},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"getConsentVersion",{get:function(){var V;return(V=(V=this.userConsentLib)==null?void 0:V.getConsentVersion())!=null?V:""},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"getConsentString",{get:function(){var V,Ie="";return b.CookieHelper.hasCookie("eupubconsent")?(this._logger.log("Getting Consent Object from cookie..."),Ie=(V=b.CookieHelper.readCookie("eupubconsent"))!=null?V:""):typeof window<"u"&&window.__tcfapi&&typeof window.__tcfapi=="function"?(this._logger.log("Getting Consent Object from __tcfapi..."),window.__tcfapi("getTCData",2,function(F,Fe){return Fe?(Ie=F.tcString,F.tcString):Ie=""})):typeof window<"u"&&window.__cmp&&typeof window.__cmp=="function"&&(this._logger.log("Getting Consent Object from __cmp..."),window.__cmp("getVendorConsents",null,function(F){Ie=F.metadata})),this._logger.log("Returning consent string...",Ie),Ie},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"getGDPRApplies",{get:function(){var V;return(V=(V=this.userConsentLib)==null?void 0:V.isInRegion("gdpr"))!=null&&V},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"getCCPAApplies",{get:function(){var V;return(V=(V=this.userConsentLib)==null?void 0:V.isInRegion("ccpa"))!=null&&V},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"getGPPApplies",{get:function(){var V;return(V=(V=this.userConsentLib)==null?void 0:V.isInRegion("gpp"))!=null&&V},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isReady",{get:function(){var V;return(V=(V=this.userConsentLib)==null?void 0:V.isReady())!=null&&V},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isInConsentRegion",{get:function(){var V;return((V=this.userConsentLib)==null?void 0:V.isInRegion("global"))===!1},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"getRegion",{get:function(){var V;return(V=(V=this.userConsentLib)==null?void 0:V.getRegion())!=null?V:"global"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isOneTrustLoaded",{get:function(){var V;return(V=(V=this.userConsentLib)==null?void 0:V.isOneTrustLoaded())!=null&&V},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isOptanonLoaded",{get:function(){var V;return(V=(V=this.userConsentLib)==null?void 0:V.isOneTrustLoaded())!=null&&V},enumerable:!1,configurable:!0}),i);function i(){var V,Ie=this;this._version=new G.Version(1,0,0),this._logger=new d.Logger("Adfuel Consent",this._version.toString(),"consent","color: #FF5733; padding: 2px"),this._consentChecked=!1,this.userConsentLib=((V=window.WM)==null?void 0:V.UserConsent)||((V=window.WBD)==null?void 0:V.UserConsent),this.getConsent=function(F,Fe){F===void 0&&(F=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]),Fe===void 0&&(Fe="");var Ee="1.3.6";try{Ee=(fe=(Te=Ie.userConsentLib)==null?void 0:Te.getVersion())!=null?fe:"1.3.6"}catch{Ie._logger.warn("Running Older UserConsent - Please Update!")}var Te=Ie.getRegion,fe=window.__cmp!==void 0,Ae=window.__tcfapi!==void 0;return fe&&Ae&&Ie._logger.warn("****************************\n** Running multiple GDPR UserConsent frameworks.\n** You may experience erratic ad behavior.\n** Please examine your UserConsent configuration.\n****************************"),Te==="ccpa"&&(fe||Ae)&&Ie._logger.warn("****************************\n** Running GDPR UserConsent framework.\n** You may experience erratic ad behavior.\n** Please examine your UserConsent configuration.\n****************************"),Te!=="gdpr"||fe||Ae||Ie._logger.warn("****************************\n** Could not find GDPR UserConsent framework.\n** You may experience erratic ad behavior.\n** Please examine your UserConsent configuration.\n****************************"),Ie._logger.log("UserConsent Version: ",Ee),Ie._logger.log("Consent States: ",F),Ie._consentChecked=!window.WM&&!window.WBD||(Te=Ie.userConsentLib)==null||!Te.isReady()||(2<=parseInt(Ee.split(".")[0])?(fe=Ie.userConsentLib)==null?void 0:fe.inUserConsentState(F,{id:Fe}):(Ae=Ie.userConsentLib)==null?void 0:Ae.inUserConsentState(["ads-general","ads-vendor"])),Ie._logger.log("Consent Granted: ",Ie.consentStatus),Ie._consentChecked=!0,Ie.consentStatus},window.consentAnnounced||(this._logger.info("AdFuel Consent loaded."),this._logger.info("User Consent Namespace Created: ".concat(!!window.WM||!!window.WBD)),this._logger.info("User Consent ready: ".concat((V=(V=this.userConsentLib)==null?void 0:V.isReady())!=null&&V)),window.consentAnnounced=!0)}n.Consent=y},{"./CookieHelper":3,"./Logger":4,"./Version":7}],3:[function(v,ae,n){"use strict";function d(){}Object.defineProperty(n,"__esModule",{value:!0}),n.CookieHelper=void 0,d.hasCookie=function(b){return typeof window<"u"&&!(!document||!document.cookie)&&(0<=document.cookie.indexOf("; "+b+"=")||document.cookie.indexOf(b+"=")===0)},d.setCookie=function(b){var G=b.cookieName+"="+b.cookieValue+";";b.attributes.forEach(function(y){G+=" "+y.key+"="+y.value+";"}),b.secure&&(G+=" Secure"),document.cookie=G},d.readCookie=function(b){var G,y,i=!1,V=null;return(i=typeof localStorage<"u"?!0:i)&&(V=localStorage.getItem(b)),i&&V!==null||(y=(G=b).length+1,V=typeof document<"u"&&document.cookie&&document.cookie.split(";").map(function(Ie){return Ie.trim()}).filter(function(Ie){return Ie.substring(0,y)==="".concat(G,"=")}).map(function(Ie){return decodeURIComponent(Ie.substring(y))})[0]||null),V},n.CookieHelper=d},{}],4:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Logger=n.LogLevel=void 0,(b=d=n.LogLevel||(n.LogLevel={})).Info="background: green;color: white;",b.Warning="background: orange;color: black",b.Error="background: red;color:white",Object.defineProperty(G.prototype,"isDebugging",{get:function(){var y;return this._debug===void 0&&(y=this.getUrlParam("debug").split(","),this._debug=y[0]==="true"||0<=y.indexOf(this._logKey.toLowerCase())),this._debug},enumerable:!1,configurable:!0}),G.prototype.info=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.warn=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.error=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.log=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.groupStart=function(y){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(y," - START -----"),this._normalStyle))},G.prototype.groupEnd=function(y){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},G.prototype.timeStart=function(y){var i="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(y);this.groupStart(y),console.time(i)},G.prototype.timeEnd=function(y){var i="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(y);this.groupEnd(y),console.timeEnd(i)},G.prototype.getUrlParam=function(y){return typeof document<"u"&&(y=y.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),y=new RegExp("[\\?&]"+y+"=([^&#]*)"),document)&&document.location&&document.location.search&&(y=y.exec(document.location.search))?y[1]:""};var d,b=G;function G(y,i,V,Ie){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=y||"",this._moduleVersion=i||"",this._logKey=V||(y==null?void 0:y.toLowerCase())||"",this._normalStyle=Ie||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),d.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),d.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),d.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),d.Info,this._normalStyle))}n.Logger=b},{}],5:[function(v,ae,n){"use strict";function d(b){this._tag="ADFUEL",this._tag=b,this.addMark("AdFuel Load START")}Object.defineProperty(n,"__esModule",{value:!0}),n.Performance=void 0,d.prototype.addMark=function(b){typeof window<"u"&&window.performance.mark("[".concat(this._tag,"] ").concat(b))},d.prototype.addMeasure=function(b){typeof window<"u"&&window.performance.measure("[".concat(this._tag,"] ").concat(b),"[".concat(this._tag,"] ").concat(b," START"),"[".concat(this._tag,"] ").concat(b," END"))},d.prototype.getMarks=function(){var b,G=this;return(b=window==null?void 0:window.performance.getEntriesByType("mark").filter(function(y){return y.name.indexOf("[".concat(G._tag,"] "))}))!=null?b:[]},d.prototype.getMeasures=function(){var b,G=this;return(b=window==null?void 0:window.performance.getEntriesByType("measure").filter(function(y){return y.name.indexOf("[".concat(G._tag,"] "))}))!=null?b:[]},n.Performance=d},{}],6:[function(v,ae,n){"use strict";function d(b){var G=this;this.logger=b,this.re=/(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()\[\]\.,;:\s@\"]+\.)+[^<>()\[\]\.,;:\s@\"]{2,})/i,this.present=function(){return G.presentInQueryString()||G.presentInHash()||G.presentInReferrer()}}Object.defineProperty(n,"__esModule",{value:!0}),n.PiiFilter=void 0,d.prototype.presentInQueryString=function(){if(document.location.search){var b=document.location.search.search(this.re)+1,G=void 0;try{G=decodeURIComponent(document.location.search).search(this.re)+1}catch{G=b}return b===1||G===1}return!1},d.prototype.presentInHash=function(){if(document.location.hash){var b=document.location.hash.search(this.re)+1,G=void 0;try{G=decodeURIComponent(document.location.hash).search(this.re)+1}catch{G=b}return b||G}return!1},d.prototype.presentInReferrer=function(){if(document.referrer){var b=document.referrer.search(this.re)+1,G=void 0;try{G=decodeURIComponent(document.location.referrer).search(this.re)+1}catch{G=b}return b||G}return!1},d.prototype.filterDFPRequest=function(){if(this.presentInQueryString()||this.presentInHash()||this.presentInReferrer()){if(typeof window<"u"&&window.AdFuel){this.logger.log("Filtering DFP Request due to PII in query string.");for(var b=Object.getOwnPropertyNames(window.AdFuel),G=0;G<b.length;G++);window.googletag=null}return!0}return!1},Object.defineProperty(d.prototype,"qs",{get:function(){return this.presentInQueryString},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"hash",{get:function(){return this.presentInHash},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"ref",{get:function(){return this.presentInReferrer},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"isPIIPresent",{get:function(){return this.present},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"filter",{get:function(){return this.filterDFPRequest},enumerable:!1,configurable:!0}),n.PiiFilter=d},{}],7:[function(v,ae,n){"use strict";function d(b,G,y,i){var V=this;this.setMajorTo=b,this.setMinorTo=G,this.setRevisionTo=y,this.setFamilyTo=i,this.setfamily=function(Ie){return V.setFamilyTo=Ie,V},this.toString=function(){return"".concat(V.major,".").concat(V.minor.toString().padStart(2,"0"),".").concat(V.revision.toString().padStart(3,"0")," ").concat(V.family).trim()}}Object.defineProperty(n,"__esModule",{value:!0}),n.Version=void 0,Object.defineProperty(d.prototype,"major",{get:function(){var b;return(b=this.setMajorTo)!=null?b:0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"minor",{get:function(){var b;return(b=this.setMinorTo)!=null?b:0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"revision",{get:function(){var b;return(b=this.setRevisionTo)!=null?b:0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"family",{get:function(){var b;return(b=this.setFamilyTo)!=null?b:""},enumerable:!1,configurable:!0}),n.Version=d},{}],8:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.generateCacheBuster=void 0,n.generateCacheBuster=function(){for(var d="",b=0;b<10;b++)d+=Math.floor(9*Math.random()).toString();return d}},{}],9:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getUrlParam=void 0,n.getUrlParam=function(d){return typeof document<"u"&&(d=d.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),d=new RegExp("[\\?&]"+d+"=([^&#]*)"),document)&&document.location&&document.location.search&&(d=d.exec(document.location.search))?d[1]:""}},{}],10:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.hasVideo=void 0,n.hasVideo=function(){var d=document.getElementsByTagName("video"),b=document.getElementsByClassName("fave-wrapper"),G=document.getElementsByClassName("top-container");return!!d.length||!!b.length||!!G.length}},{}],11:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.waitForVideo=n.Version=n.PiiFilter=n.Performance=n.toString=n.setHostAndPathNames=n.selectedEdition=n.promiseWithTimeout=n.normalizeUrl=n.noop=n.ModuleFlags=n.MODULE_LOG_TAG=n.MODULE_VERSION=n.MODULE_NAME=n.Logger=n.locationServiceURL=n.loadScriptFromUrl=n.isUSnowleb=n.isIntl=n.hasVideo=n.hasUserConsent=n.getUrlParam=n.generateCacheBuster=n.countryCode=n.Consent=n.CookieHelper=n.AAdFuelModule=void 0;var d=v("./AAdFuelModule"),b=(Object.defineProperty(n,"AAdFuelModule",{enumerable:!0,get:function(){return d.AAdFuelModule}}),Object.defineProperty(n,"ModuleFlags",{enumerable:!0,get:function(){return d.ModuleFlags}}),v("./CookieHelper")),G=(Object.defineProperty(n,"CookieHelper",{enumerable:!0,get:function(){return b.CookieHelper}}),v("./Consent")),y=(Object.defineProperty(n,"Consent",{enumerable:!0,get:function(){return G.Consent}}),v("./getUrlParam")),i=(Object.defineProperty(n,"getUrlParam",{enumerable:!0,get:function(){return y.getUrlParam}}),v("./hasVideo")),V=(Object.defineProperty(n,"hasVideo",{enumerable:!0,get:function(){return i.hasVideo}}),v("./localization")),Ie=(Object.defineProperty(n,"isIntl",{enumerable:!0,get:function(){return V.isIntl}}),Object.defineProperty(n,"isUSnowleb",{enumerable:!0,get:function(){return V.isUSnowleb}}),v("./loadScriptFromUrl")),F=(Object.defineProperty(n,"loadScriptFromUrl",{enumerable:!0,get:function(){return Ie.loadScriptFromUrl}}),v("./Logger")),Fe=(Object.defineProperty(n,"Logger",{enumerable:!0,get:function(){return F.Logger}}),v("./normalizeUrl")),Ee=(Object.defineProperty(n,"normalizeUrl",{enumerable:!0,get:function(){return Fe.normalizeUrl}}),v("./promiseWithTimeout")),Te=(Object.defineProperty(n,"promiseWithTimeout",{enumerable:!0,get:function(){return Ee.promiseWithTimeout}}),v("./Performance")),fe=(Object.defineProperty(n,"Performance",{enumerable:!0,get:function(){return Te.Performance}}),v("./PiiFilter")),Ae=(Object.defineProperty(n,"PiiFilter",{enumerable:!0,get:function(){return fe.PiiFilter}}),v("./setHostAndPathNames")),be=(Object.defineProperty(n,"setHostAndPathNames",{enumerable:!0,get:function(){return Ae.setHostAndPathNames}}),v("./generateCacheBuster")),t=(Object.defineProperty(n,"generateCacheBuster",{enumerable:!0,get:function(){return be.generateCacheBuster}}),v("./variables")),le=(Object.defineProperty(n,"MODULE_VERSION",{enumerable:!0,get:function(){return t.MODULE_VERSION}}),Object.defineProperty(n,"MODULE_NAME",{enumerable:!0,get:function(){return t.MODULE_NAME}}),Object.defineProperty(n,"MODULE_LOG_TAG",{enumerable:!0,get:function(){return t.MODULE_LOG_TAG}}),Object.defineProperty(n,"toString",{enumerable:!0,get:function(){return t.toString}}),Object.defineProperty(n,"noop",{enumerable:!0,get:function(){return t.noop}}),Object.defineProperty(n,"countryCode",{enumerable:!0,get:function(){return t.countryCode}}),Object.defineProperty(n,"locationServiceURL",{enumerable:!0,get:function(){return t.locationServiceURL}}),Object.defineProperty(n,"selectedEdition",{enumerable:!0,get:function(){return t.selectedEdition}}),Object.defineProperty(n,"hasUserConsent",{enumerable:!0,get:function(){return t.hasUserConsent}}),v("./Version")),s=(Object.defineProperty(n,"Version",{enumerable:!0,get:function(){return le.Version}}),v("./waitForVideo"));Object.defineProperty(n,"waitForVideo",{enumerable:!0,get:function(){return s.waitForVideo}})},{"./AAdFuelModule":1,"./Consent":2,"./CookieHelper":3,"./Logger":4,"./Performance":5,"./PiiFilter":6,"./Version":7,"./generateCacheBuster":8,"./getUrlParam":9,"./hasVideo":10,"./loadScriptFromUrl":12,"./localization":13,"./normalizeUrl":14,"./promiseWithTimeout":15,"./setHostAndPathNames":16,"./variables":17,"./waitForVideo":18}],12:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.loadScriptFromUrl=void 0;var d=v("./promiseWithTimeout");n.loadScriptFromUrl=function(b,G,y,i){return y===void 0&&(y=document),i===void 0&&(i=!0),(0,d.promiseWithTimeout)(5e3,new Promise(function(V,Ie){var F,Fe,Ee=y.createElement("script");if(Ee.setAttribute("data-nscript","beforeInteractive"),document.getElementById(G))Ie("Element name ".concat(G," already exists in the document."));else try{var Te="",fe=(Te=1<b.split("//").length?b:((Fe=((F=y.location)==null?void 0:F.protocol)==="https:")!==null&&Fe?"https://":"http://").concat(b),y.getElementsByTagName("script")[0]);Ee.id=G,Ee.type="text/javascript",Ee.src=Te,Ee.async=i,Ee.addEventListener("load",function(){V(Ee)}),fe!=null&&fe.parentNode?fe.parentNode.insertBefore(Ee,fe):document.head.appendChild(Ee)}catch(Ae){console.log("Error in loading script from ".concat(Ee.src),Ae),Ie(Ae)}}))}},{"./promiseWithTimeout":15}],13:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setIsUSnowleb=n.setIsIntl=n.isUSnowleb=n.isIntl=n.isCanada=void 0;var d=v("./setHostAndPathNames"),b=v("./getUrlParam"),G=v("./Logger"),y=v("./variables"),i=new G.Logger(y.MODULE_NAME,y.MODULE_VERSION.toString(),y.MODULE_LOG_TAG,"color: coral; padding: 2px"),V=!1,Ie=!1,F=new Set(["US","CA"]),Fe=/^.*(edition|edition-m|arabic|nowlebespanol|nowlebe-test)\.nowleb.com/;n.isCanada=function(){var Ee;return(Ee=(Ee=(Ee=window.WM)==null?void 0:Ee.UserConsent)==null?void 0:Ee.getGeoCountry())!=null?Ee:y.countryCode==="CA"},n.isIntl=function(){var Ee=!1,Te=(0,d.setHostAndPathNames)(),fe=(fe=(fe=window.WM)==null?void 0:fe.UserConsent)!=null&&fe.getGeoCountry&&typeof((fe=(fe=window.WM)==null?void 0:fe.UserConsent)==null?void 0:fe.getGeoCountry)=="function"?(fe=(fe=window.WM)==null?void 0:fe.UserConsent)==null?void 0:fe.getGeoCountry():y.countryCode,Ae=(Ae=(Ae=window.WM)==null?void 0:Ae.UserConsent)!=null&&Ae.getGeoState&&typeof((Ae=(Ae=window.WM)==null?void 0:Ae.UserConsent)==null?void 0:Ae.getGeoState)=="function"?(Ae=(Ae=window.WM)==null?void 0:Ae.UserConsent)==null?void 0:Ae.getGeoState():"",be=0<=Te.search(/^(.*\.)?nowleb\.com$/);return be&&F.delete("CA"),i.log("Is nowleb:",be),i.log("Domestic Country Codes: ",Array.from(F)),i.log("UserConsent Location: ",{state:Ae,country:fe}),(0,b.getUrlParam)("isIntl")==="true"?(V||(V=!0,i.log("Faking international site. Using International PubIds.")),Ee=!0):0<=Te.search(Fe)?(V||(V=!0,i.log("Full international site. Using International PubIds.")),Ee=!0):fe===""||fe===null?(V||(V=!0,i.log("No country code. Using Domestic PubIds.")),Ee=!1):F.has(fe)?V||(V=!0,i.log("Domestic site or country code. Using Domestic PubIds."),Ee=!1):0<=Te.search(/^.*(money|\.nowleb)\./)?(0<=Te.search(/^.*us\.nowleb\.com/)&&(V||i.log("International user but domestic page.  Using alternate International PubIds if available."),Ie=!0),V||(V=!0,i.log("International country code. Using International PubIds.")),Ee=!0):0<=Te.search(/^.*us\.nowleb\.com/)?(V||(V=!0,i.log("International user but domestic page. Using alternate International PubIds if available.")),Ie=Ee=!0):(V||(V=!0,i.log("International country code but domestic site. Using International PubIds if available.")),Ee=!0),Ee},n.isUSnowleb=function(){return(0,n.isIntl)(),i.log("Is User on US.nowleb.COM? ",Ie),Ie},n.setIsIntl=n.isIntl,n.setIsUSnowleb=n.isUSnowleb},{"./Logger":4,"./getUrlParam":9,"./setHostAndPathNames":16,"./variables":17}],14:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.normalizeUrl=void 0,n.normalizeUrl=function(d){var b=Object.assign({normalizeProtocol:!0,normalizeHttps:!1,normalizeHttp:!0,stripFragment:!0,stripWWW:!0,removeQueryParameters:!0,removeTrailingSlash:!1,removeDirectoryIndex:!1},{}),G=d.trim(),y=d[0]==="/"&&d[1]==="/",i=(!y&&/^\.*\//.test(d)||(G=d.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,"http://")),document.createElement("a"));if(i.href=G,b.normalizeHttps&&b.normalizeHttp)throw new Error("The `normalizeHttp` and `normalizeHttps` options cannot be used together");return b.normalizeHttp&&(i.protocol==="http:"||y)&&(i.protocol="https:"),b.normalizeHttps&&(i.protocol==="https:"||y)&&(i.protocol="http:"),b.stripFragment&&(i.hash=""),i.pathname&&(i.pathname=i.pathname.replace(/((?![https?:]).)\/{2,}/g,function(V,Ie){return/^(?!\/)/g.test(Ie)?Ie+"/":"/"})),i.pathname&&(i.pathname=decodeURI(i.pathname)),i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),b.stripWWW)&&(i.hostname=i.hostname.replace(/^www\./,"")),b.removeQueryParameters&&(i.search=""),G=i.href,!b.removeTrailingSlash&&i.pathname!=="/"||(G=d.replace(/\/$/,"")),G=y&&!b.normalizeProtocol?d.replace(/^http:\/\//,"//"):G}},{}],15:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.promiseWithTimeout=void 0,n.promiseWithTimeout=function(d,b,G){G===void 0&&(G="The promise timed out.");var y=new Promise(function(i,V){var Ie=setTimeout(function(){clearTimeout(Ie),V(G)},d)});return Promise.race([b,y])}},{}],16:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setHostAndPathNames=void 0,n.setHostAndPathNames=function(){var d=typeof document<"u"?document.createElement("a"):{href:"",hostname:"",pathname:""};return d.href=typeof document<"u"?document.location.href:"",d.hostname}},{}],17:[function(b,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.hasUserConsent=n.selectedEdition=n.locationServiceURL=n.countryCode=n.noop=n.toString=n.MODULE_LOG_TAG=n.MODULE_VERSION=n.MODULE_NAME=void 0;var d=b("./Version"),b=b("./CookieHelper"),G=Object.prototype;n.MODULE_NAME="Ad Utilities",n.MODULE_VERSION=new d.Version(5,0,102,"TS"),n.MODULE_LOG_TAG="utils",n.toString=G.toString,n.noop=function(){},n.countryCode=b.CookieHelper.readCookie("countryCode")||((G=(d=b.CookieHelper.readCookie("CG"))==null?void 0:d.substr(0,2))!=null?G:""),n.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",n.selectedEdition=(d=b.CookieHelper.readCookie("SelectedEdition"))!=null?d:"www",n.hasUserConsent=typeof window<"u"&&(window.WM&&window.WM.UserConsent||window.WBD&&window.WBD.UserConsent)||!1},{"./CookieHelper":3,"./Version":7}],18:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.waitForVideo=void 0,n.waitForVideo=function(d){var b=!1,G=new MutationObserver(function(Ie){var F=document.getElementsByTagName("video"),Fe=document.getElementsByClassName("fave-wrapper"),Ee=document.getElementsByClassName("top-container");(F.length||Fe.length||Ee.length)&&(b||d(),b=!0,G.disconnect())}),y=(G.observe(document,{attributes:!1,childList:!0,characterData:!1,subtree:!0}),document.getElementsByTagName("video")),i=document.getElementsByClassName("fave-wrapper"),V=document.getElementsByClassName("top-container");(y.length||i.length||V.length)&&(d(),b=!0,G.disconnect())}},{}],19:[function(v,ae,n){"use strict";n.__esModule=!0;var d,b=v("./isMobile");for(d in b)n.hasOwnProperty(d)||(n[d]=b[d]);v=v("./isMobile"),n.default=v.default},{"./isMobile":20}],20:[function(v,ae,n){"use strict";n.__esModule=!0;function d(s){return s!==void 0&&s.platform==="MacIntel"&&typeof s.maxTouchPoints=="number"&&1<s.maxTouchPoints&&typeof MSStream>"u"}var b=/iPhone/i,G=/iPod/i,y=/iPad/i,i=/\biOS-universal(?:.+)Mac\b/i,V=/\bAndroid(?:.+)Mobile\b/i,Ie=/Android/i,F=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Fe=/Silk/i,Ee=/Windows Phone/i,Te=/\bWindows(?:.+)ARM\b/i,fe=/BlackBerry/i,Ae=/BB10/i,be=/Opera Mini/i,t=/\b(CriOS|Chrome)(?:.+)Mobile/i,le=/Mobile(?:.+)Firefox\b/i;n.default=function(s){var $,a={userAgent:"",platform:"",maxTouchPoints:0};s||typeof navigator>"u"?typeof s=="string"?a.userAgent=s:s&&s.userAgent&&(a={userAgent:s.userAgent,platform:s.platform,maxTouchPoints:s.maxTouchPoints||0}):a={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var o=(s=a.userAgent).split("[FBAN");return(o=(s=o[1]!==void 0?o[0]:s).split("Twitter"))[1]!==void 0&&(s=o[0]),$=s,(s={apple:{phone:(o=function(r){return r.test($)})(b)&&!o(Ee),ipod:o(G),tablet:!o(b)&&(o(y)||d(a))&&!o(Ee),universal:o(i),device:(o(b)||o(G)||o(y)||o(i)||d(a))&&!o(Ee)},amazon:{phone:o(F),tablet:!o(F)&&o(Fe),device:o(F)||o(Fe)},android:{phone:!o(Ee)&&o(F)||!o(Ee)&&o(V),tablet:!o(Ee)&&!o(F)&&!o(V)&&(o(Fe)||o(Ie)),device:!o(Ee)&&(o(F)||o(Fe)||o(V)||o(Ie))||o(/\bokhttp\b/i)},windows:{phone:o(Ee),tablet:o(Te),device:o(Ee)||o(Te)},other:{blackberry:o(fe),blackberry10:o(Ae),opera:o(be),firefox:o(le),chrome:o(t),device:o(fe)||o(Ae)||o(be)||o(le)||o(t)},any:!1,phone:!1,tablet:!1}).any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}},{}],21:[function(Ee,ae,n){"use strict";var d,b,G=this&&this.__extends||(d=function(fe,Ae){return(d=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(be,t){be.__proto__=t}:function(be,t){for(var le in t)Object.prototype.hasOwnProperty.call(t,le)&&(be[le]=t[le])}))(fe,Ae)},function(fe,Ae){if(typeof Ae!="function"&&Ae!==null)throw new TypeError("Class extends value "+String(Ae)+" is not a constructor or null");function be(){this.constructor=fe}d(fe,Ae),fe.prototype=Ae===null?Object.create(Ae):(be.prototype=Ae.prototype,new be)}),y=this&&this.__spreadArray||function(fe,Ae,be){if(be||arguments.length===2)for(var t,le=0,s=Ae.length;le<s;le++)!t&&le in Ae||((t=t||Array.prototype.slice.call(Ae,0,le))[le]=Ae[le]);return fe.concat(t||Array.prototype.slice.call(Ae))},i=(Object.defineProperty(n,"__esModule",{value:!0}),n.A9=void 0,Ee("@turnercode/digital-ads-utilities")),V=Ee("ismobilejs"),Ie=Ee("./version.json"),F=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"],Fe=["155N","1559","14YY","150V","150R","150S","150C","150D","1511","1506","1505","1504","1503","1509","1508","14YW","14YV","14YT","1502","1501","1500","150P","150Q","150N","150T","15HC","15DP","15DR","15DQ","15DK","15DJ","15DM","15DL","15DF","15DD","7PL8","7H01","7GYH","7Q3B","7H06","7GYM","7Q37","7GYQ","7GYC","7Q38","7GYD","7Q35","7GYS","7H05","7Q3F","7GYV","7GYG","7PL9","7GYT","7GYF","7FJ2","7FJ3","7Q3C","7GYL","7H02","7Q39","7PWL","7H03","7Q3D","7GYN","7H04","7Q36","7GYR","7GYJ","7GYY","7GYX","7FJ1"],Ee=(b=i.AAdFuelModule,G(Te,b),Object.defineProperty(Te.prototype,"__VERSION__",{get:function(){return this.MODULE_VERSION.toString()},enumerable:!1,configurable:!0}),Te.prototype.init=function(){var fe=this;return new Promise(function(Ae){var be;fe._isInitialized?fe.logger.log("Init already called.  Resolving..."):(fe.logger.log("Setting _isInitialized to true"),fe._isInitialized=!0,be=function(){return new Promise(function(t,le){fe.logger.warn("Amazon Video API not yet available."),t({amznbid:"",amzniid:""})})},fe.logger.log("Predefining A9VideoAPI"),window.A9VideoAPI=window.A9VideoAPI||{getTargetingData:function(t){return be()},getRefreshedTargetingData:function(t,le){return be()},__VERSION__:fe.MODULE_VERSION.toString()},fe.logger.log("Configuring Library: ",fe.config),fe.configureA9Library(fe.config).then(function(){fe.logger.log("Redefining A9VideoAPI"),window.A9VideoAPI=fe,document.dispatchEvent(new CustomEvent("A9Ready",{detail:{A9VideoAPI:fe}})),window.AdFuel?(window.AdFuel.setModuleLoaded(fe.MODULE_LOG_TAG),window.AdFuel.setModuleReady(fe.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",function(){window.AdFuel.setModuleLoaded(fe.MODULE_LOG_TAG),window.AdFuel.setModuleReady(fe.MODULE_LOG_TAG)})}).catch(function(t){console.log("A9 did not finish loading.",t)})),Ae()})},Te);function Te(fe,Ae){Ae===void 0&&(Ae=i.ModuleFlags.EnableForDomestic|i.ModuleFlags.EnableForForeign|i.ModuleFlags.RunWithoutAdFuel|i.ModuleFlags.HasVideoAPI);var be=b.call(this,fe,"A9",new i.Version(Ie.major,Ie.minor,Ie.revision,Ie.family),"a9","color: #58f53f; padding: 2px",Ae,F,"A9VideoAPI")||this;return be._isInitialized=!1,be.initialPreRollSent=!1,be.blocked=!1,be.builtSlots=[],be.refreshSlots=[],be.defaultTimeout=0,be.defaultRefreshTimeout=0,be.siSection="",be.getTargetingData=function(t){return new Promise(function(le,s){var $,a=!0;be.blocked?be.logger.log("Blocked..."):(be.initialPreRollSent||(a=!1),t=t||be.defaultTimeout,($=(0,i.getUrlParam)("mdt"))&&(t=+$,be.logger.log("Overriding Max Duration Time: ",t)),$=new Promise(function(o){be.logger.log("Getting Video targeting...");var r,e,l;window.A9VideoAPI._targetingPromise&&be.initialPreRollSent||(be.logger.log("Targeting Promise not yet created. Sending pre-roll request manually."),be.initialPreRollSent=!0,r=((0,V.default)().any?be.config.TIMEOUTS.MOBILE:be.config.TIMEOUTS.DESKTOP).VIDEO.INITIAL,e=(0,V.default)().phone?"aps-preroll-mobile":"aps-preroll",(l=(0,i.getUrlParam)("slotname"))&&(e=l,be.logger.log("Overriding Slot Name: ",e)),window.A9VideoAPI._preRollTargetingPromise=window.A9VideoAPI._targetingPromise=new Promise(function(I){window.apstag.fetchBids({params:{si_section:"video"},slots:[{slotID:e,slotName:e,mediaType:"video"}],timeout:r},I)})),window.A9VideoAPI._targetingPromise.then(function(I){var x;o((I=I,be.logger.log("Clearing Timeout: ",window.targetingTimeoutId),clearTimeout(window.targetingTimeoutId),x={targeting:{amznbid:"",amzniid:""},slotID:""},be.logger.log("Pre-Roll Bids: ",I),I&&I.forEach(function(L){0<=L.slotID.indexOf("aps-preroll")&&(x=L)}),I=x.targeting||{amznbid:"",amzniid:""},be.logger.log("Returning Targeting: ",I),I))})}),a?(be.logger.log("Racing against a timeout..."),(0,i.promiseWithTimeout)(t,$).then(function(o){return le(o)}).catch(function(o){return s(o)})):(be.logger.log("Running solo..."),le($)))})},be.getRefreshedTargetingData=function(t,le){return new Promise(function(s,$){var a,o;be.blocked?be.logger.log("Blocked"):(le=le||be.defaultRefreshTimeout,t=t?t+((0,V.default)().phone?"-mobile":""):(0,V.default)().phone?"aps-midroll-mobile":"aps-midroll",o=(0,i.getUrlParam)("mdt"),a=(0,i.getUrlParam)("slotname"),o&&(le=+o,be.logger.log("Overriding Max Duration Time: ",le)),a&&(be.logger.log("Overriding Slot Name: ",t),t=a),o=new Promise(function(r){window.A9VideoAPI._refreshedTargetingPromise=new Promise(function(e){window.apstag.fetchBids({params:{si_section:"video"},slots:[{slotID:t,slotName:t,mediaType:"video"}],timeout:le},e)}),be.logger.log("Refreshing Video targeting..."),window.A9VideoAPI._refreshedTargetingPromise.then(function(I){clearTimeout(window.targetingTimeoutId);var l={targeting:{amznbid:"",amzniid:""}},I=(I.forEach(function(x){x.slotID===t&&(l=x)}),l.targeting||{amznbid:"",amzniid:""});be.logger.log("Returning Refreshed Targeting: ",I),r(I)})}),(0,i.promiseWithTimeout)(le,o).then(function(r){return s(r)}).catch(function(r){return $(r)}))})},be.buildDisplaySlot=function(t){be.logger.log("Building Display Slot: ",t),be.siSection===""&&1<(s=t.unWrappedSlot.rktr_ad_id.split("/")).length&&s[1]!=="homepage"&&(be.siSection=s[0]+(s[1]?"/"+s[1]:""));var s=t.slotId,le=s,s=(be.config.SLOTNAMES.PREPEND_ADUNIT&&(be.logger.log("Prepending Ad Unit To SlotName..."),le="".concat(t.unWrappedSlot.rktr_ad_id,"_").concat(s)),{slotID:s,slotName:le,sizes:t.monetization.filteredSizes.map(function($){return[$.width,$.height]})});return be.logger.log("A9 Slot Object: ",s),t.programmatic.A9=JSON.parse(JSON.stringify(s)),s},be.buildOutstreamSlot=function(t){be.logger.log("Building Outstream Slot: ",t),be.siSection===""&&1<($=t.unWrappedSlot.rktr_ad_id.split("/")).length&&$[1]!=="homepage"&&(be.siSection=$[0]+($[1]?"/"+$[1]:""));var $=t.slotId,le=(0,V.default)().any?"ad_out_vid_02":$,s=(be.logger.log("Setting Slot Name: ",{isMobile:(0,V.default)().any,slotName:le}),be.config.SLOTNAMES.PREPEND_ADUNIT&&(be.logger.log("Prepending Ad Unit To SlotName..."),le="".concat(t.unWrappedSlot.rktr_ad_id,"_").concat($)),(0,V.default)().any?[320,180]:[640,360]),$={slotID:$,slotName:le,mediaType:"multi-format",multiFormatProperties:{display:{sizes:t.monetization.filteredSizes.map(function(a){return a.unwrapped[0]!=="fluid"?[a.width,a.height]:null}).filter(function(a){return a!==null})},video:{sizes:[s]}}};return be.logger.log("A9 Slot Object: ",$),t.programmatic.A9=JSON.parse(JSON.stringify($)),$},be.preQueue=function(t){return new Promise(function(le,s){be.logger.log("Starting A9 Prequeue Processes...");var $=[];if(t&&0<t.length)for(var a=0;a<t.length;a++)(function(l){if(!t[l].unWrappedSlot)return be.logger.warn("There appears to be an empty unwrapped slot object:",!t[l]);var e,l=t[l];l.unWrappedSlot.rktr_ad_id&&l.monetization&&l.monetization.isMonetized&&(e=l.slotId.includes("_out_")?be.buildOutstreamSlot(l):be.buildDisplaySlot(l),be.builtSlots.some(function(I){return I.slotID===e.slotID})?be.logger.log("Already pushed builtSlot: ",e):(be.logger.log("Pushing builtSlot: ",e),be.builtSlots.push(e),$.push(e)))})(a);else be.logger.log("No Slots");var o;be.logger.log("bidslots: ",$),0<$.length?(o={slots:$,timeout:((0,V.default)().any?be.config.TIMEOUTS.MOBILE:be.config.TIMEOUTS.DESKTOP).DISPLAY.INITIAL,params:{si_section:be.siSection}},be.logger.log("REQUESTING TARGETING:",o),window.apstag.fetchBids(o,function(r){be.logger.log("SETTING MANUAL TARGETING: ",r),r.forEach(function(e){var l,I=e.slotID;e.targeting?(l=Object.keys(e.targeting),be.logger.log("Setting targeting for slot: ",I),be.logger.log("targetKeys",l),l.forEach(function(x){var L=e.targeting[x];L&&(be.logger.log("Setting key [".concat(x,"] target [").concat(x,"] with value: ").concat(L)),window.AdFuel.addSlotLevelTarget(I,x,e.targeting[x]))})):be.logger.log("No targeting returned for bid: ",e)}),be.refreshSlots=y(y([],be.refreshSlots,!0),$,!0),be.logger.log("Setting refreshable slots to: ",be.refreshSlots),le({name:be.MODULE_NAME,version:be.MODULE_VERSION.toString(),callback:"preQueue",slots:t,bids:r,err:null})})):(be.logger.log("No valid slots."),le({name:be.MODULE_NAME,version:be.MODULE_VERSION.toString(),callback:"preQueue",slots:t,bids:null,err:"No valid slots"}))})},be.preRefresh=function(t){return new Promise(function(le){t.forEach(function(o){be.siSection===""&&(o=o.unWrappedSlot.rktr_ad_id.split("/"),be.siSection=o[0]+(o[1]?"/"+o[1]:""))}),be.logger.log("Refresh Slots: ",be.refreshSlots);var s,$=(s=be.refreshSlots).filter(function(o,r){var e=JSON.stringify(o);return r===s.findIndex(function(l){return JSON.stringify(l)===e})}),a={slots:$,timeout:((0,V.default)().any?be.config.TIMEOUTS.MOBILE:be.config.TIMEOUTS.DESKTOP).DISPLAY.REFRESH,params:{si_section:be.siSection}};0<$.length?(be.logger.log("Fetching Bids... ",a),window.apstag.fetchBids(a,function(o){be.logger.log("SETTING MANUAL TARGETING: ",o),o.forEach(function(r){var e,l=r.slotID;r.targeting?(e=Object.keys(r.targeting),be.logger.log("Setting targeting for slot: ",l),be.logger.log("targetKeys",e),e.forEach(function(I){var x=r.targeting[I];x&&(be.logger.log("Setting key [".concat(I,"] target [").concat(I,"] with value: ").concat(x)),window.AdFuel.addSlotLevelTarget(l,I,r.targeting[I]))})):be.logger.log("No targeting returned for bid: ",r)}),le({name:be.MODULE_NAME,version:be.MODULE_VERSION.toString(),callback:"preRefresh",slots:t,bids:o,err:null})})):(be.logger.log("No slots to refresh: ",t,$),be.logger.log("No slots to refresh"),le({name:be.MODULE_NAME,version:be.MODULE_VERSION.toString,callback:"preRefresh",err:"No valid slots",slots:t,bids:null}))})},be.sendInitialPreRollRequest=function(){var t,le,s;(0,i.hasVideo)()&&!be.initialPreRollSent?(be.logger.log("Sending Initial Pre-Roll Request..."),t=((0,V.default)().any?be.config.TIMEOUTS.MOBILE:be.config.TIMEOUTS.DESKTOP).VIDEO.INITIAL,(s=(0,i.getUrlParam)("mdt"))&&(t=+s,be.logger.log("Overriding Max Duration Time: ",t)),le=(0,V.default)().phone?"aps-preroll-mobile":"aps-preroll",(s=(0,i.getUrlParam)("slotname"))&&(le=s,be.logger.log("Overriding Slot Name: ",le)),window.A9VideoAPI._preRollTargetingPromise=window.A9VideoAPI._targetingPromise=new Promise(function($){window.apstag.fetchBids({params:{si_section:"video"},slots:[{slotID:le,slotName:le,mediaType:"video"}],timeout:t},$)})):(0,i.hasVideo)()?be.logger.log("Initial pre-roll request already sent."):be.logger.log("No video tag found. Not sending automatic pre-roll request.")},be.filterSegments=function(t,le,s){return be.logger.log("filterSegmentArgs: ",{value:t,index:le,arr:s,filteredTags:{config:be.config.FILTERED_TAGS,default:Fe}}),le=!0,le=be.config.FILTERED_TAGS&&0<be.config.FILTERED_TAGS.length?be.config.FILTERED_TAGS.indexOf(t)<0:Fe.indexOf(t)<0,be.logger.log("Filtering IAB segment [".concat(t,"]?  ").concat(le?"NO":"YES")),!!le&&t},be.configureA9Library=function(t){be.defaultTimeout=((0,V.default)().any?be.config.TIMEOUTS.MOBILE:be.config.TIMEOUTS.DESKTOP).VIDEO.INITIAL,be.defaultRefreshTimeout=((0,V.default)().any?be.config.TIMEOUTS.MOBILE:be.config.TIMEOUTS.DESKTOP).VIDEO.REFRESH;var le,s,$,a,o,r,e,l=((l=(l=window.WM)==null?void 0:l.UserConsent)==null?void 0:l.isInRegion("global"))===!1;return be.logger.log("In Consent Region: ",l),l?(be.logger.log("Checking User Consent..."),l=(l=(l=window.WM)==null?void 0:l.UserConsent)==null?void 0:l.inUserConsentState(["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]),be.logger.log("User Consent Granted: ",l),be.logger.log("Exposing AdFuelVideoAPI.A9 and A9VideoAPI"),a=be.config.ACCOUNT_IDS.DOM,s=(0,i.isIntl)()?((s=be.config.ENABLE_SIGNALS)==null?void 0:s.INTL)===!0:((s=be.config.ENABLE_SIGNALS)==null?void 0:s.DOM)===!0,$=[],be.logger.log("Enabling Signals?",s),s&&($=((o=window.nowleb)==null?void 0:o.cep_topics.cep_iabt.filter(be.filterSegments))||[]),(0,i.isIntl)()&&(a=(0,i.isUSnowleb)()?be.config.ACCOUNT_IDS.DOM:be.config.ACCOUNT_IDS.INTL),be.logger.log("Final Pub ID: ",a),((0,V.default)().any?be.config.TIMEOUTS.MOBILE:be.config.TIMEOUTS.DESKTOP).VIDEO.INITIAL,(o=(0,i.getUrlParam)("mdt"))&&be.logger.log("Overriding Max Duration Time: ",+o),(0,V.default)().phone,be.config.SLOTNAMES.PREROLL,(r=(0,i.getUrlParam)("slotname"))&&be.logger.log("Overriding Slot Name: ",r),le={pubID:a,adServer:"googletag",videoAdServer:"freeWheel",deals:!0,gdpr:{enabled:!1,consent:""},signals:{ortb2:{site:{ext:{data:{segments:$||[]}}}}}},le=JSON.parse(JSON.stringify(le,null,2)),be.logger.log("A9 Tag Config: ",JSON.parse(JSON.stringify(le,null,2))),!be.blocked&&l&&(l=(l=window.WM)==null?void 0:l.UserConsent)!=null&&l.isInRegion("gdpr")&&(be.logger.log("Enabling GDPR..."),l=(l=(l=window.WM)==null?void 0:l.UserConsent)==null?void 0:l.getTcfAPIstring(),le.gdpr={enabled:!0,consent:l||""}),be.logger.log("Final A9 Tag Config: ",JSON.parse(JSON.stringify(le,null,2))),(0,i.loadScriptFromUrl)("https://c.amazon-adsystem.com/aax2/apstag.js","a9script").then(function(){be.logger.log("Initializing APSTAG Library with...",JSON.parse(JSON.stringify(le,null,2))),window.apstag.init(le),be.logger.log("Exposing AdFuelVideoAPI.A9 and A9VideoAPI"),window.AdFuelVideoAPI=window.AdFuelVideoAPI||{},(0,i.waitForVideo)(be.sendInitialPreRollRequest),be.sendInitialPreRollRequest()}).catch(function(I){be.logger.error(I)})):(be.logger.log("Exposing AdFuelVideoAPI.A9 and A9VideoAPI"),s=(0,i.isIntl)()?be.config.ENABLE_SIGNALS.INTL===!0:be.config.ENABLE_SIGNALS.DOM===!0,$=[],be.logger.log("Enabling Signals?",s),s&&($=((l=window.nowleb)==null?void 0:l.cep_topics.cep_iabt.filter(be.filterSegments))||[]),be.logger.log("Filtered Segments?",$),a=be.config.ACCOUNT_IDS.DOM,(0,i.isIntl)()&&(a=(0,i.isUSnowleb)()?be.config.ACCOUNT_IDS.DOM:be.config.ACCOUNT_IDS.INTL),be.logger.log("Final Pub ID: ",a),((0,V.default)().any?be.config.TIMEOUTS.MOBILE:be.config.TIMEOUTS.DESKTOP).VIDEO.INITIAL,(o=(0,i.getUrlParam)("mdt"))&&be.logger.log("Overriding Max Duration Time: ",+o),(0,V.default)().phone,be.config.SLOTNAMES.PREROLL,(r=(0,i.getUrlParam)("slotname"))&&be.logger.log("Overriding Slot Name: ",r),e={pubID:a,adServer:"googletag",videoAdServer:"freeWheel",deals:!0,gdpr:{enabled:!1,consent:""},signals:{ortb2:{site:{ext:{data:{segments:$||[]}}}}}},e=JSON.parse(JSON.stringify(e,null,2)),be.logger.log("Final A9 Tag Config: ",JSON.parse(JSON.stringify(e,null,2))),(0,i.loadScriptFromUrl)("https://c.amazon-adsystem.com/aax2/apstag.js","a9script").then(function(){be.logger.log("Initializing APSTAG Library with...",JSON.parse(JSON.stringify(e,null,2))),window.apstag.init(e),be.logger.log("Exposing AdFuelVideoAPI.A9 and A9VideoAPI"),window.AdFuelVideoAPI=window.AdFuelVideoAPI||{},(0,i.waitForVideo)(be.sendInitialPreRollRequest),be.sendInitialPreRollRequest()}).catch(function(I){be.logger.error(I)}).finally(function(){window.AdFuel?(be.logger.log("Setting Module Ready (1)..."),window.AdFuel.setModuleLoaded(be.MODULE_LOG_TAG),window.AdFuel.setModuleReady(be.MODULE_LOG_TAG)):(be.logger.log("Setting Module Ready (2)..."),document.addEventListener("AdFuelCreated",function(){be.logger.log("Setting Module Ready (2b)..."),window.AdFuel.setModuleLoaded(be.MODULE_LOG_TAG),window.AdFuel.setModuleReady(be.MODULE_LOG_TAG)}))}))},be.deprecationWarning=function(){return new Promise(function(t){be.logger.warn("This function has been deprecated. Please update your code to use getTargetingData or getRefreshedTargetingData"),t({})})},be.logger.info("Constructed A9 Module"),be}n.A9=Ee,G={ACCOUNT_IDS:{DOM:"3159",INTL:"3288"},ENABLE_SIGNALS:{DOM:!1,INTL:!1},FILTERED_TAGS:Fe,TIMEOUTS:{DESKTOP:{DISPLAY:{INITIAL:1150,REFRESH:1150},VIDEO:{INITIAL:500,REFRESH:750,MIDROLL:750}},MOBILE:{DISPLAY:{INITIAL:750,REFRESH:750},VIDEO:{INITIAL:500,REFRESH:750,MIDROLL:750}}},SLOTNAMES:{PREROLL:"aps-preroll",MIDROLL:"aps-midroll",PREPEND_ADUNIT:!1}},n=i.ModuleFlags.EnableForDomestic|i.ModuleFlags.EnableForForeign|i.ModuleFlags.RunWithoutAdFuel|i.ModuleFlags.HasVideoAPI,window.AdFuelOptions.A9.MODULE_FLAGS&&(n|=window.AdFuelOptions.A9.MODULE_FLAGS),new Ee(((Ee=window.AdFuelOptions)==null?void 0:Ee.A9)||G,n)},{"./version.json":22,"@turnercode/digital-ads-utilities":11,ismobilejs:19}],22:[function(v,ae,n){ae.exports={family:"TS",major:5,minor:0,revision:31}},{}]},{},[21])(21)})});var nd=Ve((td,tr)=>{(function(v){typeof td=="object"&&typeof tr<"u"?tr.exports=v():typeof define=="function"&&define.amd?define([],v):(typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:this).Proximic=v()})(function(){return function v(ae,n,d){function b(i,V){if(!n[i]){if(!ae[i]){var Ie=typeof ut=="function"&&ut;if(!V&&Ie)return Ie(i,!0);if(G)return G(i,!0);throw(V=new Error("Cannot find module '"+i+"'")).code="MODULE_NOT_FOUND",V}Ie=n[i]={exports:{}},ae[i][0].call(Ie.exports,function(F){return b(ae[i][1][F]||F)},Ie,Ie.exports,v,ae,n,d)}return n[i].exports}for(var G=typeof ut=="function"&&ut,y=0;y<d.length;y++)b(d[y]);return b}({1:[function(i,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AAdFuelModule=n.ModuleFlags=void 0;var d,b=i("./Logger"),G=i("./promiseWithTimeout"),y=i("./localization"),i=((i=d=n.ModuleFlags||(n.ModuleFlags={}))[i.None=0]="None",i[i.EnableForDomestic=1]="EnableForDomestic",i[i.EnableForForeign=2]="EnableForForeign",i[i.RunWithoutAdFuel=4]="RunWithoutAdFuel",i[i.RunWithoutConsent=8]="RunWithoutConsent",i[i.HasVideoAPI=16]="HasVideoAPI",i[i.DisableForCanada=32]="DisableForCanada",Object.defineProperty(V.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),V);function V(Ie,F,Fe,Ee,Te,fe,Ae,be){fe===void 0&&(fe=d.EnableForDomestic|d.EnableForForeign),Ae===void 0&&(Ae=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var t=this;this.config=Ie,this.MODULE_NAME=F,this.MODULE_VERSION=Fe,this.MODULE_LOG_TAG=Ee,this.logStyle=Te,this.moduleFlags=fe,this.consentTags=Ae,this.MODULE_VIDEO_API_KEY=be,this.adFuelExists=!!window.AdFuel,this.userConsentLib=((Ie=window.WM)==null?void 0:Ie.UserConsent)||((F=window.WBD)==null?void 0:F.UserConsent),this.environmentMatchesFlags=function(){return(0,y.isIntl)()?(!(0,y.isCanada)()||(t.moduleFlags&d.DisableForCanada)!==d.DisableForCanada)&&(t.moduleFlags&d.EnableForForeign)===d.EnableForForeign:(t.moduleFlags&d.EnableForDomestic)===d.EnableForDomestic},this.callInit=function(){t.logger.log("Waiting for UserConsent..."),t.waitForUserConsent().then(function(){var le;t.logger.log("Checking Module Flags...",t.moduleFlags),(t.moduleFlags&d.RunWithoutConsent)==d.RunWithoutConsent||(le=t.userConsentLib)!=null&&le.inUserConsentState(t.consentTags,{id:t.MODULE_NAME})?(t.moduleFlags&&d.RunWithoutAdFuel)==d.RunWithoutAdFuel?((le=window.AdFuel)!=null&&le.registerModule(t)||document.addEventListener("AdFuelCreated",function(){var s;t.logger.log("Registering with AdFuel..."),(s=window.AdFuel)!=null&&s.registerModule(t)}),t.logger.log("Checking Environment..."),t.environmentMatchesFlags()?(t.logger.log("Calling Init..."),t.init().then(function(){var s;window.AdFuel?(t.logger.log("Setting Module Loaded..."),(s=window.AdFuel)!=null&&s.setModuleLoaded(t.MODULE_LOG_TAG)):(t.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var $;t.logger.log("Setting Module Loaded..."),($=window.AdFuel)!=null&&$.setModuleLoaded(t.MODULE_LOG_TAG)}))})):(t.logger.warn("Not initializing ".concat(t.MODULE_NAME," for environmental reasons."),t.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(t.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(t.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",function(){window.AdFuel.setModuleReady(t.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(t.MODULE_LOG_TAG)}))):(t.logger.log("Waiting for AdFuel..."),t.waitForAdFuel().then(function(){var s;(s=window.AdFuel)!=null&&s.registerModule(t)||document.addEventListener("AdFuelCreated",function(){var $;t.logger.log("Registering with AdFuel..."),($=window.AdFuel)!=null&&$.registerModule(t)}),t.logger.log("Checking Environment..."),t.environmentMatchesFlags()?(t.logger.log("Calling Init..."),t.init().then(function(){var $;window.AdFuel?(t.logger.log("Setting Module Loaded..."),($=window.AdFuel)!=null&&$.setModuleLoaded(t.MODULE_LOG_TAG)):(t.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var a;t.logger.log("Setting Module Loaded..."),(a=window.AdFuel)!=null&&a.setModuleLoaded(t.MODULE_LOG_TAG)}))})):t.logger.warn("Not initializing ".concat(t.MODULE_NAME," for environmental reasons."),t.moduleFlags)}).catch(function(s){t.logger.warn("".concat(t.MODULE_NAME," errored waiting for AdFuel."),s)})):(t.logger.info("User consent is not granted.",(le=t.userConsentLib)==null?void 0:le.inUserConsentState(t.consentTags)),(le=window.AdFuel)!=null&&le.setModuleLoaded(t.MODULE_LOG_TAG))}).catch(function(le){t.logger.warn("".concat(t.MODULE_NAME," errored waiting for consent."),le)})},this.waitForAdFuel=function(){return(t.moduleFlags&d.RunWithoutAdFuel)===d.RunWithoutAdFuel?Promise.resolve():(0,G.promiseWithTimeout)(5e3,new Promise(function(le){window.AdFuel?le():document.addEventListener("AdFuelCreated",function(){le()})}))},this.waitForUserConsent=function(){return!t.userConsentLib||(t.moduleFlags&d.RunWithoutConsent)==d.RunWithoutConsent?Promise.resolve():(0,G.promiseWithTimeout)(5e3,new Promise(function(le){var s;t._logger.log("Consent Promise with Timeout..."),(s=t.userConsentLib)!=null&&s.isReady()?(t._logger.log("Consent Is Ready..."),(s=t.userConsentLib)!=null&&s.isInRegion("gdpr")?(t._logger.log("Region is GDPR..."),(s=((s=t.userConsentLib)==null?void 0:s.isOneTrustLoaded())&&!((s=t.userConsentLib)!=null&&s.isOneTrustFailing()))!=null&&s?(t._logger.log("Optanon is Loaded..."),le()):(t._logger.log("Waiting for OneTrust..."),document.addEventListener("oneTrustLoaded",function(){t._logger.log("OneTrust is Loaded..."),le()}),document.addEventListener("oneTrustFailed",function(){t._logger.error("OneTrust Failed To Load..."),le()}),document.addEventListener("oneTrustBlocked",function(){t._logger.error("OneTrust Loading Was Blocked..."),le()}))):(t._logger.log("Region is not GDPR..."),le())):t.userConsentLib?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",function(){console.log("Consent Is Ready..."),le()})):(console.log("No User Consent..."),le())}))},this._logger=new b.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}n.AAdFuelModule=i},{"./Logger":3,"./localization":7,"./promiseWithTimeout":8}],2:[function(v,ae,n){"use strict";function d(){}Object.defineProperty(n,"__esModule",{value:!0}),n.CookieHelper=void 0,d.hasCookie=function(b){return typeof window<"u"&&!(!document||!document.cookie)&&(0<=document.cookie.indexOf("; "+b+"=")||document.cookie.indexOf(b+"=")===0)},d.setCookie=function(b){var G=b.cookieName+"="+b.cookieValue+";";b.attributes.forEach(function(y){G+=" "+y.key+"="+y.value+";"}),b.secure&&(G+=" Secure"),document.cookie=G},d.readCookie=function(b){var G,y,i=!1,V=null;return(i=typeof localStorage<"u"?!0:i)&&(V=localStorage.getItem(b)),i&&V!==null||(y=(G=b).length+1,V=typeof document<"u"&&document.cookie&&document.cookie.split(";").map(function(Ie){return Ie.trim()}).filter(function(Ie){return Ie.substring(0,y)==="".concat(G,"=")}).map(function(Ie){return decodeURIComponent(Ie.substring(y))})[0]||null),V},n.CookieHelper=d},{}],3:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Logger=n.LogLevel=void 0,(b=d=n.LogLevel||(n.LogLevel={})).Info="background: green;color: white;",b.Warning="background: orange;color: black",b.Error="background: red;color:white",Object.defineProperty(G.prototype,"isDebugging",{get:function(){var y;return this._debug===void 0&&(y=this.getUrlParam("debug").split(","),this._debug=y[0]==="true"||0<=y.indexOf(this._logKey.toLowerCase())),this._debug},enumerable:!1,configurable:!0}),G.prototype.info=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.warn=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.error=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.log=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.groupStart=function(y){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(y," - START -----"),this._normalStyle))},G.prototype.groupEnd=function(y){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},G.prototype.timeStart=function(y){var i="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(y);this.groupStart(y),console.time(i)},G.prototype.timeEnd=function(y){var i="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(y);this.groupEnd(y),console.timeEnd(i)},G.prototype.getUrlParam=function(y){return typeof document<"u"&&(y=y.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),y=new RegExp("[\\?&]"+y+"=([^&#]*)"),document)&&document.location&&document.location.search&&(y=y.exec(document.location.search))?y[1]:""};var d,b=G;function G(y,i,V,Ie){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=y||"",this._moduleVersion=i||"",this._logKey=V||(y==null?void 0:y.toLowerCase())||"",this._normalStyle=Ie||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),d.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),d.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),d.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),d.Info,this._normalStyle))}n.Logger=b},{}],4:[function(v,ae,n){"use strict";function d(b,G,y,i){var V=this;this.setMajorTo=b,this.setMinorTo=G,this.setRevisionTo=y,this.setFamilyTo=i,this.setfamily=function(Ie){return V.setFamilyTo=Ie,V},this.toString=function(){return"".concat(V.major,".").concat(V.minor.toString().padStart(2,"0"),".").concat(V.revision.toString().padStart(3,"0")," ").concat(V.family).trim()}}Object.defineProperty(n,"__esModule",{value:!0}),n.Version=void 0,Object.defineProperty(d.prototype,"major",{get:function(){var b;return(b=this.setMajorTo)!=null?b:0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"minor",{get:function(){var b;return(b=this.setMinorTo)!=null?b:0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"revision",{get:function(){var b;return(b=this.setRevisionTo)!=null?b:0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"family",{get:function(){var b;return(b=this.setFamilyTo)!=null?b:""},enumerable:!1,configurable:!0}),n.Version=d},{}],5:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getUrlParam=void 0,n.getUrlParam=function(d){return typeof document<"u"&&(d=d.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),d=new RegExp("[\\?&]"+d+"=([^&#]*)"),document)&&document.location&&document.location.search&&(d=d.exec(document.location.search))?d[1]:""}},{}],6:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.loadScriptFromUrl=void 0;var d=v("./promiseWithTimeout");n.loadScriptFromUrl=function(b,G,y,i){return y===void 0&&(y=document),i===void 0&&(i=!0),(0,d.promiseWithTimeout)(5e3,new Promise(function(V,Ie){var F,Fe,Ee=y.createElement("script");if(Ee.setAttribute("data-nscript","beforeInteractive"),document.getElementById(G))Ie("Element name ".concat(G," already exists in the document."));else try{var Te="",fe=(Te=1<b.split("//").length?b:((Fe=((F=y.location)==null?void 0:F.protocol)==="https:")!==null&&Fe?"https://":"http://").concat(b),y.getElementsByTagName("script")[0]);if(Ee.id=G,Ee.type="text/javascript",Ee.src=Te,Ee.async=i,Ee.addEventListener("load",function(){V(Ee)}),fe==null||!fe.parentNode)throw new Error("Could not insert script.");fe.parentNode.insertBefore(Ee,fe)}catch(Ae){console.log("Error in loading script from ".concat(Ee.src),Ae),Ie(Ae)}}))}},{"./promiseWithTimeout":8}],7:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setIsUSnowleb=n.setIsIntl=n.isUSnowleb=n.isIntl=n.isCanada=void 0;var d=v("./setHostAndPathNames"),b=v("./getUrlParam"),G=v("./Logger"),y=v("./variables"),i=new G.Logger(y.MODULE_NAME,y.MODULE_VERSION.toString(),y.MODULE_LOG_TAG,"color: coral; padding: 2px"),V=!1,Ie=!1,F=new Set(["US","CA"]),Fe=/^.*(edition|edition-m|arabic|nowlebespanol|nowlebe-test)\.nowleb.com/;n.isCanada=function(){var Ee;return(Ee=(Ee=(Ee=window.WM)==null?void 0:Ee.UserConsent)==null?void 0:Ee.getGeoCountry())!=null?Ee:y.countryCode},n.isIntl=function(){var Ee=!1,Te=(0,d.setHostAndPathNames)(),fe=(fe=(fe=window.WM)==null?void 0:fe.UserConsent)!=null&&fe.getGeoCountry&&typeof((fe=(fe=window.WM)==null?void 0:fe.UserConsent)==null?void 0:fe.getGeoCountry)=="function"?(fe=(fe=window.WM)==null?void 0:fe.UserConsent)==null?void 0:fe.getGeoCountry():y.countryCode,Ae=(Ae=(Ae=window.WM)==null?void 0:Ae.UserConsent)!=null&&Ae.getGeoState&&typeof((Ae=(Ae=window.WM)==null?void 0:Ae.UserConsent)==null?void 0:Ae.getGeoState)=="function"?(Ae=(Ae=window.WM)==null?void 0:Ae.UserConsent)==null?void 0:Ae.getGeoState():"",be=0<=Te.search(/^(.*\.)?nowleb\.com$/);return be&&F.delete("CA"),i.log("Is nowleb:",be),i.log("Domestic Country Codes: ",Array.from(F)),i.log("UserConsent Location: ",{state:Ae,country:fe}),(0,b.getUrlParam)("isIntl")==="true"?(V||(V=!0,i.log("Faking international site. Using International PubIds.")),Ee=!0):0<=Te.search(Fe)?(V||(V=!0,i.log("Full international site. Using International PubIds.")),Ee=!0):fe===""||fe===null?(V||(V=!0,i.log("No country code. Using Domestic PubIds.")),Ee=!1):F.has(fe)?V||(V=!0,i.log("Domestic site or country code. Using Domestic PubIds."),Ee=!1):0<=Te.search(/^.*(money|\.nowleb)\./)?(0<=Te.search(/^.*us\.nowleb\.com/)&&(V||i.log("International user but domestic page.  Using alternate International PubIds if available."),Ie=!0),V||(V=!0,i.log("International country code. Using International PubIds.")),Ee=!0):0<=Te.search(/^.*us\.nowleb\.com/)?(V||(V=!0,i.log("International user but domestic page. Using alternate International PubIds if available.")),Ie=Ee=!0):(V||(V=!0,i.log("International country code but domestic site. Using International PubIds if available.")),Ee=!0),Ee},n.isUSnowleb=function(){return(0,n.isIntl)(),i.log("Is User on US.nowleb.COM? ",Ie),Ie},n.setIsIntl=n.isIntl,n.setIsUSnowleb=n.isUSnowleb},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":9,"./variables":10}],8:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.promiseWithTimeout=void 0,n.promiseWithTimeout=function(d,b,G){G===void 0&&(G="The promise timed out.");var y=new Promise(function(i,V){var Ie=setTimeout(function(){clearTimeout(Ie),V(G)},d)});return Promise.race([b,y])}},{}],9:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setHostAndPathNames=void 0,n.setHostAndPathNames=function(){var d=typeof document<"u"?document.createElement("a"):{href:"",hostname:"",pathname:""};return d.href=typeof document<"u"?document.location.href:"",d.hostname}},{}],10:[function(b,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.hasUserConsent=n.selectedEdition=n.locationServiceURL=n.countryCode=n.noop=n.toString=n.MODULE_LOG_TAG=n.MODULE_VERSION=n.MODULE_NAME=void 0;var d=b("./Version"),b=b("./CookieHelper"),G=Object.prototype;n.MODULE_NAME="Ad Utilities",n.MODULE_VERSION=new d.Version(5,0,102,"TS"),n.MODULE_LOG_TAG="utils",n.toString=G.toString,n.noop=function(){},n.countryCode=b.CookieHelper.readCookie("countryCode")||((G=(d=b.CookieHelper.readCookie("CG"))==null?void 0:d.substr(0,2))!=null?G:""),n.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",n.selectedEdition=(d=b.CookieHelper.readCookie("SelectedEdition"))!=null?d:"www",n.hasUserConsent=typeof window<"u"&&(window.WM&&window.WM.UserConsent||window.WBD&&window.WBD.UserConsent)||!1},{"./CookieHelper":2,"./Version":4}],11:[function(Fe,ae,n){"use strict";var d,b,G=this&&this.__extends||(d=function(Te,fe){return(d=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(Ae,be){Ae.__proto__=be}:function(Ae,be){for(var t in be)Object.prototype.hasOwnProperty.call(be,t)&&(Ae[t]=be[t])}))(Te,fe)},function(Te,fe){if(typeof fe!="function"&&fe!==null)throw new TypeError("Class extends value "+String(fe)+" is not a constructor or null");function Ae(){this.constructor=Te}d(Te,fe),Te.prototype=fe===null?Object.create(fe):(Ae.prototype=fe.prototype,new Ae)}),y=(Object.defineProperty(n,"__esModule",{value:!0}),n.Proximic=void 0,Fe("@turnercode/digital-ads-utilities/dist/AAdFuelModule")),i=Fe("@turnercode/digital-ads-utilities/dist/Version"),V=Fe("@turnercode/digital-ads-utilities/dist/loadScriptFromUrl"),Ie=Fe("./version.json"),F=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"],Fe=(b=y.AAdFuelModule,G(Ee,b),Ee.prototype.preDispatch=function(Te){var fe=this;return new Promise(function(Ae,be){var t,le;(t=!(fe!=null&&fe.isInitialized))!==null&&t?Ae({name:"Proximic"}):(fe.logger.info("PROXIMIC preDispatch fired."),fe.targetingSet||(fe.targetingSet=!0,le=window.proximicData,fe.logger.log("Adding Proximic Targeting..."),window.AdFuel?window.AdFuel.addPageLevelTarget("pconid",le):(t=window.googletag)!=null&&t.cmd.push(function(){var s;(s=window.googletag)!=null&&s.pubads().setTargeting("pconid",le)})),Ae({name:"Proximic",pconid:window.proximicData}))})},Ee);function Ee(Te){var fe=b.call(this,Te,"Proximic Module",new i.Version(Ie.major,Ie.minor,Ie.revision,Ie.family),"proximic","color: #d2b000; padding: 2px",y.ModuleFlags.RunWithoutAdFuel|y.ModuleFlags.EnableForDomestic|y.ModuleFlags.EnableForForeign,F)||this;return fe.config=Te,fe.isInitialized=!1,fe.enabled=!0,fe.targetingSet=!1,fe.scannableUrl="",fe.init=function(){return new Promise(function(Ae,be){var t,le;fe.logger.info("Initializing Proximic Module..."),fe.enabled&&(fe.logger.info("Initializing Module: ",fe.config),t=typeof document<"u"?document.location.href:"",(le=document.createElement("a")).href=t,fe.scannableUrl=le.origin+(le.pathname.indexOf("/")!==0?"/"+le.pathname:le.pathname),(0,V.loadScriptFromUrl)("segment-data-us-east.zqtk.net/turner-47fcf6?url=".concat(encodeURIComponent(fe.scannableUrl)),"proximic").then(function(){fe.logger.info("Proximic Script Loaded."),fe.isInitialized=!0,Ae()}).finally(function(){window.AdFuel?window.AdFuel.setModuleReady(fe.MODULE_LOG_TAG):document.addEventListener("AdFuelCreated",function(){window.AdFuel.setModuleReady(fe.MODULE_LOG_TAG)})}).catch(function(s){fe.logger.error("There was an error loading the Proximic script.",s)})),Ae()})},fe.logger.info("Proximic Module constructed"),window.gotSegmentData=function(Ae){Ae.data&&(fe.logger.info("Proximic returned with segment data: ",Ae.data),window.proximicData=Ae.data),Ae.errors&&(fe.logger.error("Proximic returned with errors: ",Ae.errors),window.proximicData=Ae.errors)},fe}new(n.Proximic=Fe)(((G=window.AdFuelOptions)==null?void 0:G.PROXIMIC)||{DEBUG:!1})},{"./version.json":12,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/Version":4,"@turnercode/digital-ads-utilities/dist/loadScriptFromUrl":6}],12:[function(v,ae,n){ae.exports={family:"TS",major:5,minor:0,revision:18}},{}]},{},[11])(11)})});var od=Ve((rd,nr)=>{(function(v){typeof rd=="object"&&typeof nr<"u"?nr.exports=v():typeof define=="function"&&define.amd?define([],v):(typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:this).Permutive=v()})(function(){return function v(ae,n,d){function b(i,V){if(!n[i]){if(!ae[i]){var Ie=typeof ut=="function"&&ut;if(!V&&Ie)return Ie(i,!0);if(G)return G(i,!0);throw(V=new Error("Cannot find module '"+i+"'")).code="MODULE_NOT_FOUND",V}Ie=n[i]={exports:{}},ae[i][0].call(Ie.exports,function(F){return b(ae[i][1][F]||F)},Ie,Ie.exports,v,ae,n,d)}return n[i].exports}for(var G=typeof ut=="function"&&ut,y=0;y<d.length;y++)b(d[y]);return b}({1:[function(i,ae,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AAdFuelModule=n.ModuleFlags=void 0;var d,b=i("./Logger"),G=i("./promiseWithTimeout"),y=i("./localization"),i=((i=d=n.ModuleFlags||(n.ModuleFlags={}))[i.None=0]="None",i[i.EnableForDomestic=1]="EnableForDomestic",i[i.EnableForForeign=2]="EnableForForeign",i[i.RunWithoutAdFuel=4]="RunWithoutAdFuel",i[i.RunWithoutConsent=8]="RunWithoutConsent",i[i.HasVideoAPI=16]="HasVideoAPI",i[i.DisableForCanada=32]="DisableForCanada",Object.defineProperty(V.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),V);function V(Ie,F,Fe,Ee,Te,fe,Ae,be){fe===void 0&&(fe=d.EnableForDomestic|d.EnableForForeign),Ae===void 0&&(Ae=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var t=this;this.config=Ie,this.MODULE_NAME=F,this.MODULE_VERSION=Fe,this.MODULE_LOG_TAG=Ee,this.logStyle=Te,this.moduleFlags=fe,this.consentTags=Ae,this.MODULE_VIDEO_API_KEY=be,this.adFuelExists=!!window.AdFuel,this.userConsentLib=((Ie=window.WM)==null?void 0:Ie.UserConsent)||((F=window.WBD)==null?void 0:F.UserConsent),this.environmentMatchesFlags=function(){return(0,y.isIntl)()?(!(0,y.isCanada)()||(t.moduleFlags&d.DisableForCanada)!==d.DisableForCanada)&&(t.moduleFlags&d.EnableForForeign)===d.EnableForForeign:(t.moduleFlags&d.EnableForDomestic)===d.EnableForDomestic},this.callInit=function(){t.logger.log("Waiting for UserConsent..."),t.waitForUserConsent().then(function(){var le;t.logger.log("Checking Module Flags...",t.moduleFlags),(t.moduleFlags&d.RunWithoutConsent)==d.RunWithoutConsent||(le=t.userConsentLib)!=null&&le.inUserConsentState(t.consentTags,{id:t.MODULE_NAME})?(t.moduleFlags&&d.RunWithoutAdFuel)==d.RunWithoutAdFuel?((le=window.AdFuel)!=null&&le.registerModule(t)||document.addEventListener("AdFuelCreated",function(){var s;t.logger.log("Registering with AdFuel..."),(s=window.AdFuel)!=null&&s.registerModule(t)}),t.logger.log("Checking Environment..."),t.environmentMatchesFlags()?(t.logger.log("Calling Init..."),t.init().then(function(){var s;window.AdFuel?(t.logger.log("Setting Module Loaded..."),(s=window.AdFuel)!=null&&s.setModuleLoaded(t.MODULE_LOG_TAG)):(t.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var $;t.logger.log("Setting Module Loaded..."),($=window.AdFuel)!=null&&$.setModuleLoaded(t.MODULE_LOG_TAG)}))})):(t.logger.warn("Not initializing ".concat(t.MODULE_NAME," for environmental reasons."),t.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(t.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(t.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",function(){window.AdFuel.setModuleReady(t.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(t.MODULE_LOG_TAG)}))):(t.logger.log("Waiting for AdFuel..."),t.waitForAdFuel().then(function(){var s;(s=window.AdFuel)!=null&&s.registerModule(t)||document.addEventListener("AdFuelCreated",function(){var $;t.logger.log("Registering with AdFuel..."),($=window.AdFuel)!=null&&$.registerModule(t)}),t.logger.log("Checking Environment..."),t.environmentMatchesFlags()?(t.logger.log("Calling Init..."),t.init().then(function(){var $;window.AdFuel?(t.logger.log("Setting Module Loaded..."),($=window.AdFuel)!=null&&$.setModuleLoaded(t.MODULE_LOG_TAG)):(t.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var a;t.logger.log("Setting Module Loaded..."),(a=window.AdFuel)!=null&&a.setModuleLoaded(t.MODULE_LOG_TAG)}))})):t.logger.warn("Not initializing ".concat(t.MODULE_NAME," for environmental reasons."),t.moduleFlags)}).catch(function(s){t.logger.warn("".concat(t.MODULE_NAME," errored waiting for AdFuel."),s)})):(t.logger.info("User consent is not granted.",(le=t.userConsentLib)==null?void 0:le.inUserConsentState(t.consentTags)),(le=window.AdFuel)!=null&&le.setModuleLoaded(t.MODULE_LOG_TAG))}).catch(function(le){t.logger.warn("".concat(t.MODULE_NAME," errored waiting for consent."),le)})},this.waitForAdFuel=function(){return(t.moduleFlags&d.RunWithoutAdFuel)===d.RunWithoutAdFuel?Promise.resolve():(0,G.promiseWithTimeout)(5e3,new Promise(function(le){window.AdFuel?le():document.addEventListener("AdFuelCreated",function(){le()})}))},this.waitForUserConsent=function(){return!t.userConsentLib||(t.moduleFlags&d.RunWithoutConsent)==d.RunWithoutConsent?Promise.resolve():(0,G.promiseWithTimeout)(5e3,new Promise(function(le){var s;t._logger.log("Consent Promise with Timeout..."),(s=t.userConsentLib)!=null&&s.isReady()?(t._logger.log("Consent Is Ready..."),(s=t.userConsentLib)!=null&&s.isInRegion("gdpr")?(t._logger.log("Region is GDPR..."),(s=((s=t.userConsentLib)==null?void 0:s.isOneTrustLoaded())&&!((s=t.userConsentLib)!=null&&s.isOneTrustFailing()))!=null&&s?(t._logger.log("Optanon is Loaded..."),le()):(t._logger.log("Waiting for OneTrust..."),document.addEventListener("oneTrustLoaded",function(){t._logger.log("OneTrust is Loaded..."),le()}),document.addEventListener("oneTrustFailed",function(){t._logger.error("OneTrust Failed To Load..."),le()}),document.addEventListener("oneTrustBlocked",function(){t._logger.error("OneTrust Loading Was Blocked..."),le()}))):(t._logger.log("Region is not GDPR..."),le())):t.userConsentLib?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",function(){console.log("Consent Is Ready..."),le()})):(console.log("No User Consent..."),le())}))},this._logger=new b.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}n.AAdFuelModule=i},{"./Logger":3,"./localization":7,"./promiseWithTimeout":8}],2:[function(v,ae,n){function d(){}Object.defineProperty(n,"__esModule",{value:!0}),n.CookieHelper=void 0,d.hasCookie=function(b){return typeof window<"u"&&!(!document||!document.cookie)&&(0<=document.cookie.indexOf("; "+b+"=")||document.cookie.indexOf(b+"=")===0)},d.setCookie=function(b){var G=b.cookieName+"="+b.cookieValue+";";b.attributes.forEach(function(y){G+=" "+y.key+"="+y.value+";"}),b.secure&&(G+=" Secure"),document.cookie=G},d.readCookie=function(b){var G,y,i=!1,V=null;return(i=typeof localStorage<"u"?!0:i)&&(V=localStorage.getItem(b)),i&&V!==null||(y=(G=b).length+1,V=typeof document<"u"&&document.cookie&&document.cookie.split(";").map(function(Ie){return Ie.trim()}).filter(function(Ie){return Ie.substring(0,y)==="".concat(G,"=")}).map(function(Ie){return decodeURIComponent(Ie.substring(y))})[0]||null),V},n.CookieHelper=d},{}],3:[function(v,ae,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Logger=n.LogLevel=void 0,(b=d=n.LogLevel||(n.LogLevel={})).Info="background: green;color: white;",b.Warning="background: orange;color: black",b.Error="background: red;color:white",Object.defineProperty(G.prototype,"isDebugging",{get:function(){var y;return this._debug===void 0&&(y=this.getUrlParam("debug").split(","),this._debug=y[0]==="true"||0<=y.indexOf(this._logKey.toLowerCase())),this._debug},enumerable:!1,configurable:!0}),G.prototype.info=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.warn=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.error=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.log=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.groupStart=function(y){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(y," - START -----"),this._normalStyle))},G.prototype.groupEnd=function(y){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},G.prototype.timeStart=function(y){var i="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(y);this.groupStart(y),console.time(i)},G.prototype.timeEnd=function(y){var i="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(y);this.groupEnd(y),console.timeEnd(i)},G.prototype.getUrlParam=function(y){return typeof document<"u"&&(y=y.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),y=new RegExp("[\\?&]"+y+"=([^&#]*)"),document)&&document.location&&document.location.search&&(y=y.exec(document.location.search))?y[1]:""};var d,b=G;function G(y,i,V,Ie){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=y||"",this._moduleVersion=i||"",this._logKey=V||(y==null?void 0:y.toLowerCase())||"",this._normalStyle=Ie||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),d.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),d.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),d.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),d.Info,this._normalStyle))}n.Logger=b},{}],4:[function(v,ae,n){function d(b,G,y,i){var V=this;this.setMajorTo=b,this.setMinorTo=G,this.setRevisionTo=y,this.setFamilyTo=i,this.setfamily=function(Ie){return V.setFamilyTo=Ie,V},this.toString=function(){return"".concat(V.major,".").concat(V.minor.toString().padStart(2,"0"),".").concat(V.revision.toString().padStart(3,"0")," ").concat(V.family).trim()}}Object.defineProperty(n,"__esModule",{value:!0}),n.Version=void 0,Object.defineProperty(d.prototype,"major",{get:function(){var b;return(b=this.setMajorTo)!=null?b:0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"minor",{get:function(){var b;return(b=this.setMinorTo)!=null?b:0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"revision",{get:function(){var b;return(b=this.setRevisionTo)!=null?b:0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"family",{get:function(){var b;return(b=this.setFamilyTo)!=null?b:""},enumerable:!1,configurable:!0}),n.Version=d},{}],5:[function(v,ae,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getUrlParam=void 0,n.getUrlParam=function(d){return typeof document<"u"&&(d=d.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),d=new RegExp("[\\?&]"+d+"=([^&#]*)"),document)&&document.location&&document.location.search&&(d=d.exec(document.location.search))?d[1]:""}},{}],6:[function(v,ae,n){Object.defineProperty(n,"__esModule",{value:!0}),n.loadScriptFromUrl=void 0;var d=v("./promiseWithTimeout");n.loadScriptFromUrl=function(b,G,y,i){return y===void 0&&(y=document),i===void 0&&(i=!0),(0,d.promiseWithTimeout)(5e3,new Promise(function(V,Ie){var F,Fe,Ee=y.createElement("script");if(Ee.setAttribute("data-nscript","beforeInteractive"),document.getElementById(G))Ie("Element name ".concat(G," already exists in the document."));else try{var Te="",fe=(Te=1<b.split("//").length?b:((Fe=((F=y.location)==null?void 0:F.protocol)==="https:")!==null&&Fe?"https://":"http://").concat(b),y.getElementsByTagName("script")[0]);Ee.id=G,Ee.type="text/javascript",Ee.src=Te,Ee.async=i,Ee.addEventListener("load",function(){V(Ee)}),fe!=null&&fe.parentNode?fe.parentNode.insertBefore(Ee,fe):document.head.appendChild(Ee)}catch(Ae){console.log("Error in loading script from ".concat(Ee.src),Ae),Ie(Ae)}}))}},{"./promiseWithTimeout":8}],7:[function(v,ae,n){Object.defineProperty(n,"__esModule",{value:!0}),n.setIsUSnowleb=n.setIsIntl=n.isUSnowleb=n.isIntl=n.isCanada=void 0;var d=v("./setHostAndPathNames"),b=v("./getUrlParam"),G=v("./Logger"),y=v("./variables"),i=new G.Logger(y.MODULE_NAME,y.MODULE_VERSION.toString(),y.MODULE_LOG_TAG,"color: coral; padding: 2px"),V=!1,Ie=!1,F=new Set(["US","CA"]),Fe=/^.*(edition|edition-m|arabic|nowlebespanol|nowlebe-test)\.nowleb.com/;n.isCanada=function(){var Ee;return(Ee=(Ee=(Ee=window.WM)==null?void 0:Ee.UserConsent)==null?void 0:Ee.getGeoCountry())!=null?Ee:y.countryCode==="CA"},n.isIntl=function(){var Ee=!1,Te=(0,d.setHostAndPathNames)(),fe=(fe=(fe=window.WM)==null?void 0:fe.UserConsent)!=null&&fe.getGeoCountry&&typeof((fe=(fe=window.WM)==null?void 0:fe.UserConsent)==null?void 0:fe.getGeoCountry)=="function"?(fe=(fe=window.WM)==null?void 0:fe.UserConsent)==null?void 0:fe.getGeoCountry():y.countryCode,Ae=(Ae=(Ae=window.WM)==null?void 0:Ae.UserConsent)!=null&&Ae.getGeoState&&typeof((Ae=(Ae=window.WM)==null?void 0:Ae.UserConsent)==null?void 0:Ae.getGeoState)=="function"?(Ae=(Ae=window.WM)==null?void 0:Ae.UserConsent)==null?void 0:Ae.getGeoState():"",be=0<=Te.search(/^(.*\.)?nowleb\.com$/);return be&&F.delete("CA"),i.log("Is nowleb:",be),i.log("Domestic Country Codes: ",Array.from(F)),i.log("UserConsent Location: ",{state:Ae,country:fe}),(0,b.getUrlParam)("isIntl")==="true"?(V||(V=!0,i.log("Faking international site. Using International PubIds.")),Ee=!0):0<=Te.search(Fe)?(V||(V=!0,i.log("Full international site. Using International PubIds.")),Ee=!0):fe===""||fe===null?(V||(V=!0,i.log("No country code. Using Domestic PubIds.")),Ee=!1):F.has(fe)?V||(V=!0,i.log("Domestic site or country code. Using Domestic PubIds."),Ee=!1):0<=Te.search(/^.*(money|\.nowleb)\./)?(0<=Te.search(/^.*us\.nowleb\.com/)&&(V||i.log("International user but domestic page.  Using alternate International PubIds if available."),Ie=!0),V||(V=!0,i.log("International country code. Using International PubIds.")),Ee=!0):0<=Te.search(/^.*us\.nowleb\.com/)?(V||(V=!0,i.log("International user but domestic page. Using alternate International PubIds if available.")),Ie=Ee=!0):(V||(V=!0,i.log("International country code but domestic site. Using International PubIds if available.")),Ee=!0),Ee},n.isUSnowleb=function(){return(0,n.isIntl)(),i.log("Is User on US.nowleb.COM? ",Ie),Ie},n.setIsIntl=n.isIntl,n.setIsUSnowleb=n.isUSnowleb},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":9,"./variables":10}],8:[function(v,ae,n){Object.defineProperty(n,"__esModule",{value:!0}),n.promiseWithTimeout=void 0,n.promiseWithTimeout=function(d,b,G){G===void 0&&(G="The promise timed out.");var y=new Promise(function(i,V){var Ie=setTimeout(function(){clearTimeout(Ie),V(G)},d)});return Promise.race([b,y])}},{}],9:[function(v,ae,n){Object.defineProperty(n,"__esModule",{value:!0}),n.setHostAndPathNames=void 0,n.setHostAndPathNames=function(){var d=typeof document<"u"?document.createElement("a"):{href:"",hostname:"",pathname:""};return d.href=typeof document<"u"?document.location.href:"",d.hostname}},{}],10:[function(b,ae,n){Object.defineProperty(n,"__esModule",{value:!0}),n.hasUserConsent=n.selectedEdition=n.locationServiceURL=n.countryCode=n.noop=n.toString=n.MODULE_LOG_TAG=n.MODULE_VERSION=n.MODULE_NAME=void 0;var d=b("./Version"),b=b("./CookieHelper"),G=Object.prototype;n.MODULE_NAME="Ad Utilities",n.MODULE_VERSION=new d.Version(5,0,102,"TS"),n.MODULE_LOG_TAG="utils",n.toString=G.toString,n.noop=function(){},n.countryCode=b.CookieHelper.readCookie("countryCode")||((G=(d=b.CookieHelper.readCookie("CG"))==null?void 0:d.substr(0,2))!=null?G:""),n.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",n.selectedEdition=(d=b.CookieHelper.readCookie("SelectedEdition"))!=null?d:"www",n.hasUserConsent=typeof window<"u"&&(window.WM&&window.WM.UserConsent||window.WBD&&window.WBD.UserConsent)||!1},{"./CookieHelper":2,"./Version":4}],11:[function(Ee,ae,n){var d,b,G=this&&this.__extends||(d=function(fe,Ae){return(d=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(be,t){be.__proto__=t}:function(be,t){for(var le in t)Object.prototype.hasOwnProperty.call(t,le)&&(be[le]=t[le])}))(fe,Ae)},function(fe,Ae){if(typeof Ae!="function"&&Ae!==null)throw new TypeError("Class extends value "+String(Ae)+" is not a constructor or null");function be(){this.constructor=fe}d(fe,Ae),fe.prototype=Ae===null?Object.create(Ae):(be.prototype=Ae.prototype,new be)}),y=(Object.defineProperty(n,"__esModule",{value:!0}),n.Permutive=void 0,Ee("@turnercode/digital-ads-utilities/dist/AAdFuelModule")),i=Ee("@turnercode/digital-ads-utilities/dist/Version"),V=Ee("@turnercode/digital-ads-utilities/dist/localization"),Ie=Ee("@turnercode/digital-ads-utilities/dist/loadScriptFromUrl"),F=Ee("./version.json"),Fe=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"],Ee=(b=y.AAdFuelModule,G(Te,b),Te);function Te(fe){var Ae=b.call(this,fe,"Permutive Module",new i.Version(F.major,F.minor,F.revision,F.family),"perm","color: #d2b000; padding: 2px",y.ModuleFlags.EnableForForeign|y.ModuleFlags.RunWithoutAdFuel,Fe)||this;return Ae.config=fe,Ae.initializePermutive=function(){var be={page:{clientCustom:{product:"".concat((($=($=window.nowleb)==null?void 0:$.contentModel)==null?void 0:$.brandSite)||"").concat(($=($=window.nowleb)==null?void 0:$.contentModel)!=null&&$.edition?($=($=window.nowleb)==null?void 0:$.contentModel)==null?void 0:$.edition:"")},user:{loginStatus:!1},isTestData:(($=($=window.nowleb)==null?void 0:$.contentModel)==null?void 0:$.environment)==="dev",page:{description:(($=($=($=window.nowleb)==null?void 0:$.metadata)==null?void 0:$.content)==null?void 0:$.headline)||"",sections:new Array,type:(($=($=window.nowleb)==null?void 0:$.contentModel)==null?void 0:$.pageType)||"",id:(($=($=($=($=window.nowleb)==null?void 0:$.metadata)==null?void 0:$.content)==null?void 0:$.identifiers)==null?void 0:$.pageStellarId)||""}}};($=($=window.nowleb)==null?void 0:$.contentModel)!=null&&$.section&&(($=($=window.nowleb)==null?void 0:$.contentModel)==null?void 0:$.section)!==""&&be.page.page.sections.push(window.nowleb.contentModel.section),($=($=window.nowleb)==null?void 0:$.contentModel)!=null&&$.subsection&&(($=($=window.nowleb)==null?void 0:$.contentModel)==null?void 0:$.subsection)!==""&&be.page.page.sections.push(window.nowleb.contentModel.subsection),($=($=window.nowleb)==null?void 0:$.contentModel)!=null&&$.subsubsection&&(($=($=window.nowleb)==null?void 0:$.contentModel)==null?void 0:$.subsubsection)!==""&&be.page.page.sections.push(window.nowleb.contentModel.subsubsection),Ae.logger.log("Generated Schema:",JSON.stringify(be,null,4)),window.permutive=window.permutive||{},window.permutive.q=window.permutive.q||[],window.permutive.config=window.permutive.config||{},window.permutive.config.apiKey=(0,V.isIntl)()?Ae.config.API_KEY.INTL:Ae.config.API_KEY.DOM,window.permutive.config.workspaceId=(0,V.isIntl)()?Ae.config.WORKSPACE_ID.INTL:Ae.config.API_KEY.DOM,window.permutive.config.environment=window.permutive.config.environment||"production",(window.crypto||window.msCrypto)&&(window.permutive.config.viewId=("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(a){return(a^(window.crypto||window.msCrypto).getRandomValues(new Uint8Array(1))[0]&15>>a/4).toString(16)}));for(var t=["addon","identify","track","trigger","query","segment","segments","ready","on","once","user","consent"],le=0;le<t.length;le++){var s=t[le];window.permutive[s]=(a=>function(){var o=Array.prototype.slice.call(arguments,0);window.permutive.q.push({functionName:a,arguments:o})})(s)}var $="https://".concat((0,V.isIntl)()?Ae.config.ORGANIZATION_ID.INTL:Ae.config.ORGANIZATION_ID.DOM,".edge.permutive.app/").concat((0,V.isIntl)()?Ae.config.WORKSPACE_ID.INTL:Ae.config.WORKSPACE_ID.DOM,"-web.js");Ae.logger.log("Loading Permutive Script From URL: ",$),(0,Ie.loadScriptFromUrl)($,"permutiveScript").then(function(){Ae.logger.log("Adding Schema: ",be),window.permutive.addon("web",be)})},Ae.init=function(){return new Promise(function(be,t){var le;try{Ae.logger.info("Initializing Permutive Module..."),Ae.initializePermutive()}catch(s){(le=Ae.logger)!=null&&le.error("Permutive Initialization Error: ",s)}finally{window.AdFuel.setModuleReady("perm")}be()})},Ae.preQueue=function(be){return new Promise(function(t){Ae.logger.log("########## PRE-QUEUE FUNCTION START ##########");var le=window.localStorage.getItem("_pdfps"),s=((s=Ae.logger)!=null&&s.log("Setting Targeting [permutive]",le),(s=window.googletag)!=null&&s.pubads().setTargeting("permutive",le?JSON.parse(le):[]),window.localStorage.getItem("permutive-id"));s&&((le=Ae.logger)!=null&&le.log("Setting Targeting [puid]",0),(le=window.googletag)!=null&&le.pubads().setTargeting("puid",s),(le=Ae.logger)!=null&&le.log("Setting Targeting [ptime]"),(s=window.googletag)!=null)&&s.pubads().setTargeting("ptime",Date.now().toString()),window.permutive&&window.permutive.config&&((le=Ae.logger)!=null&&le.log("Setting Targeting [viewId/workspaceId]",{view:window.permutive.config.viewId,workspace:window.permutive.config.workspaceId}),window.permutive.config.viewId&&(s=window.googletag)!=null&&s.pubads().setTargeting("prmtvvid",window.permutive.config.viewId),window.permutive.config.workspaceId)&&(le=window.googletag)!=null&&le.pubads().setTargeting("prmtvwid",window.permutive.config.workspaceId),Ae.logger.log("########## PRE-QUEUE FUNCTION END ##########"),t({name:Ae.MODULE_LOG_TAG})})},Ae.logger.info("Permutive Module constructed"),Ae}new(n.Permutive=Ee)(((G=window.AdFuelOptions)==null?void 0:G.PERMUTIVE)||{DEBUG:!0,ORGANIZATION_ID:{DOM:"",INTL:"8512b548-2306-4976-a576-a880f2c35e4e"},WORKSPACE_ID:{DOM:"",INTL:"6adbc4e9-beda-4b9e-9117-43ec3a80e1d0"},API_KEY:{DOM:"",INTL:"ab643419-b968-4cdf-a540-4a69fd419502"}})},{"./version.json":12,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/Version":4,"@turnercode/digital-ads-utilities/dist/loadScriptFromUrl":6,"@turnercode/digital-ads-utilities/dist/localization":7}],12:[function(v,ae,n){ae.exports={family:"",major:1,minor:0,revision:12}},{}]},{},[11])(11)})});var ad=Ve((id,rr)=>{(function(v){typeof id=="object"&&typeof rr<"u"?rr.exports=v():typeof define=="function"&&define.amd?define([],v):(typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:this).IAS=v()})(function(){return function v(ae,n,d){function b(i,V){if(!n[i]){if(!ae[i]){var Ie=typeof ut=="function"&&ut;if(!V&&Ie)return Ie(i,!0);if(G)return G(i,!0);throw(V=new Error("Cannot find module '"+i+"'")).code="MODULE_NOT_FOUND",V}Ie=n[i]={exports:{}},ae[i][0].call(Ie.exports,function(F){return b(ae[i][1][F]||F)},Ie,Ie.exports,v,ae,n,d)}return n[i].exports}for(var G=typeof ut=="function"&&ut,y=0;y<d.length;y++)b(d[y]);return b}({1:[function(i,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AAdFuelModule=n.ModuleFlags=void 0;var d,b=i("./Logger"),G=i("./promiseWithTimeout"),y=i("./localization"),i=((i=d=n.ModuleFlags||(n.ModuleFlags={}))[i.None=0]="None",i[i.EnableForDomestic=1]="EnableForDomestic",i[i.EnableForForeign=2]="EnableForForeign",i[i.RunWithoutAdFuel=4]="RunWithoutAdFuel",i[i.RunWithoutConsent=8]="RunWithoutConsent",i[i.HasVideoAPI=16]="HasVideoAPI",i[i.DisableForCanada=32]="DisableForCanada",Object.defineProperty(V.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),V);function V(Ie,F,Fe,Ee,Te,fe,Ae,be){fe===void 0&&(fe=d.EnableForDomestic|d.EnableForForeign),Ae===void 0&&(Ae=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var t=this;this.config=Ie,this.MODULE_NAME=F,this.MODULE_VERSION=Fe,this.MODULE_LOG_TAG=Ee,this.logStyle=Te,this.moduleFlags=fe,this.consentTags=Ae,this.MODULE_VIDEO_API_KEY=be,this.adFuelExists=!!window.AdFuel,this.userConsentLib=((Ie=window.WM)==null?void 0:Ie.UserConsent)||((F=window.WBD)==null?void 0:F.UserConsent),this.environmentMatchesFlags=function(){return(0,y.isIntl)()?(!(0,y.isCanada)()||(t.moduleFlags&d.DisableForCanada)!==d.DisableForCanada)&&(t.moduleFlags&d.EnableForForeign)===d.EnableForForeign:(t.moduleFlags&d.EnableForDomestic)===d.EnableForDomestic},this.callInit=function(){t.logger.log("Waiting for UserConsent..."),t.waitForUserConsent().then(function(){var le;t.logger.log("Checking Module Flags...",t.moduleFlags),(t.moduleFlags&d.RunWithoutConsent)==d.RunWithoutConsent||(le=t.userConsentLib)!=null&&le.inUserConsentState(t.consentTags,{id:t.MODULE_NAME})?(t.moduleFlags&&d.RunWithoutAdFuel)==d.RunWithoutAdFuel?((le=window.AdFuel)!=null&&le.registerModule(t)||document.addEventListener("AdFuelCreated",function(){var s;t.logger.log("Registering with AdFuel..."),(s=window.AdFuel)!=null&&s.registerModule(t)}),t.logger.log("Checking Environment..."),t.environmentMatchesFlags()?(t.logger.log("Calling Init..."),t.init().then(function(){var s;window.AdFuel?(t.logger.log("Setting Module Loaded..."),(s=window.AdFuel)!=null&&s.setModuleLoaded(t.MODULE_LOG_TAG)):(t.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var $;t.logger.log("Setting Module Loaded..."),($=window.AdFuel)!=null&&$.setModuleLoaded(t.MODULE_LOG_TAG)}))})):(t.logger.warn("Not initializing ".concat(t.MODULE_NAME," for environmental reasons."),t.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(t.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(t.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",function(){window.AdFuel.setModuleReady(t.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(t.MODULE_LOG_TAG)}))):(t.logger.log("Waiting for AdFuel..."),t.waitForAdFuel().then(function(){var s;(s=window.AdFuel)!=null&&s.registerModule(t)||document.addEventListener("AdFuelCreated",function(){var $;t.logger.log("Registering with AdFuel..."),($=window.AdFuel)!=null&&$.registerModule(t)}),t.logger.log("Checking Environment..."),t.environmentMatchesFlags()?(t.logger.log("Calling Init..."),t.init().then(function(){var $;window.AdFuel?(t.logger.log("Setting Module Loaded..."),($=window.AdFuel)!=null&&$.setModuleLoaded(t.MODULE_LOG_TAG)):(t.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var a;t.logger.log("Setting Module Loaded..."),(a=window.AdFuel)!=null&&a.setModuleLoaded(t.MODULE_LOG_TAG)}))})):t.logger.warn("Not initializing ".concat(t.MODULE_NAME," for environmental reasons."),t.moduleFlags)}).catch(function(s){t.logger.warn("".concat(t.MODULE_NAME," errored waiting for AdFuel."),s)})):(t.logger.info("User consent is not granted.",(le=t.userConsentLib)==null?void 0:le.inUserConsentState(t.consentTags)),(le=window.AdFuel)!=null&&le.setModuleLoaded(t.MODULE_LOG_TAG))}).catch(function(le){t.logger.warn("".concat(t.MODULE_NAME," errored waiting for consent."),le)})},this.waitForAdFuel=function(){return(t.moduleFlags&d.RunWithoutAdFuel)===d.RunWithoutAdFuel?Promise.resolve():(0,G.promiseWithTimeout)(5e3,new Promise(function(le){window.AdFuel?le():document.addEventListener("AdFuelCreated",function(){le()})}))},this.waitForUserConsent=function(){return!t.userConsentLib||(t.moduleFlags&d.RunWithoutConsent)==d.RunWithoutConsent?Promise.resolve():(0,G.promiseWithTimeout)(5e3,new Promise(function(le){var s;t._logger.log("Consent Promise with Timeout..."),(s=t.userConsentLib)!=null&&s.isReady()?(t._logger.log("Consent Is Ready..."),(s=t.userConsentLib)!=null&&s.isInRegion("gdpr")?(t._logger.log("Region is GDPR..."),(s=((s=t.userConsentLib)==null?void 0:s.isOneTrustLoaded())&&!((s=t.userConsentLib)!=null&&s.isOneTrustFailing()))!=null&&s?(t._logger.log("Optanon is Loaded..."),le()):(t._logger.log("Waiting for OneTrust..."),document.addEventListener("oneTrustLoaded",function(){t._logger.log("OneTrust is Loaded..."),le()}),document.addEventListener("oneTrustFailed",function(){t._logger.error("OneTrust Failed To Load..."),le()}),document.addEventListener("oneTrustBlocked",function(){t._logger.error("OneTrust Loading Was Blocked..."),le()}))):(t._logger.log("Region is not GDPR..."),le())):t.userConsentLib?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",function(){console.log("Consent Is Ready..."),le()})):(console.log("No User Consent..."),le())}))},this._logger=new b.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}n.AAdFuelModule=i},{"./Logger":3,"./localization":7,"./promiseWithTimeout":8}],2:[function(v,ae,n){"use strict";function d(){}Object.defineProperty(n,"__esModule",{value:!0}),n.CookieHelper=void 0,d.hasCookie=function(b){return typeof window<"u"&&!(!document||!document.cookie)&&(0<=document.cookie.indexOf("; "+b+"=")||document.cookie.indexOf(b+"=")===0)},d.setCookie=function(b){var G=b.cookieName+"="+b.cookieValue+";";b.attributes.forEach(function(y){G+=" "+y.key+"="+y.value+";"}),b.secure&&(G+=" Secure"),document.cookie=G},d.readCookie=function(b){var G,y,i=!1,V=null;return(i=typeof localStorage<"u"?!0:i)&&(V=localStorage.getItem(b)),i&&V!==null||(y=(G=b).length+1,V=typeof document<"u"&&document.cookie&&document.cookie.split(";").map(function(Ie){return Ie.trim()}).filter(function(Ie){return Ie.substring(0,y)==="".concat(G,"=")}).map(function(Ie){return decodeURIComponent(Ie.substring(y))})[0]||null),V},n.CookieHelper=d},{}],3:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Logger=n.LogLevel=void 0,(b=d=n.LogLevel||(n.LogLevel={})).Info="background: green;color: white;",b.Warning="background: orange;color: black",b.Error="background: red;color:white",Object.defineProperty(G.prototype,"isDebugging",{get:function(){var y;return this._debug===void 0&&(y=this.getUrlParam("debug").split(","),this._debug=y[0]==="true"||0<=y.indexOf(this._logKey.toLowerCase())),this._debug},enumerable:!1,configurable:!0}),G.prototype.info=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.warn=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.error=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.log=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.groupStart=function(y){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(y," - START -----"),this._normalStyle))},G.prototype.groupEnd=function(y){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},G.prototype.timeStart=function(y){var i="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(y);this.groupStart(y),console.time(i)},G.prototype.timeEnd=function(y){var i="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(y);this.groupEnd(y),console.timeEnd(i)},G.prototype.getUrlParam=function(y){return typeof document<"u"&&(y=y.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),y=new RegExp("[\\?&]"+y+"=([^&#]*)"),document)&&document.location&&document.location.search&&(y=y.exec(document.location.search))?y[1]:""};var d,b=G;function G(y,i,V,Ie){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=y||"",this._moduleVersion=i||"",this._logKey=V||(y==null?void 0:y.toLowerCase())||"",this._normalStyle=Ie||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),d.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),d.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),d.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),d.Info,this._normalStyle))}n.Logger=b},{}],4:[function(v,ae,n){"use strict";function d(b,G,y,i){var V=this;this.setMajorTo=b,this.setMinorTo=G,this.setRevisionTo=y,this.setFamilyTo=i,this.setfamily=function(Ie){return V.setFamilyTo=Ie,V},this.toString=function(){return"".concat(V.major,".").concat(V.minor.toString().padStart(2,"0"),".").concat(V.revision.toString().padStart(3,"0")," ").concat(V.family).trim()}}Object.defineProperty(n,"__esModule",{value:!0}),n.Version=void 0,Object.defineProperty(d.prototype,"major",{get:function(){var b;return(b=this.setMajorTo)!=null?b:0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"minor",{get:function(){var b;return(b=this.setMinorTo)!=null?b:0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"revision",{get:function(){var b;return(b=this.setRevisionTo)!=null?b:0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"family",{get:function(){var b;return(b=this.setFamilyTo)!=null?b:""},enumerable:!1,configurable:!0}),n.Version=d},{}],5:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getUrlParam=void 0,n.getUrlParam=function(d){return typeof document<"u"&&(d=d.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),d=new RegExp("[\\?&]"+d+"=([^&#]*)"),document)&&document.location&&document.location.search&&(d=d.exec(document.location.search))?d[1]:""}},{}],6:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.loadScriptFromUrl=void 0;var d=v("./promiseWithTimeout");n.loadScriptFromUrl=function(b,G,y,i){return y===void 0&&(y=document),i===void 0&&(i=!0),(0,d.promiseWithTimeout)(5e3,new Promise(function(V,Ie){var F,Fe,Ee=y.createElement("script");if(Ee.setAttribute("data-nscript","beforeInteractive"),document.getElementById(G))Ie("Element name ".concat(G," already exists in the document."));else try{var Te="",fe=(Te=1<b.split("//").length?b:((Fe=((F=y.location)==null?void 0:F.protocol)==="https:")!==null&&Fe?"https://":"http://").concat(b),y.getElementsByTagName("script")[0]);if(Ee.id=G,Ee.type="text/javascript",Ee.src=Te,Ee.async=i,Ee.addEventListener("load",function(){V(Ee)}),fe==null||!fe.parentNode)throw new Error("Could not insert script.");fe.parentNode.insertBefore(Ee,fe)}catch(Ae){console.log("Error in loading script from ".concat(Ee.src),Ae),Ie(Ae)}}))}},{"./promiseWithTimeout":8}],7:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setIsUSnowleb=n.setIsIntl=n.isUSnowleb=n.isIntl=n.isCanada=void 0;var d=v("./setHostAndPathNames"),b=v("./getUrlParam"),G=v("./Logger"),y=v("./variables"),i=new G.Logger(y.MODULE_NAME,y.MODULE_VERSION.toString(),y.MODULE_LOG_TAG,"color: coral; padding: 2px"),V=!1,Ie=!1,F=new Set(["US","CA"]),Fe=/^.*(edition|edition-m|arabic|nowlebespanol|nowlebe-test)\.nowleb.com/;n.isCanada=function(){var Ee;return(Ee=(Ee=(Ee=window.WM)==null?void 0:Ee.UserConsent)==null?void 0:Ee.getGeoCountry())!=null?Ee:y.countryCode},n.isIntl=function(){var Ee=!1,Te=(0,d.setHostAndPathNames)(),fe=(fe=(fe=window.WM)==null?void 0:fe.UserConsent)!=null&&fe.getGeoCountry&&typeof((fe=(fe=window.WM)==null?void 0:fe.UserConsent)==null?void 0:fe.getGeoCountry)=="function"?(fe=(fe=window.WM)==null?void 0:fe.UserConsent)==null?void 0:fe.getGeoCountry():y.countryCode,Ae=(Ae=(Ae=window.WM)==null?void 0:Ae.UserConsent)!=null&&Ae.getGeoState&&typeof((Ae=(Ae=window.WM)==null?void 0:Ae.UserConsent)==null?void 0:Ae.getGeoState)=="function"?(Ae=(Ae=window.WM)==null?void 0:Ae.UserConsent)==null?void 0:Ae.getGeoState():"",be=0<=Te.search(/^(.*\.)?nowleb\.com$/);return be&&F.delete("CA"),i.log("Is nowleb:",be),i.log("Domestic Country Codes: ",Array.from(F)),i.log("UserConsent Location: ",{state:Ae,country:fe}),(0,b.getUrlParam)("isIntl")==="true"?(V||(V=!0,i.log("Faking international site. Using International PubIds.")),Ee=!0):0<=Te.search(Fe)?(V||(V=!0,i.log("Full international site. Using International PubIds.")),Ee=!0):fe===""||fe===null?(V||(V=!0,i.log("No country code. Using Domestic PubIds.")),Ee=!1):F.has(fe)?V||(V=!0,i.log("Domestic site or country code. Using Domestic PubIds."),Ee=!1):0<=Te.search(/^.*(money|\.nowleb)\./)?(0<=Te.search(/^.*us\.nowleb\.com/)&&(V||i.log("International user but domestic page.  Using alternate International PubIds if available."),Ie=!0),V||(V=!0,i.log("International country code. Using International PubIds.")),Ee=!0):0<=Te.search(/^.*us\.nowleb\.com/)?(V||(V=!0,i.log("International user but domestic page. Using alternate International PubIds if available.")),Ie=Ee=!0):(V||(V=!0,i.log("International country code but domestic site. Using International PubIds if available.")),Ee=!0),Ee},n.isUSnowleb=function(){return(0,n.isIntl)(),i.log("Is User on US.nowleb.COM? ",Ie),Ie},n.setIsIntl=n.isIntl,n.setIsUSnowleb=n.isUSnowleb},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":9,"./variables":10}],8:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.promiseWithTimeout=void 0,n.promiseWithTimeout=function(d,b,G){G===void 0&&(G="The promise timed out.");var y=new Promise(function(i,V){var Ie=setTimeout(function(){clearTimeout(Ie),V(G)},d)});return Promise.race([b,y])}},{}],9:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setHostAndPathNames=void 0,n.setHostAndPathNames=function(){var d=typeof document<"u"?document.createElement("a"):{href:"",hostname:"",pathname:""};return d.href=typeof document<"u"?document.location.href:"",d.hostname}},{}],10:[function(b,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.hasUserConsent=n.selectedEdition=n.locationServiceURL=n.countryCode=n.noop=n.toString=n.MODULE_LOG_TAG=n.MODULE_VERSION=n.MODULE_NAME=void 0;var d=b("./Version"),b=b("./CookieHelper"),G=Object.prototype;n.MODULE_NAME="Ad Utilities",n.MODULE_VERSION=new d.Version(5,0,102,"TS"),n.MODULE_LOG_TAG="utils",n.toString=G.toString,n.noop=function(){},n.countryCode=b.CookieHelper.readCookie("countryCode")||((G=(d=b.CookieHelper.readCookie("CG"))==null?void 0:d.substr(0,2))!=null?G:""),n.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",n.selectedEdition=(d=b.CookieHelper.readCookie("SelectedEdition"))!=null?d:"www",n.hasUserConsent=typeof window<"u"&&(window.WM&&window.WM.UserConsent||window.WBD&&window.WBD.UserConsent)||!1},{"./CookieHelper":2,"./Version":4}],11:[function(v,ae,n){"use strict";n.__esModule=!0;var d,b=v("./isMobile");for(d in b)n.hasOwnProperty(d)||(n[d]=b[d]);v=v("./isMobile"),n.default=v.default},{"./isMobile":12}],12:[function(v,ae,n){"use strict";n.__esModule=!0;function d(s){return s!==void 0&&s.platform==="MacIntel"&&typeof s.maxTouchPoints=="number"&&1<s.maxTouchPoints&&typeof MSStream>"u"}var b=/iPhone/i,G=/iPod/i,y=/iPad/i,i=/\biOS-universal(?:.+)Mac\b/i,V=/\bAndroid(?:.+)Mobile\b/i,Ie=/Android/i,F=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Fe=/Silk/i,Ee=/Windows Phone/i,Te=/\bWindows(?:.+)ARM\b/i,fe=/BlackBerry/i,Ae=/BB10/i,be=/Opera Mini/i,t=/\b(CriOS|Chrome)(?:.+)Mobile/i,le=/Mobile(?:.+)Firefox\b/i;n.default=function(s){var $,a={userAgent:"",platform:"",maxTouchPoints:0};s||typeof navigator>"u"?typeof s=="string"?a.userAgent=s:s&&s.userAgent&&(a={userAgent:s.userAgent,platform:s.platform,maxTouchPoints:s.maxTouchPoints||0}):a={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var o=(s=a.userAgent).split("[FBAN");return(o=(s=o[1]!==void 0?o[0]:s).split("Twitter"))[1]!==void 0&&(s=o[0]),$=s,(s={apple:{phone:(o=function(r){return r.test($)})(b)&&!o(Ee),ipod:o(G),tablet:!o(b)&&(o(y)||d(a))&&!o(Ee),universal:o(i),device:(o(b)||o(G)||o(y)||o(i)||d(a))&&!o(Ee)},amazon:{phone:o(F),tablet:!o(F)&&o(Fe),device:o(F)||o(Fe)},android:{phone:!o(Ee)&&o(F)||!o(Ee)&&o(V),tablet:!o(Ee)&&!o(F)&&!o(V)&&(o(Fe)||o(Ie)),device:!o(Ee)&&(o(F)||o(Fe)||o(V)||o(Ie))||o(/\bokhttp\b/i)},windows:{phone:o(Ee),tablet:o(Te),device:o(Ee)||o(Te)},other:{blackberry:o(fe),blackberry10:o(Ae),opera:o(be),firefox:o(le),chrome:o(t),device:o(fe)||o(Ae)||o(be)||o(le)||o(t)},any:!1,phone:!1,tablet:!1}).any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}},{}],13:[function(fe,ae,n){"use strict";var d,b,G=this&&this.__extends||(d=function(be,t){return(d=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(le,s){le.__proto__=s}:function(le,s){for(var $ in s)Object.prototype.hasOwnProperty.call(s,$)&&(le[$]=s[$])}))(be,t)},function(be,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function le(){this.constructor=be}d(be,t),be.prototype=t===null?Object.create(t):(le.prototype=t.prototype,new le)}),y=this&&this.__assign||function(){return(y=Object.assign||function(be){for(var t,le=1,s=arguments.length;le<s;le++)for(var $ in t=arguments[le])Object.prototype.hasOwnProperty.call(t,$)&&(be[$]=t[$]);return be}).apply(this,arguments)},i=(Object.defineProperty(n,"__esModule",{value:!0}),n.IAS=void 0,fe("@turnercode/digital-ads-utilities/dist/AAdFuelModule")),V=fe("@turnercode/digital-ads-utilities/dist/Version"),Ie=fe("@turnercode/digital-ads-utilities/dist/loadScriptFromUrl"),F=fe("@turnercode/digital-ads-utilities/dist/localization"),Fe=fe("ismobilejs"),Ee=fe("./version.json"),Te=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"],fe=(b=i.AAdFuelModule,G(Ae,b),Ae);function Ae(be){var t=b.call(this,be,"Integral Ad Science Module",new V.Version(Ee.major,Ee.minor,Ee.revision,Ee.family),"ias","color: #d2b000; padding: 2px",i.ModuleFlags.EnableForDomestic|i.ModuleFlags.EnableForForeign|i.ModuleFlags.RunWithoutAdFuel,Te)||this;return t.config=be,t.enabled=!0,t.iasActive=!1,t.slotsAdded=!1,t.registeredSlots={},t.adSlots=[],t.init=function(){return new Promise(function(le,s){t.logger.info("Initializing Integral Ad Science Module..."),t.enabled&&(t.logger.info("Initializing Module: ",t.config),(0,Ie.loadScriptFromUrl)("cdn.adsafeprotected.com/iasPET.1.js","ias").then(function($){t.iasActive=!0;var a=(0,F.isIntl)()?t.config.ACCOUNT_IDS.INTL:t.config.ACCOUNT_IDS.DOM;t.logger.info("Pub Ids: ",t.config.ACCOUNT_IDS.DOM,t.config.ACCOUNT_IDS.INTL),t.logger.info("Setting iasPET.pubId: ",a),window.__iasPET.pubId=a,window.IAS=window.IAS||{},window.IAS.getTargetingForVideo=t.getTargetingForVideo,le()}).catch(function($){t.logger.error("There was an error loading the Integral Ad Science script.",$)}).finally(function(){window.AdFuel?window.AdFuel.setModuleReady(t.MODULE_LOG_TAG):document.addEventListener("AdFuelCreated",function(){window.AdFuel.setModuleReady(t.MODULE_LOG_TAG)})})),le()})},t.getTargetingForVideo=function(le){return le===void 0&&(le="nowleb.com_politics_carousel_t1"),new Promise(function(s,$){t.logger.log("Getting Video targeting...");var a={adSlotId:"video1",size:[1,1],type:"video",adUnitPath:le||""};window.__iasPET.queue.push({adSlots:[a],dataHandler:function(o){o||(t.logger.warn("No IAS Targeting For Video"),$(new Error("No Targeting Returned")));try{var r=JSON.parse(o),e=y(y(y(y({},r),r.brandSafety),r.slots.video1),r.custom);delete e.brandSafety,delete e.slots,delete e.custom,t.logger.info("IAS Video Targeting",e),s(e)}catch(l){t.logger.error("Error Parsing IAS Targeting: ",l),$(l)}}})})},t.preQueue=function(le){return new Promise(function(s,$){var a;if((a=!(t!=null&&t.iasActive))!==null&&a)s({name:t.MODULE_LOG_TAG,data:"not active"});else{t.logger.info("IAS preQueue fired.");var o=Math.floor(1e3*Math.random()).toString(),r=!1;if(!t.slotsAdded&&0<le.length){for(var e=0,l=le;e<l.length;e++){var I=l[e],x=(t.logger.info("---------- Queue WrappedSlot: ",I),I.unWrappedSlot),L={};!t.registeredSlots[x.rktr_slot_id]&&x.rktr_slot_id!=="page"&&0<x.sizes.length&&(t.registeredSlots[x.rktr_slot_id]=!0,L={adSlotId:x.rktr_slot_id,size:x.sizes.map(function(g){return(Array.isArray(g)?g[0]:"")==="fluid"?[1,1]:g}),adUnitPath:"/8663477/"+x.rktr_ad_id},t.logger.info("---------- Queue iasSlot: ",L),t.adSlots.push(L)),x.rktr_slot_id!=="page"&&Object.assign(I.programmatic,{ias:y({},L)})}window.IASFallbackTimeout=window.IASFallbackTimeout||{},window.IASFallbackTimeout[o]=setTimeout(function(){r||(o!==void 0&&delete window.IASFallbackTimeout[o],s({name:t.MODULE_LOG_TAG,data:o}),r=!0)},(0,Fe.default)().any?t.config.DEFAULT_MOBILE_TIMEOUT||1e3:t.config.DEFAULT_DESKTOP_TIMEOUT||750),window.__iasPET.queue.push({adSlots:t.adSlots,dataHandler:function(g){g||(t.logger.warn("No IAS Targeting",o),r)||(clearTimeout(window.IASFallbackTimeout[o]),delete window.IASFallbackTimeout[o],s({name:t.MODULE_LOG_TAG,data:"No IAS targeting for ".concat(o)}),r=!0);try{var ie=JSON.parse(g),ee=y(y({},ie),{queueId:o});t.logger.info("Setting IAS Targeting...",{targetData:ee}),window.__iasPET.setTargetingForGPT(),Object.entries(ie.slots).forEach(function(O){var f,c=O[0],_=O[1];for(f in _)window.AdFuel.addSlotLevelTarget(c,f,_[f])}),r||(clearTimeout(window.IASFallbackTimeout[o]),delete window.IASFallbackTimeout[o],s({name:t.MODULE_LOG_TAG,data:ie}),r=!0)}catch(O){t.logger.error("Error Parsing IAS targeting for queueId ".concat(o),O,g),$({err:O})}}}),0<window.__iasPET.queue.length&&typeof window.__iasPET.start=="function"&&(t.logger.info("Manually starting IAS queue processes for queue: ",o),window.__iasPET.start())}else r||(s({name:t.MODULE_LOG_TAG,data:"No wrapped slots"}),r=!0)}})},t.logger.info("IAS Module constructed"),t}new(n.IAS=fe)(((G=window.AdFuelOptions)==null?void 0:G.IAS)||{DEBUG:!0,ACCOUNT_IDS:{DOM:0,INTL:0},DEFAULT_DESKTOP_TIMEOUT:1e3,DEFAULT_MOBILE_TIMEOUT:750})},{"./version.json":14,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/Version":4,"@turnercode/digital-ads-utilities/dist/loadScriptFromUrl":6,"@turnercode/digital-ads-utilities/dist/localization":7,ismobilejs:11}],14:[function(v,ae,n){ae.exports={family:"TS",major:5,minor:0,revision:14}},{}]},{},[13])(13)})});var dd=Ve((sd,or)=>{(function(v){typeof sd=="object"&&typeof or<"u"?or.exports=v():typeof define=="function"&&define.amd?define([],v):(typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:this).FWProgrammatic=v()})(function(){return function v(ae,n,d){function b(i,V){if(!n[i]){if(!ae[i]){var Ie=typeof ut=="function"&&ut;if(!V&&Ie)return Ie(i,!0);if(G)return G(i,!0);throw(V=new Error("Cannot find module '"+i+"'")).code="MODULE_NOT_FOUND",V}Ie=n[i]={exports:{}},ae[i][0].call(Ie.exports,function(F){return b(ae[i][1][F]||F)},Ie,Ie.exports,v,ae,n,d)}return n[i].exports}for(var G=typeof ut=="function"&&ut,y=0;y<d.length;y++)b(d[y]);return b}({1:[function(i,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AAdFuelModule=n.ModuleFlags=void 0;var d,b=i("./Logger"),G=i("./promiseWithTimeout"),y=i("./localization"),i=((i=d=n.ModuleFlags||(n.ModuleFlags={}))[i.None=0]="None",i[i.EnableForDomestic=1]="EnableForDomestic",i[i.EnableForForeign=2]="EnableForForeign",i[i.RunWithoutAdFuel=4]="RunWithoutAdFuel",i[i.RunWithoutConsent=8]="RunWithoutConsent",i[i.HasVideoAPI=16]="HasVideoAPI",i[i.DisableForCanada=32]="DisableForCanada",Object.defineProperty(V.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),V);function V(Ie,F,Fe,Ee,Te,fe,Ae,be){fe===void 0&&(fe=d.EnableForDomestic|d.EnableForForeign),Ae===void 0&&(Ae=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var t=this;this.config=Ie,this.MODULE_NAME=F,this.MODULE_VERSION=Fe,this.MODULE_LOG_TAG=Ee,this.logStyle=Te,this.moduleFlags=fe,this.consentTags=Ae,this.MODULE_VIDEO_API_KEY=be,this.adFuelExists=!!window.AdFuel,this.userConsentLib=((Ie=window.WM)==null?void 0:Ie.UserConsent)||((F=window.WBD)==null?void 0:F.UserConsent),this.environmentMatchesFlags=function(){return(0,y.isIntl)()?(!(0,y.isCanada)()||(t.moduleFlags&d.DisableForCanada)!==d.DisableForCanada)&&(t.moduleFlags&d.EnableForForeign)===d.EnableForForeign:(t.moduleFlags&d.EnableForDomestic)===d.EnableForDomestic},this.callInit=function(){t.logger.log("Waiting for UserConsent..."),t.waitForUserConsent().then(function(){var le;t.logger.log("Checking Module Flags...",t.moduleFlags),(t.moduleFlags&d.RunWithoutConsent)==d.RunWithoutConsent||(le=t.userConsentLib)!=null&&le.inUserConsentState(t.consentTags,{id:t.MODULE_NAME})?(t.moduleFlags&&d.RunWithoutAdFuel)==d.RunWithoutAdFuel?((le=window.AdFuel)!=null&&le.registerModule(t)||document.addEventListener("AdFuelCreated",function(){var s;t.logger.log("Registering with AdFuel..."),(s=window.AdFuel)!=null&&s.registerModule(t)}),t.logger.log("Checking Environment..."),t.environmentMatchesFlags()?(t.logger.log("Calling Init..."),t.init().then(function(){var s;window.AdFuel?(t.logger.log("Setting Module Loaded..."),(s=window.AdFuel)!=null&&s.setModuleLoaded(t.MODULE_LOG_TAG)):(t.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var $;t.logger.log("Setting Module Loaded..."),($=window.AdFuel)!=null&&$.setModuleLoaded(t.MODULE_LOG_TAG)}))})):(t.logger.warn("Not initializing ".concat(t.MODULE_NAME," for environmental reasons."),t.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(t.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(t.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",function(){window.AdFuel.setModuleReady(t.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(t.MODULE_LOG_TAG)}))):(t.logger.log("Waiting for AdFuel..."),t.waitForAdFuel().then(function(){var s;(s=window.AdFuel)!=null&&s.registerModule(t)||document.addEventListener("AdFuelCreated",function(){var $;t.logger.log("Registering with AdFuel..."),($=window.AdFuel)!=null&&$.registerModule(t)}),t.logger.log("Checking Environment..."),t.environmentMatchesFlags()?(t.logger.log("Calling Init..."),t.init().then(function(){var $;window.AdFuel?(t.logger.log("Setting Module Loaded..."),($=window.AdFuel)!=null&&$.setModuleLoaded(t.MODULE_LOG_TAG)):(t.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var a;t.logger.log("Setting Module Loaded..."),(a=window.AdFuel)!=null&&a.setModuleLoaded(t.MODULE_LOG_TAG)}))})):t.logger.warn("Not initializing ".concat(t.MODULE_NAME," for environmental reasons."),t.moduleFlags)}).catch(function(s){t.logger.warn("".concat(t.MODULE_NAME," errored waiting for AdFuel."),s)})):(t.logger.info("User consent is not granted.",(le=t.userConsentLib)==null?void 0:le.inUserConsentState(t.consentTags)),(le=window.AdFuel)!=null&&le.setModuleLoaded(t.MODULE_LOG_TAG))}).catch(function(le){t.logger.warn("".concat(t.MODULE_NAME," errored waiting for consent."),le)})},this.waitForAdFuel=function(){return(t.moduleFlags&d.RunWithoutAdFuel)===d.RunWithoutAdFuel?Promise.resolve():(0,G.promiseWithTimeout)(5e3,new Promise(function(le){window.AdFuel?le():document.addEventListener("AdFuelCreated",function(){le()})}))},this.waitForUserConsent=function(){return!t.userConsentLib||(t.moduleFlags&d.RunWithoutConsent)==d.RunWithoutConsent?Promise.resolve():(0,G.promiseWithTimeout)(5e3,new Promise(function(le){var s;t._logger.log("Consent Promise with Timeout..."),(s=t.userConsentLib)!=null&&s.isReady()?(t._logger.log("Consent Is Ready..."),(s=t.userConsentLib)!=null&&s.isInRegion("gdpr")?(t._logger.log("Region is GDPR..."),(s=((s=t.userConsentLib)==null?void 0:s.isOneTrustLoaded())&&!((s=t.userConsentLib)!=null&&s.isOneTrustFailing()))!=null&&s?(t._logger.log("Optanon is Loaded..."),le()):(t._logger.log("Waiting for OneTrust..."),document.addEventListener("oneTrustLoaded",function(){t._logger.log("OneTrust is Loaded..."),le()}),document.addEventListener("oneTrustFailed",function(){t._logger.error("OneTrust Failed To Load..."),le()}),document.addEventListener("oneTrustBlocked",function(){t._logger.error("OneTrust Loading Was Blocked..."),le()}))):(t._logger.log("Region is not GDPR..."),le())):t.userConsentLib?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",function(){console.log("Consent Is Ready..."),le()})):(console.log("No User Consent..."),le())}))},this._logger=new b.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}n.AAdFuelModule=i},{"./Logger":3,"./localization":6,"./promiseWithTimeout":7}],2:[function(v,ae,n){"use strict";function d(){}Object.defineProperty(n,"__esModule",{value:!0}),n.CookieHelper=void 0,d.hasCookie=function(b){return typeof window<"u"&&!(!document||!document.cookie)&&(0<=document.cookie.indexOf("; "+b+"=")||document.cookie.indexOf(b+"=")===0)},d.setCookie=function(b){var G=b.cookieName+"="+b.cookieValue+";";b.attributes.forEach(function(y){G+=" "+y.key+"="+y.value+";"}),b.secure&&(G+=" Secure"),document.cookie=G},d.readCookie=function(b){var G,y,i=!1,V=null;return(i=typeof localStorage<"u"?!0:i)&&(V=localStorage.getItem(b)),i&&V!==null||(y=(G=b).length+1,V=typeof document<"u"&&document.cookie&&document.cookie.split(";").map(function(Ie){return Ie.trim()}).filter(function(Ie){return Ie.substring(0,y)==="".concat(G,"=")}).map(function(Ie){return decodeURIComponent(Ie.substring(y))})[0]||null),V},n.CookieHelper=d},{}],3:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Logger=n.LogLevel=void 0,(b=d=n.LogLevel||(n.LogLevel={})).Info="background: green;color: white;",b.Warning="background: orange;color: black",b.Error="background: red;color:white",Object.defineProperty(G.prototype,"isDebugging",{get:function(){var y;return this._debug===void 0&&(y=this.getUrlParam("debug").split(","),this._debug=y[0]==="true"||0<=y.indexOf(this._logKey.toLowerCase())),this._debug},enumerable:!1,configurable:!0}),G.prototype.info=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.warn=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.error=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.log=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.groupStart=function(y){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(y," - START -----"),this._normalStyle))},G.prototype.groupEnd=function(y){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},G.prototype.timeStart=function(y){var i="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(y);this.groupStart(y),console.time(i)},G.prototype.timeEnd=function(y){var i="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(y);this.groupEnd(y),console.timeEnd(i)},G.prototype.getUrlParam=function(y){return typeof document<"u"&&(y=y.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),y=new RegExp("[\\?&]"+y+"=([^&#]*)"),document)&&document.location&&document.location.search&&(y=y.exec(document.location.search))?y[1]:""};var d,b=G;function G(y,i,V,Ie){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=y||"",this._moduleVersion=i||"",this._logKey=V||(y==null?void 0:y.toLowerCase())||"",this._normalStyle=Ie||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),d.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),d.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),d.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),d.Info,this._normalStyle))}n.Logger=b},{}],4:[function(v,ae,n){"use strict";function d(b,G,y,i){var V=this;this.setMajorTo=b,this.setMinorTo=G,this.setRevisionTo=y,this.setFamilyTo=i,this.setfamily=function(Ie){return V.setFamilyTo=Ie,V},this.toString=function(){return"".concat(V.major,".").concat(V.minor.toString().padStart(2,"0"),".").concat(V.revision.toString().padStart(3,"0")," ").concat(V.family).trim()}}Object.defineProperty(n,"__esModule",{value:!0}),n.Version=void 0,Object.defineProperty(d.prototype,"major",{get:function(){var b;return(b=this.setMajorTo)!=null?b:0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"minor",{get:function(){var b;return(b=this.setMinorTo)!=null?b:0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"revision",{get:function(){var b;return(b=this.setRevisionTo)!=null?b:0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"family",{get:function(){var b;return(b=this.setFamilyTo)!=null?b:""},enumerable:!1,configurable:!0}),n.Version=d},{}],5:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getUrlParam=void 0,n.getUrlParam=function(d){return typeof document<"u"&&(d=d.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),d=new RegExp("[\\?&]"+d+"=([^&#]*)"),document)&&document.location&&document.location.search&&(d=d.exec(document.location.search))?d[1]:""}},{}],6:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setIsUSnowleb=n.setIsIntl=n.isUSnowleb=n.isIntl=n.isCanada=void 0;var d=v("./setHostAndPathNames"),b=v("./getUrlParam"),G=v("./Logger"),y=v("./variables"),i=new G.Logger(y.MODULE_NAME,y.MODULE_VERSION.toString(),y.MODULE_LOG_TAG,"color: coral; padding: 2px"),V=!1,Ie=!1,F=new Set(["US","CA"]),Fe=/^.*(edition|edition-m|arabic|nowlebespanol|nowlebe-test)\.nowleb.com/;n.isCanada=function(){var Ee;return(Ee=(Ee=(Ee=window.WM)==null?void 0:Ee.UserConsent)==null?void 0:Ee.getGeoCountry())!=null?Ee:y.countryCode},n.isIntl=function(){var Ee=!1,Te=(0,d.setHostAndPathNames)(),fe=(fe=(fe=window.WM)==null?void 0:fe.UserConsent)!=null&&fe.getGeoCountry&&typeof((fe=(fe=window.WM)==null?void 0:fe.UserConsent)==null?void 0:fe.getGeoCountry)=="function"?(fe=(fe=window.WM)==null?void 0:fe.UserConsent)==null?void 0:fe.getGeoCountry():y.countryCode,Ae=(Ae=(Ae=window.WM)==null?void 0:Ae.UserConsent)!=null&&Ae.getGeoState&&typeof((Ae=(Ae=window.WM)==null?void 0:Ae.UserConsent)==null?void 0:Ae.getGeoState)=="function"?(Ae=(Ae=window.WM)==null?void 0:Ae.UserConsent)==null?void 0:Ae.getGeoState():"",be=0<=Te.search(/^(.*\.)?nowleb\.com$/);return be&&F.delete("CA"),i.log("Is nowleb:",be),i.log("Domestic Country Codes: ",Array.from(F)),i.log("UserConsent Location: ",{state:Ae,country:fe}),(0,b.getUrlParam)("isIntl")==="true"?(V||(V=!0,i.log("Faking international site. Using International PubIds.")),Ee=!0):0<=Te.search(Fe)?(V||(V=!0,i.log("Full international site. Using International PubIds.")),Ee=!0):fe===""||fe===null?(V||(V=!0,i.log("No country code. Using Domestic PubIds.")),Ee=!1):F.has(fe)?V||(V=!0,i.log("Domestic site or country code. Using Domestic PubIds."),Ee=!1):0<=Te.search(/^.*(money|\.nowleb)\./)?(0<=Te.search(/^.*us\.nowleb\.com/)&&(V||i.log("International user but domestic page.  Using alternate International PubIds if available."),Ie=!0),V||(V=!0,i.log("International country code. Using International PubIds.")),Ee=!0):0<=Te.search(/^.*us\.nowleb\.com/)?(V||(V=!0,i.log("International user but domestic page. Using alternate International PubIds if available.")),Ie=Ee=!0):(V||(V=!0,i.log("International country code but domestic site. Using International PubIds if available.")),Ee=!0),Ee},n.isUSnowleb=function(){return(0,n.isIntl)(),i.log("Is User on US.nowleb.COM? ",Ie),Ie},n.setIsIntl=n.isIntl,n.setIsUSnowleb=n.isUSnowleb},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":8,"./variables":9}],7:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.promiseWithTimeout=void 0,n.promiseWithTimeout=function(d,b,G){G===void 0&&(G="The promise timed out.");var y=new Promise(function(i,V){var Ie=setTimeout(function(){clearTimeout(Ie),V(G)},d)});return Promise.race([b,y])}},{}],8:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setHostAndPathNames=void 0,n.setHostAndPathNames=function(){var d=typeof document<"u"?document.createElement("a"):{href:"",hostname:"",pathname:""};return d.href=typeof document<"u"?document.location.href:"",d.hostname}},{}],9:[function(b,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.hasUserConsent=n.selectedEdition=n.locationServiceURL=n.countryCode=n.noop=n.toString=n.MODULE_LOG_TAG=n.MODULE_VERSION=n.MODULE_NAME=void 0;var d=b("./Version"),b=b("./CookieHelper"),G=Object.prototype;n.MODULE_NAME="Ad Utilities",n.MODULE_VERSION=new d.Version(5,0,102,"TS"),n.MODULE_LOG_TAG="utils",n.toString=G.toString,n.noop=function(){},n.countryCode=b.CookieHelper.readCookie("countryCode")||((G=(d=b.CookieHelper.readCookie("CG"))==null?void 0:d.substr(0,2))!=null?G:""),n.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",n.selectedEdition=(d=b.CookieHelper.readCookie("SelectedEdition"))!=null?d:"www",n.hasUserConsent=typeof window<"u"&&(window.WM&&window.WM.UserConsent||window.WBD&&window.WBD.UserConsent)||!1},{"./CookieHelper":2,"./Version":4}],10:[function(F,ae,n){"use strict";var d,b,G=this&&this.__extends||(d=function(Ee,Te){return(d=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(fe,Ae){fe.__proto__=Ae}:function(fe,Ae){for(var be in Ae)Object.prototype.hasOwnProperty.call(Ae,be)&&(fe[be]=Ae[be])}))(Ee,Te)},function(Ee,Te){if(typeof Te!="function"&&Te!==null)throw new TypeError("Class extends value "+String(Te)+" is not a constructor or null");function fe(){this.constructor=Ee}d(Ee,Te),Ee.prototype=Te===null?Object.create(Te):(fe.prototype=Te.prototype,new fe)}),y=(Object.defineProperty(n,"__esModule",{value:!0}),n.FWProgrammatic=void 0,F("@turnercode/digital-ads-utilities/dist/AAdFuelModule")),i=F("@turnercode/digital-ads-utilities/dist/Version"),V=F("@turnercode/digital-ads-utilities/dist/CookieHelper"),Ie=F("./version.json"),F=(b=y.AAdFuelModule,G(Fe,b),Fe);function Fe(Ee){var Te=b.call(this,Ee,"FW Programmatic Module",new i.Version(Ie.major,Ie.minor,Ie.revision,Ie.family),"fwp","color: #d2b000; padding: 2px",y.ModuleFlags.RunWithoutAdFuel|y.ModuleFlags.EnableForDomestic|y.ModuleFlags.EnableForForeign)||this;return Te.config=Ee,Te.isInitialized=!1,Te.enabled=!0,Te.targetingSet=!1,Te.addSATOCookie=function(fe){Te.logger.log("Adding SATO cookie... ",{turnerDomain:fe}),fe={cookieName:"sato",cookieValue:1,attributes:[{key:"expires",value:new Date(Date.now()+936e5).toUTCString()},{key:"path",value:"/"},{key:"Domain",value:fe}],secure:!1},V.CookieHelper.setCookie(fe),Te.logger.log("Added SATO cookie.")},Te.addPixels=function(fe){var Ae,be;!V.CookieHelper.hasCookie("sato")&&fe.consentGranted?(Ae=["https://ads.stickyadstv.com/user-matching?id=185&_fw_gdpr=".concat(fe.gdprApplies,"&_fw_gdpr_consent=").concat(fe.consentString||""),"https://ads.stickyadstv.com/auto-user-sync"],window.WM&&window.WM.getHHIDTargeting&&(be=window.WM.getHHIDTargeting()).sendHHID==="true"&&be.wmhhid!==null&&32<=be.wmhhid.length&&(Te.logger.log("Adding Freewheel pixel for vcid2 to pixel collection."),be=be.wmhhid,Ae.push("https://bea4.v.fwmrm.net/ad/u?token=b8ce708402a6286faf64c964294f2046&nw=48804&dpid=127719&puid=".concat(be))),Te.logger.log("Adding Pixels..."),Ae.forEach(function(t){var le=document.createElement("script");le.src=t,Te.logger.log("Adding Pixel: ",t),document.head.appendChild(le)}),Te.addSATOCookie(fe.turnerDomain)):Te.logger.log("Not adding pixels. Has SATO cookie or consent not granted.",{hasCookie:V.CookieHelper.hasCookie("sato"),consentGranted:fe.consentGranted})},Te.init=function(){return new Promise(function(fe,Ae){var be,t,le,s,$;Te.logger.info("Initializing FW Programmatic Module..."),Te.enabled&&(Te.logger.info("Initializing Module: ",Te.config),be=window.WM.UserConsent.getRegion()==="gdpr"?1:0,t=typeof window.__tcfapi=="function"?(t=(t=window.WM)==null?void 0:t.UserConsent)==null?void 0:t.getTcfAPIstring():"",le=(le=(le=window.WM)==null?void 0:le.UserConsent)==null?void 0:le.inUserConsentState(["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]),$="nowleb.com",(s=/.*?\.(.*?\..*?)$/.exec(window.location.hostname))&&0<s.length&&($=s[1]),Te.logger.log("Calling addPixels: ",{turnerDomain:$,gdprApplies:be,consentGranted:le,consentString:t}),Te.addPixels({turnerDomain:$,gdprApplies:be,consentGranted:le,consentString:t}),window.AdFuel?(window.AdFuel.setModuleReady(Te.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(Te.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",function(){window.AdFuel.setModuleReady(Te.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(Te.MODULE_LOG_TAG)}),fe())})},Te.logger.info("FW Programmatic Module constructed"),Te}new(n.FWProgrammatic=F)(((G=window.AdFuelOptions)==null?void 0:G.FWP)||window.FWPConfig||{DEBUG:!1})},{"./version.json":11,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/CookieHelper":2,"@turnercode/digital-ads-utilities/dist/Version":4}],11:[function(v,ae,n){ae.exports={family:"TS",major:2,minor:0,revision:7}},{}]},{},[10])(10)})});var ld=Ve((ud,ir)=>{(function(v){typeof ud=="object"&&typeof ir<"u"?ir.exports=v():typeof define=="function"&&define.amd?define([],v):(typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:this).Guid=v()})(function(){return function v(ae,n,d){function b(i,V){if(!n[i]){if(!ae[i]){var Ie=typeof ut=="function"&&ut;if(!V&&Ie)return Ie(i,!0);if(G)return G(i,!0);throw(V=new Error("Cannot find module '"+i+"'")).code="MODULE_NOT_FOUND",V}Ie=n[i]={exports:{}},ae[i][0].call(Ie.exports,function(F){return b(ae[i][1][F]||F)},Ie,Ie.exports,v,ae,n,d)}return n[i].exports}for(var G=typeof ut=="function"&&ut,y=0;y<d.length;y++)b(d[y]);return b}({1:[function(i,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AAdFuelModule=n.ModuleFlags=void 0;var d,b=i("./Logger"),G=i("./promiseWithTimeout"),y=i("./localization"),i=((i=d=n.ModuleFlags||(n.ModuleFlags={}))[i.None=0]="None",i[i.EnableForDomestic=1]="EnableForDomestic",i[i.EnableForForeign=2]="EnableForForeign",i[i.RunWithoutAdFuel=4]="RunWithoutAdFuel",i[i.RunWithoutConsent=8]="RunWithoutConsent",i[i.HasVideoAPI=16]="HasVideoAPI",i[i.DisableForCanada=32]="DisableForCanada",Object.defineProperty(V.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),V);function V(Ie,F,Fe,Ee,Te,fe,Ae,be){fe===void 0&&(fe=d.EnableForDomestic|d.EnableForForeign),Ae===void 0&&(Ae=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var t=this;this.config=Ie,this.MODULE_NAME=F,this.MODULE_VERSION=Fe,this.MODULE_LOG_TAG=Ee,this.logStyle=Te,this.moduleFlags=fe,this.consentTags=Ae,this.MODULE_VIDEO_API_KEY=be,this.adFuelExists=!!window.AdFuel,this.userConsentLib=((Ie=window.WM)==null?void 0:Ie.UserConsent)||((F=window.WBD)==null?void 0:F.UserConsent),this.environmentMatchesFlags=function(){return(0,y.isIntl)()?(!(0,y.isCanada)()||(t.moduleFlags&d.DisableForCanada)!==d.DisableForCanada)&&(t.moduleFlags&d.EnableForForeign)===d.EnableForForeign:(t.moduleFlags&d.EnableForDomestic)===d.EnableForDomestic},this.callInit=function(){t.logger.log("Waiting for UserConsent..."),t.waitForUserConsent().then(function(){var le;t.logger.log("Checking Module Flags...",t.moduleFlags),(t.moduleFlags&d.RunWithoutConsent)==d.RunWithoutConsent||(le=t.userConsentLib)!=null&&le.inUserConsentState(t.consentTags,{id:t.MODULE_NAME})?(t.moduleFlags&&d.RunWithoutAdFuel)==d.RunWithoutAdFuel?((le=window.AdFuel)!=null&&le.registerModule(t)||document.addEventListener("AdFuelCreated",function(){var s;t.logger.log("Registering with AdFuel..."),(s=window.AdFuel)!=null&&s.registerModule(t)}),t.logger.log("Checking Environment..."),t.environmentMatchesFlags()?(t.logger.log("Calling Init..."),t.init().then(function(){var s;window.AdFuel?(t.logger.log("Setting Module Loaded..."),(s=window.AdFuel)!=null&&s.setModuleLoaded(t.MODULE_LOG_TAG)):(t.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var $;t.logger.log("Setting Module Loaded..."),($=window.AdFuel)!=null&&$.setModuleLoaded(t.MODULE_LOG_TAG)}))})):(t.logger.warn("Not initializing ".concat(t.MODULE_NAME," for environmental reasons."),t.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(t.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(t.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",function(){window.AdFuel.setModuleReady(t.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(t.MODULE_LOG_TAG)}))):(t.logger.log("Waiting for AdFuel..."),t.waitForAdFuel().then(function(){var s;(s=window.AdFuel)!=null&&s.registerModule(t)||document.addEventListener("AdFuelCreated",function(){var $;t.logger.log("Registering with AdFuel..."),($=window.AdFuel)!=null&&$.registerModule(t)}),t.logger.log("Checking Environment..."),t.environmentMatchesFlags()?(t.logger.log("Calling Init..."),t.init().then(function(){var $;window.AdFuel?(t.logger.log("Setting Module Loaded..."),($=window.AdFuel)!=null&&$.setModuleLoaded(t.MODULE_LOG_TAG)):(t.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var a;t.logger.log("Setting Module Loaded..."),(a=window.AdFuel)!=null&&a.setModuleLoaded(t.MODULE_LOG_TAG)}))})):t.logger.warn("Not initializing ".concat(t.MODULE_NAME," for environmental reasons."),t.moduleFlags)}).catch(function(s){t.logger.warn("".concat(t.MODULE_NAME," errored waiting for AdFuel."),s)})):(t.logger.info("User consent is not granted.",(le=t.userConsentLib)==null?void 0:le.inUserConsentState(t.consentTags)),(le=window.AdFuel)!=null&&le.setModuleLoaded(t.MODULE_LOG_TAG))}).catch(function(le){t.logger.warn("".concat(t.MODULE_NAME," errored waiting for consent."),le)})},this.waitForAdFuel=function(){return(t.moduleFlags&d.RunWithoutAdFuel)===d.RunWithoutAdFuel?Promise.resolve():(0,G.promiseWithTimeout)(5e3,new Promise(function(le){window.AdFuel?le():document.addEventListener("AdFuelCreated",function(){le()})}))},this.waitForUserConsent=function(){return!t.userConsentLib||(t.moduleFlags&d.RunWithoutConsent)==d.RunWithoutConsent?Promise.resolve():(0,G.promiseWithTimeout)(5e3,new Promise(function(le){var s;t._logger.log("Consent Promise with Timeout..."),(s=t.userConsentLib)!=null&&s.isReady()?(t._logger.log("Consent Is Ready..."),(s=t.userConsentLib)!=null&&s.isInRegion("gdpr")?(t._logger.log("Region is GDPR..."),(s=((s=t.userConsentLib)==null?void 0:s.isOneTrustLoaded())&&!((s=t.userConsentLib)!=null&&s.isOneTrustFailing()))!=null&&s?(t._logger.log("Optanon is Loaded..."),le()):(t._logger.log("Waiting for OneTrust..."),document.addEventListener("oneTrustLoaded",function(){t._logger.log("OneTrust is Loaded..."),le()}),document.addEventListener("oneTrustFailed",function(){t._logger.error("OneTrust Failed To Load..."),le()}),document.addEventListener("oneTrustBlocked",function(){t._logger.error("OneTrust Loading Was Blocked..."),le()}))):(t._logger.log("Region is not GDPR..."),le())):t.userConsentLib?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",function(){console.log("Consent Is Ready..."),le()})):(console.log("No User Consent..."),le())}))},this._logger=new b.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}n.AAdFuelModule=i},{"./Logger":3,"./localization":7,"./promiseWithTimeout":8}],2:[function(v,ae,n){"use strict";function d(){}Object.defineProperty(n,"__esModule",{value:!0}),n.CookieHelper=void 0,d.hasCookie=function(b){return typeof window<"u"&&!(!document||!document.cookie)&&(0<=document.cookie.indexOf("; "+b+"=")||document.cookie.indexOf(b+"=")===0)},d.setCookie=function(b){var G=b.cookieName+"="+b.cookieValue+";";b.attributes.forEach(function(y){G+=" "+y.key+"="+y.value+";"}),b.secure&&(G+=" Secure"),document.cookie=G},d.readCookie=function(b){var G,y,i=!1,V=null;return(i=typeof localStorage<"u"?!0:i)&&(V=localStorage.getItem(b)),i&&V!==null||(y=(G=b).length+1,V=typeof document<"u"&&document.cookie&&document.cookie.split(";").map(function(Ie){return Ie.trim()}).filter(function(Ie){return Ie.substring(0,y)==="".concat(G,"=")}).map(function(Ie){return decodeURIComponent(Ie.substring(y))})[0]||null),V},n.CookieHelper=d},{}],3:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Logger=n.LogLevel=void 0,(b=d=n.LogLevel||(n.LogLevel={})).Info="background: green;color: white;",b.Warning="background: orange;color: black",b.Error="background: red;color:white",Object.defineProperty(G.prototype,"isDebugging",{get:function(){var y;return this._debug===void 0&&(y=this.getUrlParam("debug").split(","),this._debug=y[0]==="true"||0<=y.indexOf(this._logKey.toLowerCase())),this._debug},enumerable:!1,configurable:!0}),G.prototype.info=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.warn=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.error=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.log=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.groupStart=function(y){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(y," - START -----"),this._normalStyle))},G.prototype.groupEnd=function(y){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},G.prototype.timeStart=function(y){var i="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(y);this.groupStart(y),console.time(i)},G.prototype.timeEnd=function(y){var i="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(y);this.groupEnd(y),console.timeEnd(i)},G.prototype.getUrlParam=function(y){return typeof document<"u"&&(y=y.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),y=new RegExp("[\\?&]"+y+"=([^&#]*)"),document)&&document.location&&document.location.search&&(y=y.exec(document.location.search))?y[1]:""};var d,b=G;function G(y,i,V,Ie){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=y||"",this._moduleVersion=i||"",this._logKey=V||(y==null?void 0:y.toLowerCase())||"",this._normalStyle=Ie||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),d.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),d.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),d.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),d.Info,this._normalStyle))}n.Logger=b},{}],4:[function(v,ae,n){"use strict";function d(b,G,y,i){var V=this;this.setMajorTo=b,this.setMinorTo=G,this.setRevisionTo=y,this.setFamilyTo=i,this.setfamily=function(Ie){return V.setFamilyTo=Ie,V},this.toString=function(){return"".concat(V.major,".").concat(V.minor.toString().padStart(2,"0"),".").concat(V.revision.toString().padStart(3,"0")," ").concat(V.family).trim()}}Object.defineProperty(n,"__esModule",{value:!0}),n.Version=void 0,Object.defineProperty(d.prototype,"major",{get:function(){var b;return(b=this.setMajorTo)!=null?b:0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"minor",{get:function(){var b;return(b=this.setMinorTo)!=null?b:0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"revision",{get:function(){var b;return(b=this.setRevisionTo)!=null?b:0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"family",{get:function(){var b;return(b=this.setFamilyTo)!=null?b:""},enumerable:!1,configurable:!0}),n.Version=d},{}],5:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getUrlParam=void 0,n.getUrlParam=function(d){return typeof document<"u"&&(d=d.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),d=new RegExp("[\\?&]"+d+"=([^&#]*)"),document)&&document.location&&document.location.search&&(d=d.exec(document.location.search))?d[1]:""}},{}],6:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.loadScriptFromUrl=void 0;var d=v("./promiseWithTimeout");n.loadScriptFromUrl=function(b,G,y,i){return y===void 0&&(y=document),i===void 0&&(i=!0),(0,d.promiseWithTimeout)(5e3,new Promise(function(V,Ie){var F,Fe,Ee=y.createElement("script");if(Ee.setAttribute("data-nscript","beforeInteractive"),document.getElementById(G))Ie("Element name ".concat(G," already exists in the document."));else try{var Te="",fe=(Te=1<b.split("//").length?b:((Fe=((F=y.location)==null?void 0:F.protocol)==="https:")!==null&&Fe?"https://":"http://").concat(b),y.getElementsByTagName("script")[0]);if(Ee.id=G,Ee.type="text/javascript",Ee.src=Te,Ee.async=i,Ee.addEventListener("load",function(){V(Ee)}),fe==null||!fe.parentNode)throw new Error("Could not insert script.");fe.parentNode.insertBefore(Ee,fe)}catch(Ae){console.log("Error in loading script from ".concat(Ee.src),Ae),Ie(Ae)}}))}},{"./promiseWithTimeout":8}],7:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setIsUSnowleb=n.setIsIntl=n.isUSnowleb=n.isIntl=n.isCanada=void 0;var d=v("./setHostAndPathNames"),b=v("./getUrlParam"),G=v("./Logger"),y=v("./variables"),i=new G.Logger(y.MODULE_NAME,y.MODULE_VERSION.toString(),y.MODULE_LOG_TAG,"color: coral; padding: 2px"),V=!1,Ie=!1,F=new Set(["US","CA"]),Fe=/^.*(edition|edition-m|arabic|nowlebespanol|nowlebe-test)\.nowleb.com/;n.isCanada=function(){var Ee;return(Ee=(Ee=(Ee=window.WM)==null?void 0:Ee.UserConsent)==null?void 0:Ee.getGeoCountry())!=null?Ee:y.countryCode},n.isIntl=function(){var Ee=!1,Te=(0,d.setHostAndPathNames)(),fe=(fe=(fe=window.WM)==null?void 0:fe.UserConsent)!=null&&fe.getGeoCountry&&typeof((fe=(fe=window.WM)==null?void 0:fe.UserConsent)==null?void 0:fe.getGeoCountry)=="function"?(fe=(fe=window.WM)==null?void 0:fe.UserConsent)==null?void 0:fe.getGeoCountry():y.countryCode,Ae=(Ae=(Ae=window.WM)==null?void 0:Ae.UserConsent)!=null&&Ae.getGeoState&&typeof((Ae=(Ae=window.WM)==null?void 0:Ae.UserConsent)==null?void 0:Ae.getGeoState)=="function"?(Ae=(Ae=window.WM)==null?void 0:Ae.UserConsent)==null?void 0:Ae.getGeoState():"",be=0<=Te.search(/^(.*\.)?nowleb\.com$/);return be&&F.delete("CA"),i.log("Is nowleb:",be),i.log("Domestic Country Codes: ",Array.from(F)),i.log("UserConsent Location: ",{state:Ae,country:fe}),(0,b.getUrlParam)("isIntl")==="true"?(V||(V=!0,i.log("Faking international site. Using International PubIds.")),Ee=!0):0<=Te.search(Fe)?(V||(V=!0,i.log("Full international site. Using International PubIds.")),Ee=!0):fe===""||fe===null?(V||(V=!0,i.log("No country code. Using Domestic PubIds.")),Ee=!1):F.has(fe)?V||(V=!0,i.log("Domestic site or country code. Using Domestic PubIds."),Ee=!1):0<=Te.search(/^.*(money|\.nowleb)\./)?(0<=Te.search(/^.*us\.nowleb\.com/)&&(V||i.log("International user but domestic page.  Using alternate International PubIds if available."),Ie=!0),V||(V=!0,i.log("International country code. Using International PubIds.")),Ee=!0):0<=Te.search(/^.*us\.nowleb\.com/)?(V||(V=!0,i.log("International user but domestic page. Using alternate International PubIds if available.")),Ie=Ee=!0):(V||(V=!0,i.log("International country code but domestic site. Using International PubIds if available.")),Ee=!0),Ee},n.isUSnowleb=function(){return(0,n.isIntl)(),i.log("Is User on US.nowleb.COM? ",Ie),Ie},n.setIsIntl=n.isIntl,n.setIsUSnowleb=n.isUSnowleb},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":9,"./variables":10}],8:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.promiseWithTimeout=void 0,n.promiseWithTimeout=function(d,b,G){G===void 0&&(G="The promise timed out.");var y=new Promise(function(i,V){var Ie=setTimeout(function(){clearTimeout(Ie),V(G)},d)});return Promise.race([b,y])}},{}],9:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setHostAndPathNames=void 0,n.setHostAndPathNames=function(){var d=typeof document<"u"?document.createElement("a"):{href:"",hostname:"",pathname:""};return d.href=typeof document<"u"?document.location.href:"",d.hostname}},{}],10:[function(b,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.hasUserConsent=n.selectedEdition=n.locationServiceURL=n.countryCode=n.noop=n.toString=n.MODULE_LOG_TAG=n.MODULE_VERSION=n.MODULE_NAME=void 0;var d=b("./Version"),b=b("./CookieHelper"),G=Object.prototype;n.MODULE_NAME="Ad Utilities",n.MODULE_VERSION=new d.Version(5,0,102,"TS"),n.MODULE_LOG_TAG="utils",n.toString=G.toString,n.noop=function(){},n.countryCode=b.CookieHelper.readCookie("countryCode")||((G=(d=b.CookieHelper.readCookie("CG"))==null?void 0:d.substr(0,2))!=null?G:""),n.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",n.selectedEdition=(d=b.CookieHelper.readCookie("SelectedEdition"))!=null?d:"www",n.hasUserConsent=typeof window<"u"&&(window.WM&&window.WM.UserConsent||window.WBD&&window.WBD.UserConsent)||!1},{"./CookieHelper":2,"./Version":4}],11:[function(Ee,ae,n){"use strict";var d,b,G=this&&this.__extends||(d=function(fe,Ae){return(d=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(be,t){be.__proto__=t}:function(be,t){for(var le in t)Object.prototype.hasOwnProperty.call(t,le)&&(be[le]=t[le])}))(fe,Ae)},function(fe,Ae){if(typeof Ae!="function"&&Ae!==null)throw new TypeError("Class extends value "+String(Ae)+" is not a constructor or null");function be(){this.constructor=fe}d(fe,Ae),fe.prototype=Ae===null?Object.create(Ae):(be.prototype=Ae.prototype,new be)}),y=(Object.defineProperty(n,"__esModule",{value:!0}),n.Guid=void 0,Ee("@turnercode/digital-ads-utilities/dist/AAdFuelModule")),i=Ee("@turnercode/digital-ads-utilities/dist/Version"),V=Ee("@turnercode/digital-ads-utilities/dist/loadScriptFromUrl"),Ie=Ee("@turnercode/digital-ads-utilities/dist/CookieHelper"),F=Ee("./version.json"),Fe=["data-store","ads-contextual","ads-person-prof","ads-person","content-person-prof","content-person","measure-ads","measure-content","measure-market","product-develop"],Ee=(b=y.AAdFuelModule,G(Te,b),Te.prototype.includeGuidScript=function(){var fe=this;return new Promise(function(Ae){(0,V.loadScriptFromUrl)("www.ugdturner.com/xd.sjs","guid").then(function(){fe.logger.info("Exposing window.turner_getGuid"),window.turner_getGuid=fe.getGuid,Ae()})})},Te.prototype.getGuid=function(){return Ie.CookieHelper.readCookie("ug")||""},Te);function Te(fe){var Ae=b.call(this,fe,"GUID Module",new i.Version(F.major,F.minor,F.revision,F.family),"guid","color: #d2b000; padding: 2px",y.ModuleFlags.EnableForDomestic|y.ModuleFlags.EnableForForeign|y.ModuleFlags.RunWithoutAdFuel,Fe)||this;return Ae.config=fe,Ae.enabled=!0,Ae.targetingSet=!1,Ae.init=function(){return new Promise(function(be,t){var le,s,$,a;Ae.logger.info("Initializing GUID Module..."),Ae.enabled&&(Ae.logger.info("Initializing Module: ",Ae.config),le=((le=(le=window.WM)==null?void 0:le.UserConsent)==null?void 0:le.getRegion())!=="global"||!1,s=((s=(s=window.WM)==null?void 0:s.UserConsent)==null?void 0:s.isInGdprRegion())||!1,$=(($=($=window.WM)==null?void 0:$.UserConsent)==null?void 0:$.inUserConsentState(Fe,{id:"GUID"}))||!1,a=((a=(a=window.WM)==null?void 0:a.UserConsent)==null?void 0:a.isOptanonLoaded())||!1,(le&&(s&&a||!s)&&$||!le)&&Ae.includeGuidScript(),window.AdFuel?window.AdFuel.setModuleReady(Ae.MODULE_LOG_TAG):document.addEventListener("AdFuelCreated",function(){window.AdFuel.setModuleReady(Ae.MODULE_LOG_TAG)}),be())})},Ae.preDispatch=function(be){return new Promise(function(t,le){Ae.logger.info("GUID preDispatch fired.");var s,$=Ae.getGuid();Ae.logger.info("Got GUID:",$),Ae.targetingSet||(Ae.targetingSet=!0,Ae.logger.info("Adding GUID Targeting..."),window.AdFuel?window.AdFuel.addPageLevelTarget("guid",$):(s=window.googletag)!=null&&s.cmd.push(function(){var a;(a=window.googletag)!=null&&a.pubads().setTargeting("guid",$)})),t({name:"GUID",guid:$})})},Ae.logger.info("Guid Module constructed"),Ae}new(n.Guid=Ee)(((G=window.AdFuelOptions)==null?void 0:G.GUID)||{DEBUG:!1})},{"./version.json":12,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/CookieHelper":2,"@turnercode/digital-ads-utilities/dist/Version":4,"@turnercode/digital-ads-utilities/dist/loadScriptFromUrl":6}],12:[function(v,ae,n){ae.exports={family:"TS",major:5,minor:0,revision:13}},{}]},{},[11])(11)})});var gd=Ve((cd,ar)=>{(function(v){typeof cd=="object"&&typeof ar<"u"?ar.exports=v():typeof define=="function"&&define.amd?define([],v):(typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:this).TransId=v()})(function(){return function v(ae,n,d){function b(i,V){if(!n[i]){if(!ae[i]){var Ie=typeof ut=="function"&&ut;if(!V&&Ie)return Ie(i,!0);if(G)return G(i,!0);throw(V=new Error("Cannot find module '"+i+"'")).code="MODULE_NOT_FOUND",V}Ie=n[i]={exports:{}},ae[i][0].call(Ie.exports,function(F){return b(ae[i][1][F]||F)},Ie,Ie.exports,v,ae,n,d)}return n[i].exports}for(var G=typeof ut=="function"&&ut,y=0;y<d.length;y++)b(d[y]);return b}({1:[function(i,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AAdFuelModule=n.ModuleFlags=void 0;var d,b=i("./Logger"),G=i("./promiseWithTimeout"),y=i("./localization"),i=((i=d=n.ModuleFlags||(n.ModuleFlags={}))[i.None=0]="None",i[i.EnableForDomestic=1]="EnableForDomestic",i[i.EnableForForeign=2]="EnableForForeign",i[i.RunWithoutAdFuel=4]="RunWithoutAdFuel",i[i.RunWithoutConsent=8]="RunWithoutConsent",i[i.HasVideoAPI=16]="HasVideoAPI",i[i.DisableForCanada=32]="DisableForCanada",Object.defineProperty(V.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),V);function V(Ie,F,Fe,Ee,Te,fe,Ae,be){fe===void 0&&(fe=d.EnableForDomestic|d.EnableForForeign),Ae===void 0&&(Ae=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var t=this;this.config=Ie,this.MODULE_NAME=F,this.MODULE_VERSION=Fe,this.MODULE_LOG_TAG=Ee,this.logStyle=Te,this.moduleFlags=fe,this.consentTags=Ae,this.MODULE_VIDEO_API_KEY=be,this.adFuelExists=!!window.AdFuel,this.userConsentLib=((Ie=window.WM)==null?void 0:Ie.UserConsent)||((F=window.WBD)==null?void 0:F.UserConsent),this.environmentMatchesFlags=function(){return(0,y.isIntl)()?(!(0,y.isCanada)()||(t.moduleFlags&d.DisableForCanada)!==d.DisableForCanada)&&(t.moduleFlags&d.EnableForForeign)===d.EnableForForeign:(t.moduleFlags&d.EnableForDomestic)===d.EnableForDomestic},this.callInit=function(){t.logger.log("Waiting for UserConsent..."),t.waitForUserConsent().then(function(){var le;t.logger.log("Checking Module Flags...",t.moduleFlags),(t.moduleFlags&d.RunWithoutConsent)==d.RunWithoutConsent||(le=t.userConsentLib)!=null&&le.inUserConsentState(t.consentTags,{id:t.MODULE_NAME})?(t.moduleFlags&&d.RunWithoutAdFuel)==d.RunWithoutAdFuel?((le=window.AdFuel)!=null&&le.registerModule(t)||document.addEventListener("AdFuelCreated",function(){var s;t.logger.log("Registering with AdFuel..."),(s=window.AdFuel)!=null&&s.registerModule(t)}),t.logger.log("Checking Environment..."),t.environmentMatchesFlags()?(t.logger.log("Calling Init..."),t.init().then(function(){var s;window.AdFuel?(t.logger.log("Setting Module Loaded..."),(s=window.AdFuel)!=null&&s.setModuleLoaded(t.MODULE_LOG_TAG)):(t.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var $;t.logger.log("Setting Module Loaded..."),($=window.AdFuel)!=null&&$.setModuleLoaded(t.MODULE_LOG_TAG)}))})):(t.logger.warn("Not initializing ".concat(t.MODULE_NAME," for environmental reasons."),t.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(t.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(t.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",function(){window.AdFuel.setModuleReady(t.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(t.MODULE_LOG_TAG)}))):(t.logger.log("Waiting for AdFuel..."),t.waitForAdFuel().then(function(){var s;(s=window.AdFuel)!=null&&s.registerModule(t)||document.addEventListener("AdFuelCreated",function(){var $;t.logger.log("Registering with AdFuel..."),($=window.AdFuel)!=null&&$.registerModule(t)}),t.logger.log("Checking Environment..."),t.environmentMatchesFlags()?(t.logger.log("Calling Init..."),t.init().then(function(){var $;window.AdFuel?(t.logger.log("Setting Module Loaded..."),($=window.AdFuel)!=null&&$.setModuleLoaded(t.MODULE_LOG_TAG)):(t.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var a;t.logger.log("Setting Module Loaded..."),(a=window.AdFuel)!=null&&a.setModuleLoaded(t.MODULE_LOG_TAG)}))})):t.logger.warn("Not initializing ".concat(t.MODULE_NAME," for environmental reasons."),t.moduleFlags)}).catch(function(s){t.logger.warn("".concat(t.MODULE_NAME," errored waiting for AdFuel."),s)})):(t.logger.info("User consent is not granted.",(le=t.userConsentLib)==null?void 0:le.inUserConsentState(t.consentTags)),(le=window.AdFuel)!=null&&le.setModuleLoaded(t.MODULE_LOG_TAG))}).catch(function(le){t.logger.warn("".concat(t.MODULE_NAME," errored waiting for consent."),le)})},this.waitForAdFuel=function(){return(t.moduleFlags&d.RunWithoutAdFuel)===d.RunWithoutAdFuel?Promise.resolve():(0,G.promiseWithTimeout)(5e3,new Promise(function(le){window.AdFuel?le():document.addEventListener("AdFuelCreated",function(){le()})}))},this.waitForUserConsent=function(){return!t.userConsentLib||(t.moduleFlags&d.RunWithoutConsent)==d.RunWithoutConsent?Promise.resolve():(0,G.promiseWithTimeout)(5e3,new Promise(function(le){var s;t._logger.log("Consent Promise with Timeout..."),(s=t.userConsentLib)!=null&&s.isReady()?(t._logger.log("Consent Is Ready..."),(s=t.userConsentLib)!=null&&s.isInRegion("gdpr")?(t._logger.log("Region is GDPR..."),(s=((s=t.userConsentLib)==null?void 0:s.isOneTrustLoaded())&&!((s=t.userConsentLib)!=null&&s.isOneTrustFailing()))!=null&&s?(t._logger.log("Optanon is Loaded..."),le()):(t._logger.log("Waiting for OneTrust..."),document.addEventListener("oneTrustLoaded",function(){t._logger.log("OneTrust is Loaded..."),le()}),document.addEventListener("oneTrustFailed",function(){t._logger.error("OneTrust Failed To Load..."),le()}),document.addEventListener("oneTrustBlocked",function(){t._logger.error("OneTrust Loading Was Blocked..."),le()}))):(t._logger.log("Region is not GDPR..."),le())):t.userConsentLib?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",function(){console.log("Consent Is Ready..."),le()})):(console.log("No User Consent..."),le())}))},this._logger=new b.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}n.AAdFuelModule=i},{"./Logger":3,"./localization":6,"./promiseWithTimeout":7}],2:[function(v,ae,n){"use strict";function d(){}Object.defineProperty(n,"__esModule",{value:!0}),n.CookieHelper=void 0,d.hasCookie=function(b){return typeof window<"u"&&!(!document||!document.cookie)&&(0<=document.cookie.indexOf("; "+b+"=")||document.cookie.indexOf(b+"=")===0)},d.setCookie=function(b){var G=b.cookieName+"="+b.cookieValue+";";b.attributes.forEach(function(y){G+=" "+y.key+"="+y.value+";"}),b.secure&&(G+=" Secure"),document.cookie=G},d.readCookie=function(b){var G,y,i=!1,V=null;return(i=typeof localStorage<"u"?!0:i)&&(V=localStorage.getItem(b)),i&&V!==null||(y=(G=b).length+1,V=typeof document<"u"&&document.cookie&&document.cookie.split(";").map(function(Ie){return Ie.trim()}).filter(function(Ie){return Ie.substring(0,y)==="".concat(G,"=")}).map(function(Ie){return decodeURIComponent(Ie.substring(y))})[0]||null),V},n.CookieHelper=d},{}],3:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Logger=n.LogLevel=void 0,(b=d=n.LogLevel||(n.LogLevel={})).Info="background: green;color: white;",b.Warning="background: orange;color: black",b.Error="background: red;color:white",Object.defineProperty(G.prototype,"isDebugging",{get:function(){var y;return this._debug===void 0&&(y=this.getUrlParam("debug").split(","),this._debug=y[0]==="true"||0<=y.indexOf(this._logKey.toLowerCase())),this._debug},enumerable:!1,configurable:!0}),G.prototype.info=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.warn=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.error=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.log=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.groupStart=function(y){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(y," - START -----"),this._normalStyle))},G.prototype.groupEnd=function(y){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},G.prototype.timeStart=function(y){var i="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(y);this.groupStart(y),console.time(i)},G.prototype.timeEnd=function(y){var i="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(y);this.groupEnd(y),console.timeEnd(i)},G.prototype.getUrlParam=function(y){return typeof document<"u"&&(y=y.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),y=new RegExp("[\\?&]"+y+"=([^&#]*)"),document)&&document.location&&document.location.search&&(y=y.exec(document.location.search))?y[1]:""};var d,b=G;function G(y,i,V,Ie){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=y||"",this._moduleVersion=i||"",this._logKey=V||(y==null?void 0:y.toLowerCase())||"",this._normalStyle=Ie||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),d.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),d.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),d.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),d.Info,this._normalStyle))}n.Logger=b},{}],4:[function(v,ae,n){"use strict";function d(b,G,y,i){var V=this;this.setMajorTo=b,this.setMinorTo=G,this.setRevisionTo=y,this.setFamilyTo=i,this.setfamily=function(Ie){return V.setFamilyTo=Ie,V},this.toString=function(){return"".concat(V.major,".").concat(V.minor.toString().padStart(2,"0"),".").concat(V.revision.toString().padStart(3,"0")," ").concat(V.family).trim()}}Object.defineProperty(n,"__esModule",{value:!0}),n.Version=void 0,Object.defineProperty(d.prototype,"major",{get:function(){var b;return(b=this.setMajorTo)!=null?b:0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"minor",{get:function(){var b;return(b=this.setMinorTo)!=null?b:0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"revision",{get:function(){var b;return(b=this.setRevisionTo)!=null?b:0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"family",{get:function(){var b;return(b=this.setFamilyTo)!=null?b:""},enumerable:!1,configurable:!0}),n.Version=d},{}],5:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getUrlParam=void 0,n.getUrlParam=function(d){return typeof document<"u"&&(d=d.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),d=new RegExp("[\\?&]"+d+"=([^&#]*)"),document)&&document.location&&document.location.search&&(d=d.exec(document.location.search))?d[1]:""}},{}],6:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setIsUSnowleb=n.setIsIntl=n.isUSnowleb=n.isIntl=n.isCanada=void 0;var d=v("./setHostAndPathNames"),b=v("./getUrlParam"),G=v("./Logger"),y=v("./variables"),i=new G.Logger(y.MODULE_NAME,y.MODULE_VERSION.toString(),y.MODULE_LOG_TAG,"color: coral; padding: 2px"),V=!1,Ie=!1,F=new Set(["US","CA"]),Fe=/^.*(edition|edition-m|arabic|nowlebespanol|nowlebe-test)\.nowleb.com/;n.isCanada=function(){var Ee;return(Ee=(Ee=(Ee=window.WM)==null?void 0:Ee.UserConsent)==null?void 0:Ee.getGeoCountry())!=null?Ee:y.countryCode},n.isIntl=function(){var Ee=!1,Te=(0,d.setHostAndPathNames)(),fe=(fe=(fe=window.WM)==null?void 0:fe.UserConsent)!=null&&fe.getGeoCountry&&typeof((fe=(fe=window.WM)==null?void 0:fe.UserConsent)==null?void 0:fe.getGeoCountry)=="function"?(fe=(fe=window.WM)==null?void 0:fe.UserConsent)==null?void 0:fe.getGeoCountry():y.countryCode,Ae=(Ae=(Ae=window.WM)==null?void 0:Ae.UserConsent)!=null&&Ae.getGeoState&&typeof((Ae=(Ae=window.WM)==null?void 0:Ae.UserConsent)==null?void 0:Ae.getGeoState)=="function"?(Ae=(Ae=window.WM)==null?void 0:Ae.UserConsent)==null?void 0:Ae.getGeoState():"",be=0<=Te.search(/^(.*\.)?nowleb\.com$/);return be&&F.delete("CA"),i.log("Is nowleb:",be),i.log("Domestic Country Codes: ",Array.from(F)),i.log("UserConsent Location: ",{state:Ae,country:fe}),(0,b.getUrlParam)("isIntl")==="true"?(V||(V=!0,i.log("Faking international site. Using International PubIds.")),Ee=!0):0<=Te.search(Fe)?(V||(V=!0,i.log("Full international site. Using International PubIds.")),Ee=!0):fe===""||fe===null?(V||(V=!0,i.log("No country code. Using Domestic PubIds.")),Ee=!1):F.has(fe)?V||(V=!0,i.log("Domestic site or country code. Using Domestic PubIds."),Ee=!1):0<=Te.search(/^.*(money|\.nowleb)\./)?(0<=Te.search(/^.*us\.nowleb\.com/)&&(V||i.log("International user but domestic page.  Using alternate International PubIds if available."),Ie=!0),V||(V=!0,i.log("International country code. Using International PubIds.")),Ee=!0):0<=Te.search(/^.*us\.nowleb\.com/)?(V||(V=!0,i.log("International user but domestic page. Using alternate International PubIds if available.")),Ie=Ee=!0):(V||(V=!0,i.log("International country code but domestic site. Using International PubIds if available.")),Ee=!0),Ee},n.isUSnowleb=function(){return(0,n.isIntl)(),i.log("Is User on US.nowleb.COM? ",Ie),Ie},n.setIsIntl=n.isIntl,n.setIsUSnowleb=n.isUSnowleb},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":8,"./variables":9}],7:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.promiseWithTimeout=void 0,n.promiseWithTimeout=function(d,b,G){G===void 0&&(G="The promise timed out.");var y=new Promise(function(i,V){var Ie=setTimeout(function(){clearTimeout(Ie),V(G)},d)});return Promise.race([b,y])}},{}],8:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setHostAndPathNames=void 0,n.setHostAndPathNames=function(){var d=typeof document<"u"?document.createElement("a"):{href:"",hostname:"",pathname:""};return d.href=typeof document<"u"?document.location.href:"",d.hostname}},{}],9:[function(b,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.hasUserConsent=n.selectedEdition=n.locationServiceURL=n.countryCode=n.noop=n.toString=n.MODULE_LOG_TAG=n.MODULE_VERSION=n.MODULE_NAME=void 0;var d=b("./Version"),b=b("./CookieHelper"),G=Object.prototype;n.MODULE_NAME="Ad Utilities",n.MODULE_VERSION=new d.Version(5,0,102,"TS"),n.MODULE_LOG_TAG="utils",n.toString=G.toString,n.noop=function(){},n.countryCode=b.CookieHelper.readCookie("countryCode")||((G=(d=b.CookieHelper.readCookie("CG"))==null?void 0:d.substr(0,2))!=null?G:""),n.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",n.selectedEdition=(d=b.CookieHelper.readCookie("SelectedEdition"))!=null?d:"www",n.hasUserConsent=typeof window<"u"&&(window.WM&&window.WM.UserConsent||window.WBD&&window.WBD.UserConsent)||!1},{"./CookieHelper":2,"./Version":4}],10:[function(Ie,ae,n){"use strict";var d,b,G=this&&this.__extends||(d=function(Fe,Ee){return(d=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(Te,fe){Te.__proto__=fe}:function(Te,fe){for(var Ae in fe)Object.prototype.hasOwnProperty.call(fe,Ae)&&(Te[Ae]=fe[Ae])}))(Fe,Ee)},function(Fe,Ee){if(typeof Ee!="function"&&Ee!==null)throw new TypeError("Class extends value "+String(Ee)+" is not a constructor or null");function Te(){this.constructor=Fe}d(Fe,Ee),Fe.prototype=Ee===null?Object.create(Ee):(Te.prototype=Ee.prototype,new Te)}),y=(Object.defineProperty(n,"__esModule",{value:!0}),n.TransactionId=void 0,Ie("@turnercode/digital-ads-utilities/dist/AAdFuelModule")),i=Ie("@turnercode/digital-ads-utilities/dist/Version"),V=Ie("./version.json"),Ie=(b=y.AAdFuelModule,G(F,b),F.prototype.getTransactionID=function(){return window.nowlebad_transactionID||(window.nowlebad_transactionID=Math.round(new Date().getTime()/1e3)+""+Math.floor(9007199254740992*Math.random())),window.nowlebad_transactionID},F.prototype.init=function(){var Fe=this;return new Promise(function(Ee,Te){var fe;window.turner_getTransactionId=Fe.getTransactionID,window.nowlebad_getTransactionId=Fe.getTransactionID,typeof window.turner_getTransactionId!="function"?Fe.logger.warn("turner_getTransactionId failed."):(fe=window.turner_getTransactionId(),Fe.logger.info("Received: ".concat(fe)),window.AdFuel?(window.AdFuel.setModuleReady(Fe.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(Fe.MODULE_LOG_TAG),window.AdFuel.addPageLevelTarget("transId",fe)):document.addEventListener("AdFuelCreated",function(){window.AdFuel.setModuleReady(Fe.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(Fe.MODULE_LOG_TAG),window.AdFuel.addPageLevelTarget("transId",fe)}))})},F);function F(){return b.call(this,null,"TransactionId",new i.Version(V.major,V.minor,V.revision,V.family),"transid","color: #d2b000;padding: 2px;",y.ModuleFlags.EnableForDomestic|y.ModuleFlags.EnableForForeign|y.ModuleFlags.RunWithoutAdFuel)||this}new(n.TransactionId=Ie)},{"./version.json":11,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/Version":4}],11:[function(v,ae,n){ae.exports={family:"TS",major:5,minor:0,revision:13}},{}]},{},[10])(10)})});var fd=Ve((pd,sr)=>{(function(v){typeof pd=="object"&&typeof sr<"u"?sr.exports=v():typeof define=="function"&&define.amd?define([],v):(typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:this).Audience=v()})(function(){return function v(ae,n,d){function b(i,V){if(!n[i]){if(!ae[i]){var Ie=typeof ut=="function"&&ut;if(!V&&Ie)return Ie(i,!0);if(G)return G(i,!0);throw(V=new Error("Cannot find module '"+i+"'")).code="MODULE_NOT_FOUND",V}Ie=n[i]={exports:{}},ae[i][0].call(Ie.exports,function(F){return b(ae[i][1][F]||F)},Ie,Ie.exports,v,ae,n,d)}return n[i].exports}for(var G=typeof ut=="function"&&ut,y=0;y<d.length;y++)b(d[y]);return b}({1:[function(i,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AAdFuelModule=n.ModuleFlags=void 0;var d,b=i("./Logger"),G=i("./promiseWithTimeout"),y=i("./localization"),i=((i=d=n.ModuleFlags||(n.ModuleFlags={}))[i.None=0]="None",i[i.EnableForDomestic=1]="EnableForDomestic",i[i.EnableForForeign=2]="EnableForForeign",i[i.RunWithoutAdFuel=4]="RunWithoutAdFuel",i[i.RunWithoutConsent=8]="RunWithoutConsent",i[i.HasVideoAPI=16]="HasVideoAPI",i[i.DisableForCanada=32]="DisableForCanada",Object.defineProperty(V.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),V);function V(Ie,F,Fe,Ee,Te,fe,Ae,be){fe===void 0&&(fe=d.EnableForDomestic|d.EnableForForeign),Ae===void 0&&(Ae=["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);var t=this;this.config=Ie,this.MODULE_NAME=F,this.MODULE_VERSION=Fe,this.MODULE_LOG_TAG=Ee,this.logStyle=Te,this.moduleFlags=fe,this.consentTags=Ae,this.MODULE_VIDEO_API_KEY=be,this.adFuelExists=!!window.AdFuel,this.userConsentLib=((Ie=window.WM)==null?void 0:Ie.UserConsent)||((F=window.WBD)==null?void 0:F.UserConsent),this.environmentMatchesFlags=function(){return(0,y.isIntl)()?(!(0,y.isCanada)()||(t.moduleFlags&d.DisableForCanada)!==d.DisableForCanada)&&(t.moduleFlags&d.EnableForForeign)===d.EnableForForeign:(t.moduleFlags&d.EnableForDomestic)===d.EnableForDomestic},this.callInit=function(){t.logger.log("Waiting for UserConsent..."),t.waitForUserConsent().then(function(){var le;t.logger.log("Checking Module Flags...",t.moduleFlags),(t.moduleFlags&d.RunWithoutConsent)==d.RunWithoutConsent||(le=t.userConsentLib)!=null&&le.inUserConsentState(t.consentTags,{id:t.MODULE_NAME})?(t.moduleFlags&&d.RunWithoutAdFuel)==d.RunWithoutAdFuel?((le=window.AdFuel)!=null&&le.registerModule(t)||document.addEventListener("AdFuelCreated",function(){var s;t.logger.log("Registering with AdFuel..."),(s=window.AdFuel)!=null&&s.registerModule(t)}),t.logger.log("Checking Environment..."),t.environmentMatchesFlags()?(t.logger.log("Calling Init..."),t.init().then(function(){var s;window.AdFuel?(t.logger.log("Setting Module Loaded..."),(s=window.AdFuel)!=null&&s.setModuleLoaded(t.MODULE_LOG_TAG)):(t.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var $;t.logger.log("Setting Module Loaded..."),($=window.AdFuel)!=null&&$.setModuleLoaded(t.MODULE_LOG_TAG)}))})):(t.logger.warn("Not initializing ".concat(t.MODULE_NAME," for environmental reasons."),t.moduleFlags),window.AdFuel?(window.AdFuel.setModuleReady(t.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(t.MODULE_LOG_TAG)):document.addEventListener("AdFuelCreated",function(){window.AdFuel.setModuleReady(t.MODULE_LOG_TAG),window.AdFuel.setModuleLoaded(t.MODULE_LOG_TAG)}))):(t.logger.log("Waiting for AdFuel..."),t.waitForAdFuel().then(function(){var s;(s=window.AdFuel)!=null&&s.registerModule(t)||document.addEventListener("AdFuelCreated",function(){var $;t.logger.log("Registering with AdFuel..."),($=window.AdFuel)!=null&&$.registerModule(t)}),t.logger.log("Checking Environment..."),t.environmentMatchesFlags()?(t.logger.log("Calling Init..."),t.init().then(function(){var $;window.AdFuel?(t.logger.log("Setting Module Loaded..."),($=window.AdFuel)!=null&&$.setModuleLoaded(t.MODULE_LOG_TAG)):(t.logger.log("Waiting for AdFuelCreated..."),document.addEventListener("AdFuelCreated",function(){var a;t.logger.log("Setting Module Loaded..."),(a=window.AdFuel)!=null&&a.setModuleLoaded(t.MODULE_LOG_TAG)}))})):t.logger.warn("Not initializing ".concat(t.MODULE_NAME," for environmental reasons."),t.moduleFlags)}).catch(function(s){t.logger.warn("".concat(t.MODULE_NAME," errored waiting for AdFuel."),s)})):(t.logger.info("User consent is not granted.",(le=t.userConsentLib)==null?void 0:le.inUserConsentState(t.consentTags)),(le=window.AdFuel)!=null&&le.setModuleLoaded(t.MODULE_LOG_TAG))}).catch(function(le){t.logger.warn("".concat(t.MODULE_NAME," errored waiting for consent."),le)})},this.waitForAdFuel=function(){return(t.moduleFlags&d.RunWithoutAdFuel)===d.RunWithoutAdFuel?Promise.resolve():(0,G.promiseWithTimeout)(5e3,new Promise(function(le){window.AdFuel?le():document.addEventListener("AdFuelCreated",function(){le()})}))},this.waitForUserConsent=function(){return!t.userConsentLib||(t.moduleFlags&d.RunWithoutConsent)==d.RunWithoutConsent?Promise.resolve():(0,G.promiseWithTimeout)(5e3,new Promise(function(le){var s;t._logger.log("Consent Promise with Timeout..."),(s=t.userConsentLib)!=null&&s.isReady()?(t._logger.log("Consent Is Ready..."),(s=t.userConsentLib)!=null&&s.isInRegion("gdpr")?(t._logger.log("Region is GDPR..."),(s=((s=t.userConsentLib)==null?void 0:s.isOneTrustLoaded())&&!((s=t.userConsentLib)!=null&&s.isOneTrustFailing()))!=null&&s?(t._logger.log("Optanon is Loaded..."),le()):(t._logger.log("Waiting for OneTrust..."),document.addEventListener("oneTrustLoaded",function(){t._logger.log("OneTrust is Loaded..."),le()}),document.addEventListener("oneTrustFailed",function(){t._logger.error("OneTrust Failed To Load..."),le()}),document.addEventListener("oneTrustBlocked",function(){t._logger.error("OneTrust Loading Was Blocked..."),le()}))):(t._logger.log("Region is not GDPR..."),le())):t.userConsentLib?(console.log("Waiting for UserConsent..."),document.addEventListener("userConsentReady",function(){console.log("Consent Is Ready..."),le()})):(console.log("No User Consent..."),le())}))},this._logger=new b.Logger(this.MODULE_NAME,this.MODULE_VERSION.toString(),this.MODULE_LOG_TAG,this.logStyle),this.callInit()}n.AAdFuelModule=i},{"./Logger":3,"./localization":6,"./promiseWithTimeout":7}],2:[function(v,ae,n){"use strict";function d(){}Object.defineProperty(n,"__esModule",{value:!0}),n.CookieHelper=void 0,d.hasCookie=function(b){return typeof window<"u"&&!(!document||!document.cookie)&&(0<=document.cookie.indexOf("; "+b+"=")||document.cookie.indexOf(b+"=")===0)},d.setCookie=function(b){var G=b.cookieName+"="+b.cookieValue+";";b.attributes.forEach(function(y){G+=" "+y.key+"="+y.value+";"}),b.secure&&(G+=" Secure"),document.cookie=G},d.readCookie=function(b){var G,y,i=!1,V=null;return(i=typeof localStorage<"u"?!0:i)&&(V=localStorage.getItem(b)),i&&V!==null||(y=(G=b).length+1,V=typeof document<"u"&&document.cookie&&document.cookie.split(";").map(function(Ie){return Ie.trim()}).filter(function(Ie){return Ie.substring(0,y)==="".concat(G,"=")}).map(function(Ie){return decodeURIComponent(Ie.substring(y))})[0]||null),V},n.CookieHelper=d},{}],3:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Logger=n.LogLevel=void 0,(b=d=n.LogLevel||(n.LogLevel={})).Info="background: green;color: white;",b.Warning="background: orange;color: black",b.Error="background: red;color:white",Object.defineProperty(G.prototype,"isDebugging",{get:function(){var y;return this._debug===void 0&&(y=this.getUrlParam("debug").split(","),this._debug=y[0]==="true"||0<=y.indexOf(this._logKey.toLowerCase())),this._debug},enumerable:!1,configurable:!0}),G.prototype.info=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.warn=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.error=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.log=function(y){for(var i=1;i<arguments.length;i++)i-1},G.prototype.groupStart=function(y){this.isDebugging&&!this._inGroup&&(this._inGroup=!0,console.groupCollapsed("%c[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] ").concat(y," - START -----"),this._normalStyle))},G.prototype.groupEnd=function(y){this.isDebugging&&this._inGroup&&(this._inGroup=!1,console.groupEnd())},G.prototype.timeStart=function(y){var i="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(y);this.groupStart(y),console.time(i)},G.prototype.timeEnd=function(y){var i="[ ".concat(this._moduleName," ").concat(this._moduleVersion," ] - ").concat(y);this.groupEnd(y),console.timeEnd(i)},G.prototype.getUrlParam=function(y){return typeof document<"u"&&(y=y.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),y=new RegExp("[\\?&]"+y+"=([^&#]*)"),document)&&document.location&&document.location.search&&(y=y.exec(document.location.search))?y[1]:""};var d,b=G;function G(y,i,V,Ie){this._defaultNormalStyle=["background: inherit","color: inherit"].join(";"),this._inGroup=!1,this._moduleName="",this._moduleVersion="",this._logKey="",this._normalStyle=this._defaultNormalStyle,this._debug=void 0,this._moduleName=y||"",this._moduleVersion=i||"",this._logKey=V||(y==null?void 0:y.toLowerCase())||"",this._normalStyle=Ie||this._defaultNormalStyle,this.isDebugging&&(this.info=console.info.bind(console.info,"%c --- %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),d.Info,this._normalStyle),this.warn=console.warn.bind(console.warn,"%c >>> %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),d.Warning,this._normalStyle),this.error=console.error.bind(console.error,"%c !!! %c[".concat(this._moduleName," ").concat(this._moduleVersion,"] "),d.Error,this._normalStyle),this.log=console.log.bind(console,"%c     %c[".concat(this._moduleName," ").concat(this._moduleVersion,"]"),d.Info,this._normalStyle))}n.Logger=b},{}],4:[function(v,ae,n){"use strict";function d(b,G,y,i){var V=this;this.setMajorTo=b,this.setMinorTo=G,this.setRevisionTo=y,this.setFamilyTo=i,this.setfamily=function(Ie){return V.setFamilyTo=Ie,V},this.toString=function(){return"".concat(V.major,".").concat(V.minor.toString().padStart(2,"0"),".").concat(V.revision.toString().padStart(3,"0")," ").concat(V.family).trim()}}Object.defineProperty(n,"__esModule",{value:!0}),n.Version=void 0,Object.defineProperty(d.prototype,"major",{get:function(){var b;return(b=this.setMajorTo)!=null?b:0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"minor",{get:function(){var b;return(b=this.setMinorTo)!=null?b:0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"revision",{get:function(){var b;return(b=this.setRevisionTo)!=null?b:0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"family",{get:function(){var b;return(b=this.setFamilyTo)!=null?b:""},enumerable:!1,configurable:!0}),n.Version=d},{}],5:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getUrlParam=void 0,n.getUrlParam=function(d){return typeof document<"u"&&(d=d.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),d=new RegExp("[\\?&]"+d+"=([^&#]*)"),document)&&document.location&&document.location.search&&(d=d.exec(document.location.search))?d[1]:""}},{}],6:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setIsUSnowleb=n.setIsIntl=n.isUSnowleb=n.isIntl=n.isCanada=void 0;var d=v("./setHostAndPathNames"),b=v("./getUrlParam"),G=v("./Logger"),y=v("./variables"),i=new G.Logger(y.MODULE_NAME,y.MODULE_VERSION.toString(),y.MODULE_LOG_TAG,"color: coral; padding: 2px"),V=!1,Ie=!1,F=new Set(["US","CA"]),Fe=/^.*(edition|edition-m|arabic|nowlebespanol|nowlebe-test)\.nowleb.com/;n.isCanada=function(){var Ee;return(Ee=(Ee=(Ee=window.WM)==null?void 0:Ee.UserConsent)==null?void 0:Ee.getGeoCountry())!=null?Ee:y.countryCode},n.isIntl=function(){var Ee=!1,Te=(0,d.setHostAndPathNames)(),fe=(fe=(fe=window.WM)==null?void 0:fe.UserConsent)!=null&&fe.getGeoCountry&&typeof((fe=(fe=window.WM)==null?void 0:fe.UserConsent)==null?void 0:fe.getGeoCountry)=="function"?(fe=(fe=window.WM)==null?void 0:fe.UserConsent)==null?void 0:fe.getGeoCountry():y.countryCode,Ae=(Ae=(Ae=window.WM)==null?void 0:Ae.UserConsent)!=null&&Ae.getGeoState&&typeof((Ae=(Ae=window.WM)==null?void 0:Ae.UserConsent)==null?void 0:Ae.getGeoState)=="function"?(Ae=(Ae=window.WM)==null?void 0:Ae.UserConsent)==null?void 0:Ae.getGeoState():"",be=0<=Te.search(/^(.*\.)?nowleb\.com$/);return be&&F.delete("CA"),i.log("Is nowleb:",be),i.log("Domestic Country Codes: ",Array.from(F)),i.log("UserConsent Location: ",{state:Ae,country:fe}),(0,b.getUrlParam)("isIntl")==="true"?(V||(V=!0,i.log("Faking international site. Using International PubIds.")),Ee=!0):0<=Te.search(Fe)?(V||(V=!0,i.log("Full international site. Using International PubIds.")),Ee=!0):fe===""||fe===null?(V||(V=!0,i.log("No country code. Using Domestic PubIds.")),Ee=!1):F.has(fe)?V||(V=!0,i.log("Domestic site or country code. Using Domestic PubIds."),Ee=!1):0<=Te.search(/^.*(money|\.nowleb)\./)?(0<=Te.search(/^.*us\.nowleb\.com/)&&(V||i.log("International user but domestic page.  Using alternate International PubIds if available."),Ie=!0),V||(V=!0,i.log("International country code. Using International PubIds.")),Ee=!0):0<=Te.search(/^.*us\.nowleb\.com/)?(V||(V=!0,i.log("International user but domestic page. Using alternate International PubIds if available.")),Ie=Ee=!0):(V||(V=!0,i.log("International country code but domestic site. Using International PubIds if available.")),Ee=!0),Ee},n.isUSnowleb=function(){return(0,n.isIntl)(),i.log("Is User on US.nowleb.COM? ",Ie),Ie},n.setIsIntl=n.isIntl,n.setIsUSnowleb=n.isUSnowleb},{"./Logger":3,"./getUrlParam":5,"./setHostAndPathNames":8,"./variables":9}],7:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.promiseWithTimeout=void 0,n.promiseWithTimeout=function(d,b,G){G===void 0&&(G="The promise timed out.");var y=new Promise(function(i,V){var Ie=setTimeout(function(){clearTimeout(Ie),V(G)},d)});return Promise.race([b,y])}},{}],8:[function(v,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setHostAndPathNames=void 0,n.setHostAndPathNames=function(){var d=typeof document<"u"?document.createElement("a"):{href:"",hostname:"",pathname:""};return d.href=typeof document<"u"?document.location.href:"",d.hostname}},{}],9:[function(b,ae,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.hasUserConsent=n.selectedEdition=n.locationServiceURL=n.countryCode=n.noop=n.toString=n.MODULE_LOG_TAG=n.MODULE_VERSION=n.MODULE_NAME=void 0;var d=b("./Version"),b=b("./CookieHelper"),G=Object.prototype;n.MODULE_NAME="Ad Utilities",n.MODULE_VERSION=new d.Version(5,0,102,"TS"),n.MODULE_LOG_TAG="utils",n.toString=G.toString,n.noop=function(){},n.countryCode=b.CookieHelper.readCookie("countryCode")||((G=(d=b.CookieHelper.readCookie("CG"))==null?void 0:d.substr(0,2))!=null?G:""),n.locationServiceURL="https://geo.ngtv.io/locate?appId=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",n.selectedEdition=(d=b.CookieHelper.readCookie("SelectedEdition"))!=null?d:"www",n.hasUserConsent=typeof window<"u"&&(window.WM&&window.WM.UserConsent||window.WBD&&window.WBD.UserConsent)||!1},{"./CookieHelper":2,"./Version":4}],10:[function(Te,ae,n){"use strict";var d,b,G=this&&this.__extends||(d=function(be,t){return(d=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(le,s){le.__proto__=s}:function(le,s){for(var $ in s)Object.prototype.hasOwnProperty.call(s,$)&&(le[$]=s[$])}))(be,t)},function(be,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function le(){this.constructor=be}d(be,t),be.prototype=t===null?Object.create(t):(le.prototype=t.prototype,new le)}),y=(Object.defineProperty(n,"__esModule",{value:!0}),n.Audience=void 0,Te("@turnercode/digital-ads-utilities/dist/AAdFuelModule")),i=Te("@turnercode/digital-ads-utilities/dist/localization"),V=Te("@turnercode/digital-ads-utilities/dist/Version"),Ie=Te("@turnercode/digital-ads-utilities/dist/getUrlParam"),F=Te("@turnercode/digital-ads-utilities/dist/CookieHelper"),Fe=Te("./version.json"),Ee=["data-store","data-share","data-sell","ads-contextual","ads-person-prof","ads-person","vendor"],Te=(b=y.AAdFuelModule,G(fe,b),fe);function fe(be){var t=b.call(this,be,"Audience and User Identity Module",new V.Version(Fe.major,Fe.minor,Fe.revision,Fe.family),"aui","color: #d2b000; padding: 2px",y.ModuleFlags.RunWithoutAdFuel|y.ModuleFlags.EnableForDomestic|y.ModuleFlags.EnableForForeign,Ee)||this;return t.config=be,t.enabled=!0,t.ssaiActive=!1,t.cookieDomainArray=["nowleb.com","nowleb.com"],t.domainRegex=/.*?\.(.*?\..*?)$/,t.flagsAreSet=!1,t.datidIsSet=!1,t.ukidIsSet=!1,t.init=function(){return new Promise(function(le,s){var $,a;t.logger.info("Initializing Audience and User Identity Module..."),t.enabled&&(t.logger.info("Initializing Module: ",t.config),t.cookieDomainArray=t.domainRegex.exec(window.location.hostname)||[],t.logger.info("Cookie Domain Array: ",t.cookieDomainArray),t.cookieDomain=t.cookieDomainArray&&0<t.cookieDomainArray.length&&t.cookieDomainArray[1]||"nowleb.com",a=t.cookieDomain.match(/\./g),t.logger.info("Dot Matches: ",{dotMatches:a,length:a==null?void 0:a.length}),t.audienceDomain=t.cookieDomainArray.input||t.cookieDomainArray[0]||"nowleb.com",t.audienceDomain.includes("beam.discomax.com")&&($=t.audienceDomain.split("."),t.logger.info("aTemp: ",$),$=$.slice(Math.max($.length-4,0)),t.logger.info("aDomainTemp: ",$),t.audienceDomain=$.join(".").replace("beam","api")),a&&1<a.length&&(a=($=t.cookieDomain.split(".")).slice(Math.max($.length-2,0)),t.logger.info("cDomainTemp: ",a),t.cookieDomain=a.join(".")),t.logger.info("Cookie Domain: ",t.cookieDomain),t.logger.info("Audience Domain: ",t.audienceDomain),window.WM=window.WM||{},window.WM.getDatIdTargeting=t.getDatIdTargeting.bind(t),window.WM.getAllCDPFlags=t.getAllCDPFlags.bind(t),window.WM.buildCDPFlags=t.buildCDPFlags.bind(t),((0,i.isIntl)()&&t.config.SITE_VENDORS.INTL.includes("ID5")||!(0,i.isIntl)()&&t.config.SITE_VENDORS.DOM.includes("ID5"))&&(t.logger.log("Adding ID5 ESP Config Partner ID"),window.ID5EspConfig={partnerId:963}),t.getDatIdTargeting(),window.AdFuel?window.AdFuel.setModuleReady(t.MODULE_LOG_TAG):document.addEventListener("AdFuelCreated",function(){window.AdFuel.setModuleReady(t.MODULE_LOG_TAG)}),t.addScripts(),le())})},t.start=function(){return new Promise(function(le,s){window.WM.getUMTOCookies=t.getUMTOCookies,window.AdFuelUtils=window.AdFuelUtils||{},window.AdFuelUtils.getUMTOCookies=t.getUMTOCookies,le()})},t.buildCDPFlags=function(le,s,$){return le=F.CookieHelper.readCookie(le)==="true"?"t":"f",s=F.CookieHelper.readCookie(s)==="true"?"t":"f",$=F.CookieHelper.readCookie($)?"t":"f","".concat(le).concat(s).concat($)},t.getAllCDPFlags=function(){var le=[];return le.push("lr"+t.buildCDPFlags("isInAuthTokenExperiment","sendAuthToken2","tok_lr2")),le.filter(function(s){return!s.includes("xxf")}).join("-")},t.buildFlag=function(le){t.logger.info("Building Flag for Cookie: ",le);var s="f";return s=le.send&&typeof le.id=="string"&&F.CookieHelper.hasCookie(le.id)&&1<=(F.CookieHelper.readCookie(le.id)||"").length?"t":s},t.getFlags=function(){var le=[{name:"LiveRamp",id:"tok_lr2",send:!(0,i.isIntl)()},{name:"The Trade Desk UID",id:"glp_ggw",send:!0}],s=[""];return le.forEach(function($){s.push(t.buildFlag($))}),t.logger.info("Assembling Flags: ",s),"".concat(s.join(""))},t.getDatIdTargeting=function(){return F.CookieHelper.hasCookie("datid")&&F.CookieHelper.readCookie("datid")!==null?(t.logger.info("Setting datid",{datid:F.CookieHelper.readCookie("datid")}),t.datid=F.CookieHelper.readCookie("datid")||"",window.WM.getDatId=function(){return F.CookieHelper.readCookie("datid")},{datid:t.datid}):F.CookieHelper.hasCookie("WMUKID_STABLE")&&F.CookieHelper.readCookie("WMUKID_STABLE")!==null?(t.logger.info("Setting datid to WMUKID_STABLE",{ukid:F.CookieHelper.readCookie("WMUKID_STABLE")}),t.datid=F.CookieHelper.readCookie("WMUKID_STABLE")||"",window.WM.getDatId=function(){return F.CookieHelper.readCookie("WMUKID_STABLE")},{datid:t.datid}):(t.logger.info("Could not find datid or WMUKID_STABLE"),{datid:""})},t.getUMTOCookies=function(){var le=((le=(le=window.WM)==null?void 0:le.UserConsent)==null?void 0:le.getRegion())!=="global"||!1,s=((s=(s=window.WM)==null?void 0:s.UserConsent)==null?void 0:s.isInGdprRegion())||!1,$=(($=($=window.WM)==null?void 0:$.UserConsent)==null?void 0:$.getUserConsentAdvertisingState())||!1,a=((a=(a=window.WM)==null?void 0:a.UserConsent)==null?void 0:a.isOneTrustLoaded())||!1,o=[];return t.logger.log("Checking consent..."),le&&(s&&a||!s)&&$||!le?(t.logger.log("Getting UMTO cookies"),t.logger.log("sendHHID: ",F.CookieHelper.readCookie("sendHHID")),t.logger.log("HHID: ",F.CookieHelper.readCookie("wmhhid")),F.CookieHelper.readCookie("sendHHID")==="true"&&F.CookieHelper.hasCookie("wmhhid")&&F.CookieHelper.readCookie("wmhhid")!==null&&F.CookieHelper.readCookie("wmhhid"),F.CookieHelper.readCookie("bea4")?o.push("_fw_vcid2="+F.CookieHelper.readCookie("bea4")):F.CookieHelper.readCookie("bea4r")&&o.push("_fw_vcid2="+F.CookieHelper.readCookie("bea4r")),F.CookieHelper.readCookie("glp_ggw")&&(t.logger.log("The Trade Desk UID 2.0: ",F.CookieHelper.readCookie("glp_ggw")),o.push("_fw_3P_uid=UID2:"+F.CookieHelper.readCookie("glp_ggw"))),F.CookieHelper.readCookie("zwmc")&&o.push("zwmc="+F.CookieHelper.readCookie("zwmc")),F.CookieHelper.readCookie("ifyr")&&o.push("ifyr="+F.CookieHelper.readCookie("ifyr")),F.CookieHelper.readCookie("hkgc")&&o.push("hkgc="+F.CookieHelper.readCookie("hkgc")),F.CookieHelper.readCookie("goiz")&&o.push("goiz="+F.CookieHelper.readCookie("goiz")),F.CookieHelper.readCookie("kfyn")&&o.push("kfyn="+F.CookieHelper.readCookie("kfyn")),(F.CookieHelper.readCookie("datid")||F.CookieHelper.readCookie("WMUKID_STABLE"))&&(F.CookieHelper.readCookie("datid")?(t.logger.log("Pushing vcid as datid: ",F.CookieHelper.readCookie("datid")),o.push("vcid="+F.CookieHelper.readCookie("datid")),o.push("wmuk="+F.CookieHelper.readCookie("datid"))):F.CookieHelper.readCookie("WMUKID_STABLE")&&(t.logger.log("Pushing vcid as WMUKID_STABLE: ",F.CookieHelper.readCookie("WMUKID_STABLE")),o.push("vcid="+F.CookieHelper.readCookie("WMUKID_STABLE")),o.push("wmuk="+F.CookieHelper.readCookie("WMUKID_STABLE"))))):t.logger.log("No consent.  You shall have no cookies."),o.join("&")},t.isString=function(le){return Object.prototype.toString.call(le)==="[object String]"},t.isURIEncoded=function(le){return!!t.isString(le)&&decodeURIComponent(le)!==le},t.addScripts=function(){var le;t.ssaiActive||(document.readyState==="complete"?(t.addSSAIJavascript(),t.addUMTOCookie(),t.addFWCookie()):(le=t,document.onreadystatechange=function(){document.readyState==="complete"&&(le.addSSAIJavascript(),le.addUMTOCookie(),le.addFWCookie())}))},t.setLiveRampCookie=function(le){le={cookieName:"orev",cookieValue:le,attributes:[{key:"expires",value:new Date(Date.now()+936e5).toUTCString()},{key:"path",value:"/"}],secure:!0},F.CookieHelper.setCookie(le)},t.addLiveRampFreewheelPixel=function(le,s){var $;le!==null&&(le="https://idsync.rlcdn.com/712348.gif?partner_uid=".concat(le),($=document.createElement("script")).src=le,document.head.appendChild($),s==="G"?t.setLiveRampCookie("B"):t.setLiveRampCookie("F"))},t.addLiveRampGAMPixel=function(le,s,$){le===null&&s===null||(le="https://idsync.rlcdn.com/712551.gif?partner_uid=".concat(le||s),(s=document.createElement("script")).src=le,document.head.appendChild(s),$==="F"?t.setLiveRampCookie("B"):t.setLiveRampCookie("G"))},t.processVendor=function(le){var s,$,a,o=t.config.VENDORS[le];le==="LiveRamp"?(a=F.CookieHelper.hasCookie("orev")?F.CookieHelper.readCookie("orev"):"X",F.CookieHelper.hasCookie("bea4")&&a!=="F"&&a!=="B"&&(t.logger.log("Adding LiveRamp Freewheel Pixel..."),t.addLiveRampFreewheelPixel(F.CookieHelper.readCookie("bea4"),a)),a!=="G"&&a!=="B"&&(t.logger.log("Adding LiveRamp GAM Pixel..."),t.addLiveRampGAMPixel(F.CookieHelper.readCookie("datid"),F.CookieHelper.readCookie("WMUKID_STABLE"),a))):o&&o.COOKIE_NAME&&(!F.CookieHelper.hasCookie("umto")||F.CookieHelper.hasCookie("umto")&&!F.CookieHelper.hasCookie(o.COOKIE_NAME))&&t.cookieDomain!==null&&(t.logger.log("Adding SSAI tag for "+le+" ..."),le==="SpotX"?t.addSpotXCookie(o):le==="AppNexus"?((s=document.createElement("img")).src=o.URL.replace("umto.{{domain}}","umto.".concat(t.audienceDomain)),s.src=s.src.replace(/{{domain}}/g,"".concat(t.cookieDomain)),s.setAttribute("style","display: none"),document.getElementsByTagName("body")[0].appendChild(s)):le==="PubMatic"?t.addPubMaticUserSync(o):(le==="Freewheel"?(a=(a=o.URL.replace("umto.{{domain}}","umto.".concat(t.audienceDomain))).replace(/{{domain}}/g,t.cookieDomain),t.isURIEncoded(a)||(($=a.split("?"))[$.length-1]=encodeURIComponent($[$.length-1]),a=$.join("?").replace("user-sync?","user-sync%3F")),(s=document.createElement("img")).src=a):le==="Rubicon"?(($=t.audienceDomain.match(/(.*?)\..*?$/))!=null&&($=$[1]),(s=document.createElement("img")).src=o.URL.replace(/{{brand}}/g,$)):le==="Telaria"?((s=document.createElement("img")).src=o.URL.replace("umto.{{domain}}","umto.".concat(t.audienceDomain)),s.src=s.src.replace(/{{domain}}/g,t.cookieDomain).replace("&domain","%26domain")):((s=document.createElement("img")).src=o.URL.replace("umto.{{domain}}","umto.".concat(t.audienceDomain)),s.src=s.src.replace(/{{domain}}/g,t.cookieDomain)),s.setAttribute("style","display: none"),document.getElementsByTagName("body")[0].appendChild(s)),t.logger.log("Added SSAI pixel for "+le))},t.addSSAIJavascript=function(){t.logger.log("Site Vendors: ",t.config);var le=t.config.SITE_VENDORS,s=(0,Ie.getUrlParam)("forcePubMatic");console.log("Forcing PubMatic: ",s),s&&le.indexOf("PubMatic")<0&&(t.logger.log("PRE- Forcing PubMatic SSAI Vendor Configuration...",{siteVendors:le,config:t.config.VENDORS.PubMatic}),le.push("PubMatic"),t.config.VENDORS.PubMatic=t.config.VENDORS.PubMatic||{URL:"https://ads.pubmatic.com/AdServer/js/userSync.js",COOKIE_NAME:"kfyn"},t.logger.log("POST- Forcing PubMatic SSAI Vendor Configuration...",{siteVendors:le,config:t.config.VENDORS.PubMatic})),(0,i.isIntl)()?le.INTL.forEach(function($){t.processVendor($)}):le.DOM.forEach(function($){t.processVendor($)}),t.ssaiActive=!0},t.addPubMaticUserSync=function(le,o){o===void 0&&(o={PUBLISHER_ID:{DOM:"161163",INTL:"161163"}});var $="https://image8.pubmatic.com/AdServer/ImgSync?p={{publisherId}}&gdpr={{gdpr}}&gdpr_consent={{gdprConsent}}&us_privacy={{usPrivacy}}&pu=",a=($=($=($=($=$.replace(/{{publisherId}}/g,(0,i.isIntl)()?o.PUBLISHER_ID.INTL:o.PUBLISHER_ID.DOM)).replace(/{{gdprConsent}}/g,(a=(a=window.WM)==null?void 0:a.UserConsent)!=null&&a.isInGdprRegion()?(a=window.WM)==null?void 0:a.UserConsent.getTcfAPIstring():"")).replace(/{{gdpr}}/g,(a=(a=window.WM)==null?void 0:a.UserConsent)!=null&&a.isInGdprRegion()?"1":"0")).replace(/{{usPrivacy}}/g,(a=(a=window.WM)==null?void 0:a.UserConsent)!=null&&a.isInCcpaRegion()?window.WM&&window.WM.UserConsent?window.WM.UserConsent.getUspAPIstring():"1YNN":""),"https://image4.pubmatic.com/AdServer/SPug?p={{publisherId}}&mpc=4&fp=1&pmc=PM_PMC&&pr="),a="https://image4.pubmatic.com/AdServer/SPug?p={{publisherId}}&mpc=4&fp=1&pmc=PM_PMC&&pr=".replace(/{{publisherId}}/g,(0,i.isIntl)()?o.PUBLISHER_ID.INTL:o.PUBLISHER_ID.DOM),o="https://umto.{{brand}}/user-sync?domain={{brand}}&{{cookieName}}=#PMUID",o=(o=(o=(o=o.replace(/umto\.{{brand}}/g,t.audienceDomain)).replace(/{{brand}}/g,t.cookieDomain)).replace(/{{cookieName}}/g,le.COOKIE_NAME),a+=encodeURIComponent(o),$+=encodeURIComponent(a),(le=t.logger)!=null&&le.log("Adding PubMatic Pixel: ",$),document.createElement("img"));o.src=$,o.setAttribute("style","display: none"),document.getElementsByTagName("body")[0].appendChild(o)},t.addSpotXCookie=function(le){var s=new XMLHttpRequest;s.onreadystatechange=function(){var $,a;s.readyState===4&&(a=void 0,s.status===200?(a=JSON.parse(s.response).audience_id,$=new Date(Date.now()+31536e6),a={cookieName:le.COOKIE_NAME,cookieValue:a,attributes:[{key:"expires",value:$.toUTCString()},{key:"path",value:"/"}],secure:!0},F.CookieHelper.setCookie(a)):s.status===204?t.logger.log("Not able to check cookie, no audience_id returned"):t.logger.log("No audience_id available"))},s.open("GET",le.URL),s.withCredentials=!0,s.send()},t.addFWCookie=function(){var le,s,$=t.config.VENDORS.Freewheel,a=document.cookie.match(/bea4r?=.*?;/),o=document.cookie.match(/ug=.*?;/);!a&&o&&(a=o[0].replace(/(ug=|;)*/,""),o=Math.pow(16,6),le=Math.pow(16,8),a=a.slice(14),s=Date.now(),le=(Math.ceil(s/1e3)%le).toString(16).slice(0,8),o=(s%o).toString(16).slice(0,6),s=new Date(s+31536e6),$={cookieName:$.COOKIE_NAME+"r",cookieValue:le+o+a,attributes:[{key:"expires",value:s.toUTCString()},{key:"path",value:"/"}],secure:!0},F.CookieHelper.setCookie($))},t.addUMTOCookie=function(){t.logger.log("Adding UMTO Cookie...");var le={cookieName:"umto",cookieValue:1,attributes:[{key:"expires",value:new Date(Date.now()+936e5).toUTCString()},{key:"path",value:"/"},{key:"Domain",value:t.cookieDomain},{key:"SameSite",value:"None"}],secure:!0};F.CookieHelper.setCookie(le),t.logger.log("Added UMTO Cookie.")},t.preQueue=function(){return new Promise(function(le,s){function $(){var o,r=t.getDatIdTargeting(),e=(t.logger.log("Checking for targeting..."),t.getFlags());!t.datidIsSet&&r.datid&&(t.logger.info("Setting PPID: ",r.datid),(o=window.googletag)!=null&&o.pubads().setPublisherProvidedId(r.datid),t.datidIsSet=!0),!t.ukidIsSet&&r.datid&&(t.logger.info("Setting wmuk: ",r.datid),(o=window.googletag)!=null&&o.pubads().setTargeting("wmuk",r.datid),t.ukidIsSet=!0),!t.flagsAreSet&&0<e.length&&(t.logger.info("Setting flag targeting: ",e),(o=window.googletag)!=null&&o.pubads().setTargeting("kit_rw",e),t.flagsAreSet=!0),le({name:"Audience and User Identity"})}var a;window.googletag&&typeof window.googletag.pubads=="function"?$():(a=window.googletag)!=null&&a.cmd.push($)})},t.logger.info("Audience and User Identity Module constructed"),t}var Ae=new(n.Audience=Te)(((G=window.AdFuelOptions)==null?void 0:G.AUI)||window.AUIConfig);window.AdFuelUtils||(window.AdFuelUtils={}),window.AdFuelUtils.getUMTOCookies=function(){return Ae.getUMTOCookies()}},{"./version.json":11,"@turnercode/digital-ads-utilities/dist/AAdFuelModule":1,"@turnercode/digital-ads-utilities/dist/CookieHelper":2,"@turnercode/digital-ads-utilities/dist/Version":4,"@turnercode/digital-ads-utilities/dist/getUrlParam":5,"@turnercode/digital-ads-utilities/dist/localization":6}],11:[function(v,ae,n){ae.exports={family:"TS",major:2,minor:0,revision:18}},{}]},{},[10])(10)})});var xt=Ks();function r0(){let v=[],ae={};for(let[n,d]of Object.entries(ae))xt.get("TRINITY_CONFIGURATION.international.michonne.features.".concat(d))&&v.push(n);return v}function o0(v){let ae="default",n=xt.get("TRINITY_CONFIGURATION.international.michonne.ads.adfuelOptionsOverrides");return n&&n[ae]?{...v,...n}:v}var md={};md=xt.get("ADFUEL_CONFIGS.international");window.AdFuelOptions=o0(md);window.AdFuelOptions.ADFUEL.ACTIVE_MODULES=r0();xt.get("TRINITY_CONFIGURATION.international.michonne.features.enableIndexExchange")&&$s();xt.get("TRINITY_CONFIGURATION.international.michonne.features.enablePrebid")&&Qs();xt.get("TRINITY_CONFIGURATION.international.michonne.features.enableAmazonDisplayAds")&&ed();xt.get("TRINITY_CONFIGURATION.international.michonne.features.enableProximic")&&nd();var i0=xt.get("ENABLE_PERMUTIVE");i0&&od();xt.get("TRINITY_CONFIGURATION.international.michonne.features.enableIntegralAdScience")&&ad();xt.get("TRINITY_CONFIGURATION.international.michonne.features.enableFreewheelProgrammatic")&&dd();ld();gd();fd();})();
//# sourceMappingURL=nowleb-edition-adfuel.map
